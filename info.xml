<?xml version="1.0" ?>
<module xmlns="urn:dynacase:webinst:module/1.0"
        license="http://docs.anakeen.com/licenses/anakeen-3.0/license.html Anakeen License Agreement v3"
        name="security" release="0" version="1.0.0" vendor="Anakeen">
    <description>Security Package</description>
    <requires>
        <module name="user-interfaces"/>
    </requires>

    <pre-install>
    </pre-install>
    <post-install>

        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/FieldAccessLayer/fieldaccesslayer.struct.xml">
            <label>Field Access Layer</label>
        </process>

        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/FieldAccessLayerList/fieldaccesslayerlist.struct.xml">
            <label>Field Access Layer List</label>
        </process>

        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/Profiles/default-profil.xml">
            <label>Record default elements security</label>
        </process>

        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/Helppage/helppage.profil.xml">
            <label>Profiling helppage structure</label>
        </process>

        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/Iuser/iuser.profil.xml">
            <label>Profiling account structures</label>
        </process>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/Igroup/igroup.profil.xml">
            <label>Profiling account structures</label>
        </process>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/Profiles/system-profil.xml">
            <label>Profiling system structures</label>
        </process>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/Profiles/AuthentMailProfil.xml">
            <label>Profiling authent mail</label>
        </process>

        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/FieldAccessLayer/fieldaccesslayer.profil.xml">
            <label>Field Access Layer Security</label>
        </process>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/FieldAccessLayerList/fieldaccesslayerlist.profil.xml">
            <label>Field Access Layer List Security</label>
        </process>

        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/File/file.profil.xml">
            <label>Profiling File</label>
        </process>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/Image/image.profil.xml">
            <label>Profiling Image</label>
        </process>

        <process command="./ank.php --script=refreshUserAccount">
            <label>Update user account profile</label>
        </process>
        <process command="programs/resetAccess">
            <label>Reset Default Access</label>
        </process>
        <process command="./ank.php --script=refreshDocuments --famid=IUSER --method=store">
            <label>Reset Account Access</label>
        </process>
    </post-install>
    <post-upgrade>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/FieldAccessLayer/fieldaccesslayer.struct.xml">
            <label>Field Access Layer</label>
        </process>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/SmartStructures/FieldAccessLayerList/fieldaccesslayerlist.struct.xml">
            <label>Field Access Layer List</label>
        </process> <process command="programs/resetAccess">
        <label>Reset Default Access</label>
    </process>
    </post-upgrade>
</module>
