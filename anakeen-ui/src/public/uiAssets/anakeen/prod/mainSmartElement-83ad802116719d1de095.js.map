{"version":3,"sources":["webpack:///webpack/bootstrap 7b27e1d7634c7e9707a6","webpack:///./~/popper.js/dist/esm/popper.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/color/wColor.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/int/wInt.js","webpack:///./src/Apps/DOCUMENT/IHM/views/document/vDocument.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mAttribute.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/window/wDialog.js","webpack:///./src/Apps/DOCUMENT/IHM/views/workflow/vTransitionGraph.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mAttributeArray.js","webpack:///./src/Apps/DOCUMENT/IHM/controllerObjects/attributeInterface.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mDocumentProperties.js","webpack:///./~/backbone/backbone.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/window/wWindow.js","webpack:///./src/Apps/DOCUMENT/IHM/views/attributes/array/vArray.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/label/wLabel.js","webpack:///./src/Apps/DOCUMENT/IHM/i18n/documentCatalog.js","webpack:///./src/Apps/DOCUMENT/IHM/views/workflow/vTransition.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mFamilyStructure.js","webpack:///./src/Apps/DOCUMENT/IHM/views/document/menu/vMenu.js","webpack:///./src/Apps/DOCUMENT/IHM/views/attributes/array/vColumn.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mDocumentLock.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/array/wArray.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/window/wConfirm.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/longtext/wLongtext.js","webpack:///./src/Apps/DOCUMENT/IHM/views/attributes/tab/vTabLabel.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mAttributeStructural.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/time/wTime.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/window/wLoading.js","webpack:///./src/Apps/DOCUMENT/IHM/views/document/attributeTemplate.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/history/wRevisionDiff.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/text/wText.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/documentController/documentController.js","webpack:///./src/Apps/DOCUMENT/IHM/views/document/header/vHeader.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/history/wHistory.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/image/wImage.js","webpack:///./src/Apps/DOCUMENT/IHM/i18n/translatorFactory.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/timestamp/wTimestamp.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mAttributeData.js","webpack:///./src/Apps/DOCUMENT/IHM/controllerObjects/transitionInterface.js","webpack:///./src/Apps/DOCUMENT/IHM/collections/contentAttributes.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/window/wNotification.js","webpack:///./src/Apps/DOCUMENT/IHM/views/attributes/frame/vFrame.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/password/wPassword.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/menu/wMenu.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mMenu.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/enum/wEnum.js","webpack:///./~/underscore/underscore.js","webpack:///./src/Apps/DOCUMENT/IHM/mainDocument.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mTransitionGraph.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/htmltext/wHtmltext.js","webpack:///./~/kendo-ui-core/js/cultures/kendo.culture.fr-FR.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mDocument.js","webpack:///./src/Apps/DOCUMENT/IHM/controllerObjects/menuInterface.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/file/wFile.js","webpack:///./~/bootstrap/js/src/util.js","webpack:///./src/Apps/DOCUMENT/IHM/views/attributes/tab/vTabContent.js","webpack:///./~/bootstrap/js/src/tooltip.js","webpack:///./~/little-loader/lib/little-loader.js","webpack:///./~/mustache/mustache.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/date/wDate.js","webpack:///./~/css-loader/lib/css-base.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/wAttribute.js","webpack:///./src/Apps/DOCUMENT/IHM/controllerObjects/constraintHandler.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mDocumentTab.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/properties/wProperties.js","webpack:///./src/Apps/DOCUMENT/IHM/models/mTransition.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/double/wDouble.js","webpack:///external \"jQuery\"","webpack:///external \"kendo\"","webpack:///./src/Apps/DOCUMENT/IHM/widgets/widget.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/Apps/DOCUMENT/IHM/routers/router.js","webpack:///./src/Apps/DOCUMENT/IHM/collections/attributes.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/money/wMoney.js","webpack:///./src/Apps/DOCUMENT/IHM/views/attributes/vAttribute.js","webpack:///./src/Apps/DOCUMENT/IHM/widgets/attributes/docid/wDocid.js","webpack:///./src/Apps/DOCUMENT/IHM/collections/menus.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","parentJsonpFunction","window","chunkIds","moreModules","executeModules","chunkId","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","shift","mainSmartElement","e","onScriptComplete","script","onerror","onload","clearTimeout","timeout","chunk","Error","undefined","installedChunkData","Promise","resolve","promise","reject","head","document","getElementsByTagName","createElement","type","charset","async","nc","setAttribute","src","p","documentCkEditor","ensureDatatables","wCreateDocument","wDocument","setTimeout","appendChild","m","c","value","d","name","getter","o","defineProperty","configurable","enumerable","get","n","__esModule","object","property","oe","err","console","error","s","isFunction","functionToCheck","toString","getStyleComputedProperty","element","nodeType","css","getComputedStyle","getParentNode","nodeName","parentNode","host","getScrollParent","indexOf","body","_getStyleComputedProp","overflow","overflowX","overflowY","test","getOffsetParent","offsetParent","documentElement","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","end","range","createRange","setStart","setEnd","commonAncestorContainer","contains","firstElementChild","isOffsetContainer","element1root","getScroll","upperSide","arguments","html","scrollingElement","getBordersSize","styles","axis","sideA","sideB","split","getSize","computedStyle","Math","max","isIE10$1","getWindowSizes","height","width","getClientRect","offsets","_extends","right","left","bottom","top","getBoundingClientRect","rect","scrollTop","scrollLeft","result","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","children","parent","isIE10","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","subtract","modifier","includeScroll","isFixed","getBoundaries","popper","reference","padding","boundariesElement","boundaries","relativeOffset","innerWidth","innerHeight","getViewportOffsetRectRelativeToArtbitraryNode","boundariesNode","_getWindowSizes","computeAutoPlacement","placement","refRect","rects","sortedAreas","keys","map","key","area","_ref","getArea","sort","a","b","filteredAreas","filter","_ref2","computedPlacement","variation","getReferenceOffsets","state","getOuterSizes","x","parseFloat","marginBottom","y","marginRight","getOppositePlacement","hash","replace","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","arr","check","Array","runModifiers","modifiers","data","ends","slice","prop","findIndex","cur","match","obj","forEach","function","warn","fn","enabled","isModifierEnabled","modifierName","some","getSupportedPropertyName","prefixes","upperProp","charAt","toUpperCase","prefix","toCheck","style","attachToScrollParents","event","callback","scrollParents","isBody","target","addEventListener","passive","enableEventListeners","this","eventsEnabled","options","updateBound","scrollElement","setupEventListeners","scheduleUpdate","disableEventListeners","cancelAnimationFrame","removeEventListener","removeEventListeners","isNumeric","isNaN","isFinite","setStyles","unit","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","clockwise","counter","index","validPlacements","concat","reverse","parseOffset","offset","basePlacement","useHeight","fragments","frag","trim","divider","search","splitRegex","ops","op","mergeWithPrevious","reduce","str","toValue","index2","nativeHints","isBrowser","longerTimeoutBrowsers","timeoutDuration","navigator","userAgent","debounce","hint","isNative","MutationObserver","scheduled","elem","observe","attributes","appVersion","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","descriptor","writable","protoProps","staticProps","assign","source","placements","BEHAVIORS","FLIP","CLOCKWISE","COUNTERCLOCKWISE","Defaults","removeOnDestroy","onCreate","onUpdate","shiftvariation","_data$offsets","isVertical","side","shiftOffsets","preventOverflow","priority","primary","escapeWithReference","secondary","min","keepTogether","floor","opSide","arrow","arrowElement","querySelector","len","sideCapitalized","toLowerCase","altSide","arrowElementSize","center","popperMarginSide","sideValue","round","flip","flipped","originalPlacement","placementOpposite","flipOrder","behavior","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","flipVariations","getOppositeVariation","inner","subtractLength","hide","bound","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","position","prefixedProperty","willChange","invertTop","invertLeft","x-placement","arrowStyles","applyStyle","removeAttribute","setAttributes","onLoad","modifierOptions","Popper","_this","requestAnimationFrame","update","bind","isDestroyed","isCreated","jquery","removeChild","Utils","global","PopperUtils","root","factory","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","__WEBPACK_AMD_DEFINE_FACTORY__","apply","$","_","Mustache","widget","dcp","dcpText","renderOptions","kendoColorConfiguration","buttons","labels","kendoWidget","_initDom","addClass","attr","getType","id","attributeValue","displayValue","formatNumber","dcpAttribute","hasAutocomplete","activateAutocomplete","_activateColor","hasClass","colorTag","class","prepend","_initChangeEvent","_super","setValue","clone","has","getMode","flashElement","getContentElements","text","inputValue","kendoColorPicker","getKendoColorOptions","kendo","format","scope","kendoOptions","defaultOptions","change","isObject","extend","testValue","isNumber","close","_destroy","destroy","dcpColor","kendoNumericConfiguration","numberFormat","decreaseLabel","increaseLabel","formatValue","render","_activateNumber","currentCSSClass","removeClass","kendoNumericTextBox","getKendoNumericOptions","closest","logger","decimals","downArrowText","upArrowText","dcpInt","Backbone","ModelDocumentTab","ViewDocumentMenu","ViewDocumentHeader","ViewAttributeFrame","ViewAttributeTabLabel","ViewAttributeTabContent","attributeTemplate","ModelTransitionGraph","ViewTransitionGraph","i18n","View","className","events","click .dcpDocument__body a[href^=\"#action/\"], .dcpDocument__body a[data-action], .dcpDocument__body button[data-action]","click .dcpDocument__body a[href^=\"#\"]","initialize","listenTo","model","remove","displayLoading","showView","displayNetworkError","doStandardAction","loadDocument","cleanAndRender","trigger","___","$el","show","historyWidget","propertiesWidget","helpWidget","transitionGraph","view","time","$content","$body","renderPromises","currentView","locale","documentView","tabPlacement","getOption","prevent","viewMenus","bool","DocumentTouch","checkTouchEvents","selectedTab","template","getTemplates","partials","tooltip","empty","renderCss","publishMessages","updateTitle","updateIcon","off","cid","on","resizeForFooter","fixedTab","culture","renderData","toData","getTemplateModelInfo","append","completeCustomContent","initializeContent","each","viewMenu","el","currentAttr","viewTabLabel","viewTabContent","isDisplayable","isEmpty","tabContent","tabModel","kendoTabs","kendoTabStrip","tabPosition","animation","open","duration","effects","activate","_dcpNotFirstactivate","delay","scrollTobVisibleTab","tabId","item","scrollY","recordSelectedTab","defer","tab","refresh","tabItems","responsiveTabMenu","scrollTabList","selectTab","select","preventDefault","redrawErrorMessages","currentAttributeModel","timeEnd","all","then","$footer","footerHeight","_scrollableModeActive","_scrollTabsToItem","resize","$dropSelect","$dropTopSelect","$tabLabel","documentWidth","currentWidth","hiddens","lastShow","$kendoTabs","liIndex","$tabs","$selectedTabId","hiddenSelected","dataSource","iOS","outerWidth","tooltipLabel","label","enable","$container","maxWidth","disable","kendoComboBox","dataTextField","dataValueField","dataBound","myTab","liItem","dataItem","at","blur","$ul","ul","$li","bodyWidth","list","selector","container","title","DataSource","setDataSource","selectedItem","$tooltip","tooltipObject","inState","click","focus","hover","initid","save","aMessage","contentText","htmlMessage","contentHtml","noRemove","$head","cssLinkTemplate","customCss","currentLink","currentCss","cssItem","createStyleSheet","path","showHelp","helpId","attrid","$document","$dialogDiv","currentTarget","originalEvent","htmlLink","windowWidth","windowHeight","windowTitle","helpX","helpY","bodyH","dialogH","dialogW","is","kendoWindow","iframe","content","actions","withoutResize","wrapper","catch","showHistory","docid","$target","dcpDocumentHistory","documentId","version","revision","activity","owner","code","date","diff","level","message","pastRevision","showDetail","hideDetail","showNotice","noOneNotice","hideNotice","filterMessages","linkRevision","historyTitle","loading","revisionDiffLabels","first","second","attributeId","attributeLabel","documentHeader","showOnlyDiff","showAll","fetchDocument","lockDocument","unlockDocument","showtransition","transition","nextState","showTransitionGraph","fetch","success","showProperties","dcpDocumentProperties","identifier","logicalName","family","lockedBy","createdBy","notLocked","confidential","notConfidential","creationDate","lastModificationDate","lastAccessDate","profil","profilReference","viewController","propertiesTitle","propertyValue","workflow","deleteDocument","avance","isSaving","closeDocument","viewId","saveDocument","saveAndCloseDocument","createDocument","createAndCloseDocument","callbacks","hasAttributesChanged","dcpConfirm","messages","okMessage","cancelMessage","textMessage","confirm","cancel","errorMessage","templateData","templates","restoreDocument","propagateActionClick","action","eventOptions","internalEvent","stopPropagation","substring","eventId","handleHashClick","href","location","eventArgs","removeAttr","Model","typeModel","defaults","isValueAttribute","mode","_computeMode","_computeValueMode","set","extended","toJSON","getOptions","getDocumentModel","attribute","deleteButton","sourceValues","sourceUri","canBeDisplayable","isArray","hasMultipleOption","multiple","isDoubleMultiple","getParent","hasValueChanged","_initialAttributeValue","isEqual","pluck","flatten","visibility","documentMode","collection","renderMode","isUndefined","optionsCommon","optionsValue","optionsAttribute","_options","common","translatedLabels","types","setOption","documentModel","setErrorMessage","parentId","indexMessage","parentModel","checkConstraint","haveView","elements","isNew","modal","visible","maximizeWidth","dialogWindow","_create","currentWidget","wrap","argument","rest","isDefaultPrevented","heigth","kWindow","setOptions","maximize","transitionGraphWindow","displayCurrentState","to","dcpDialog","displayArrows","previousHeight","isMaximized","isMaximizedNow","tpl","states","currentState","authorized","$to","$from","connect","getOffset","outerHeight","div1","div2","thickness","off1","off2","origin","x2","y2","x1","y1","sqrt","cx","cy","angle","atan2","PI","AttributeStructuralModel","removeIndexedLine","silent","addIndexedLine","AttributPrototype","_attributeModel","getProperties","properties","omit","currentAttribute","AttributeInterface","setLabel","getWidgetData","getValue","previous","current","initial","dryRun","currentValue","singleValue","parseInt","attributeModel","create","constructor","self","_typeof","previousBackbone","VERSION","noConflict","emulateHTTP","emulateJSON","addUnderscoreMethods","Class","methods","method","iteratee","context","cb","defaultVal","args","unshift","addMethod","_isModel","modelMatcher","isString","attrs","matcher","matches","Events","eventSplitter","eventsApi","opts","names","internalOn","listening","_events","onApi","ctx","_listeners","_listenId","uniqueId","listeningTo","_listeningTo","thisId","objId","count","handlers","offApi","listeners","stopListening","ids","remaining","j","handler","_callback","once","onceMap","listenToOnce","offer","triggerApi","objEvents","allEvents","triggerEvents","ev","a1","a2","a3","unbind","cidPrefix","parse","changed","validationError","idAttribute","sync","escape","val","_validate","unset","changes","changing","_changing","_previousAttributes","prev","_pending","clear","hasChanged","changedAttributes","old","size","previousAttributes","resp","serverAttrs","wrapError","wait","validate","patch","xhr","url","base","urlError","encodeURIComponent","isValid","values","pairs","invert","pick","chain","Collection","models","comparator","_reset","reset","add","merge","addOptions","splice","array","insert","tail","singular","removed","_removeModels","added","merged","toAdd","toMerge","toRemove","modelMap","sortable","sortAttr","existing","_prepareModel","_addReference","orderChanged","_removeReference","previousModels","pop","_byId","modelId","where","findWhere","sortBy","callbackOpts","_onModelEvent","prevId","collect","foldl","inject","reduceRight","foldr","detect","every","any","include","includes","invoke","toArray","take","drop","last","without","difference","shuffle","lastIndexOf","sample","partition","groupBy","countBy","indexBy","findLastIndex","viewOptions","_ensureElement","delegateEventSplitter","tagName","_removeElement","setElement","undelegateEvents","_setElement","delegateEvents","delegate","eventName","listener","undelegate","_createElement","_setAttributes","methodMap","params","dataType","contentType","JSON","stringify","_method","beforeSend","setRequestHeader","processData","textStatus","errorThrown","ajax","delete","read","Router","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","route","isRegExp","_routeToRegExp","router","history","fragment","_extractParameters","execute","navigate","optional","RegExp","exec","param","decodeURIComponent","History","checkUrl","routeStripper","rootStripper","pathStripper","started","interval","atRoot","pathname","getSearch","matchRoot","decodeFragment","decodeURI","getHash","getPath","getFragment","_usePushState","_wantsHashChange","hashChange","_hasHashChange","_useHashChange","_wantsPushState","pushState","_hasPushState","rootPath","display","tabIndex","iWindow","insertBefore","firstChild","contentWindow","attachEvent","_checkUrlInterval","setInterval","loadUrl","stop","detachEvent","clearInterval","_updateHash","child","__super__","intervalId","contents","currentTitle","exp","newTitle","currentIcon","_getWindowTemplate","templateId","ViewAttribute","ViewColumn","displayLabel","customView","customRowView","dcparraylineadded","dcparraylineremoved","dcparraylinemoved","dcparrayexternallinkselected","dcpattributechange .dcpArray__content__cell","columnViews","updateLabel","setArrayError","setError","removeWidgetLine","addWidgetLine","_identifyView","customRender","promisesColumn","originalView","renderCustomView","currentContent","nbLines","getNbLines","padValues","showEmpty","els","parentElement","customTemplate","customLineCallback","customArrayRowView","dcpArray","one","insertDescription","nbLigne","lineNumber","idx","updateValue","removeLine","removeIndexValue","line","addLine","currentArrayView","allPromiseAttributes","currentViewColumn","needAddValue","copyValue","createIndexedValue","$this","currentWidgetOption","getData","viewCid","widgetInit","moveValueIndex","addNewWidget","moveLine","moveIndexValue","fromLine","toLine","getAttributeModel","externalLinkSelected","helpLinkIdentifier","helpTitle","_initActionClickEvent","_getTemplate","scopeWidget","eventNamespace","_trigger","dcpLabel","translatorFactory","documentCatalog","ViewDocument","htmlContent","htmlStateContent","htmlStateButtons","htmlLoading","htmlButtons","click .dcpTransition-button-ok ","click .dcpTransition-button-cancel","click .dcpTransition-button-close","displayError","transitionDisplayLoading","transitionWindow","cssKey","$okButton","$cancelButton","reactiveWidget","errorCode","retry","displayMessages","clearError","$loading","$message","hasAttributes","saveXhr","getMessages","fail","response","statusTxt","errorTxt","responseJSON","clickOnOk","clickOnCancel","clickOnClose","urlStructure","familyId","WidgetMenu","dcpmenuexternallinkselected","menuModel","updateWidget","changeVisibility","dcpMenu","menuItem","onlyIfVisible","_findWidgetName","$element","currentKey","attributeEvents","_mergeEvent","changeLabel","cells","tableLine","valueLine","row","getDOMElements","$cell","urlCore","urlView","tools","rowCountThreshold","rowAddDisable","rowDelDisable","rowMoveDisable","rowMinLimit","rowMinDefault","rowMaxLimit","collapse","arrayBreakPoints","transpositionRule","upRule","closeErrorMessage","limitMaxMessage","limitMinMessage","getSelectedLineElement","getSelectedLineIndex","isNull","initializing","_bindEvents","toggleCollapse","$table","labelPosition","collapsable","displayCount","_indexLine","anOption","contentRenderOptions","tooltipDom","targetDom","kendoDraggable","dragLine","lineWidth","classTable","_hideTooltips","_disableTooltips","dragstart","dragend","_enableTooltips","kendoDropTargetArea","dragenter","drap","draggable","dropTarget","insertAfter","_initCSSResponsive","addAllLines","useTransposition","cssString","cssTemplate","headers","currentElement","$currentElement","$label","currentHeader","isAlreadyChecked","_unSelectLines","selectedLine","useSelectedLine","copyLine","hideNow","$contentElement","toggleClass","slideToggle","redrawLabel","setLines","linesPromise","currentLineNumber","allPromiseLines","_getLineContent","lineCid","currentCell","_addNewLine","_activateRowLimits","limit","tbody","rawMessage","tipElement","tip","dcpWindow","scoppedCancel","kendoButton","scoppedConfirm","displayedLineNumber","maxDisplayedLine","_maxLinesNumber","_initEvent","_initAutoFit","delta","lineH","_getFocusInput","_fitToContent","maxHeight","scrollHeight","dcpLongtext","click a[href^=\"#action/\"], a[data-action], button[data-action]","attrData","_getIndex","AttributeModel","CollectionContentAttributes","setContentCollection","currentChild","dcpDate","kendoTimeConfiguration","timeDataFormat","kendoWidgetClass","formatDate","parseDate","_activateDate","kOptions","getKendoOptions","isoDate","convertDateToPseudoIsoString","kendoTimePicker","_controlDate","isDate","padNumber","getHours","getMinutes","minDate","dcpTime","pc","restItem","doneItems","original","stack","initBar","$title","$header","setTitle","isDisplayed","force","setPercent","$initbar","rpc","setNbItem","addItem","number","pv","require","customLineTemplate","documentData","getDocumentData","templateInfo","currentTemplate","isWriteMode","isReadMode","attributeValues","attributeLabels","_isEmptyAttribute","getCustomTemplate","htmlView","htmlDefaultContent","htmlDefaultView","toolsEnabled","rows","getArrayRowInfo","tableTools","getArrayTools","attrValue","getTemplateInfo","extraKeys","copyextraKeys","_deepExtend","attrModel","callBackView","config","$render","completePromise","renderElementPromises","attrId","attrContent","BackView","customViewRended","getLineInfo","rowTools","getRowTool","extraValues","extraKey","extractRow","info","tpls","outerHTML","tool","renderClickDesc","$tip","nsOn","attributeView","$customElement","description","descriptionTemplate","$descriptionElement","$viewElement","isFrame","isArrayHead","isArrayCell","isAttribute","isTabContent","isTabLabel","htmlContentRender","htmlTitleRender","htmlTitle","collapsed","firstRevision","secondRevision","firstDocument","secondDocument","$widget","htmlCaneva","__WEBPACK_AMD_REQUIRE_ARRAY__","_initDatatable","revisionDiffWidget","dataTable","autoWidth","ordering","paging","dom","scrollCollapse","language","columns","join","initComplete","api","header","_getDocHeader","firstHeadCell","myData","getJSON","done","data1","data2","firstValue","secondValue","_findAttributeLabel","structure","DT_RowClass","isEqualAttributeValue","responseText","alert","exceptionMessage","v1","v2","values1","values2","aid","attributInfo","attributId","contentLabel","documentStructure","$history","DataTable","maxLength","placeHolder","kendoAutoCompleteConfiguration","minLength","newValue","systemOption","serverFiltering","transport","autocompleteRequest","filtering","valueIndex","kendoAutoComplete","originalValue","getWidgetValue","redraw","DocumentModel","MenuInterface","TransitionInterface","DocumentView","TransitionModel","TransitionView","MenuModel","ErrorModelNonInitialized","eventList","eventPrefix","constraintList","eventListener","_model","activatedConstraint","activatedEventListener","_initializedModel","_initializedView","_customClientData","_initializeWidget","customClientData","log","tryToDestroy","isModified","_triggerControllerEvent","getServerProperties","removeData","initializeSuccess","_initExternalElements","_initModel","_getModelValue","_initView","_initRouter","useHistory","noRouter","initialValue","_reinitModel","_initModelEvents","_initViewEvents","dcpLoading","$notification","dcpNotification","notifications","msg","_initActivatedConstraint","_initActivatedEventListeners","launchReady","getModelProperties","nextDocument","oldProperties","getCustomClientData","getAttribute","_getAttributeModel","_triggerAttributeControllerEvent","file","hasUploadingFiles","hasUploadingFile","triggername","triggerId","constraintController","currentModel","addConstraint","currentConstraint","addConstraintMessage","attributeCheck","constraintCheck","_initAndDisplayTransition","nbItem","withoutInterface","reinitOptions","transitionInterface","transitionElements","documentServerProperties","documentProperties","reinitDocument","setValues","_loadDocument","theModel","_getMenuModel","menuId","menus","menu","itemMenu","subMenu","_getRenderedAttributes","currentAttribut","_getMaxIndex","attributeArray","currentDocumentProperties","documentCheck","currentEvent","objectAttribute","_addAndInitNewEvents","newEvent","uniqueName","externalEvent","eventType","Event","eventCallback","attributeInternalElement","externalEventArgument","_triggerExternalEvent","_checkEventName","currentEventType","_checkInitialisedView","_checkInitialisedModel","_registerOutputPromise","documentPromise","exception","previousDocument","errorArguments","eventPrevented","callBackPromise","_promiseCallback","changeStateDocument","parameters","unattended","getProperty","ready","notLoaded","hasAttribute","getAttributes","hasMenu","getMenu","getMenus","currentMenu","getValues","getCustomServerData","addCustomClientData","setCustomClientData","deleteOnce","newCustomData","currentCustom","removeCustomClientData","attributeInterface","appendArrayRow","addValue","insertBeforeArrayRow","maxValue","defaultValue","addIndexedValue","removeArrayRow","maxIndex","externalConstraint","removeConstraint","listConstraints","constraintName","allKind","newConstraintList","testRegExp","currentConstrait","listEventListeners","newList","triggerEvent","hideAttribute","showAttribute","showMessage","maskDocument","px","unmaskDocument","setAttributeErrorMessage","cleanAttributeErrorMessage","injectCSS","cssToInject","injectJS","jsToInject","documentController","headerTemplate","updateHeader","documentHasChanged","security","lock","isLocked","headerRender","elt","doctitle","wTitle","noticeButton","noticeShowed","$notices","selectedDiff","dcpRevisionDiff","_fillDataTable","revisionInfo","revisionDate","color","comment","uname","status","loadingRecords","theDate","Date","substr","stateLabel","renderType","allData","drawCallback","page","showVersion","showState","onlyOneRevision","column","fixedRevisionRow","trHead","$buttons","tableData","uri","g","Function","eval","dcpFile","dropFileHere","downloadLabel","thumbnailSize","reSize","thumbnail","_initDisplayEvent","getLink","bdw","uploadCondition","dcpImage","requireFunction","translation","catalog","_catalog","_locale","ctxt","_msgctxt_","getLocale","kendoDateConfiguration","timeFormat","parseFormats","replaceAt","t","kendoDateTimePicker","dateObject","getFullYear","getMonth","getDate","getSeconds","dcpTimestamp","ConstraintHandler","oldValue","currentIndex","notUpdateArray","copy","updateArray","fromIndex","toIndex","fromValue","from","isInArray","aparent","hasInternalError","hasConstraintMessages","getConstraintMessages","currentResponse","TransitionInterfacePrototype","_TransitionModel","transitionModel","propageEvent","autoHideAfter","appendTo","moreButton","moreWindowTitle","notificationElement","showMore","kendoNotification","$more","$boxMessage","widgetNotification","cloneWindow","$clone","inArray","showError","showInfo","showWarning","showSuccess","ViewAttributeArray","click .dcpFrame--collapsable","setResponsiveClasse","labelElement","contentData","contentElement","promiseAttributes","templateLabel","frame","templateContent","hasOneContent","toggle","responsiveColumns","fWidth","matchesResponsive","responseColumnsDefs","isTopBottom","isGrow","$vattrs","responseColumnsInfo","minAbsWidth","maxAbsWidth","grow","direction","rowNumber","ceil","frameColumnNumber","$fake","$fakeWidth","minWidth","Infinity","hideValue","dcpPassword","kendoMenuWidget","_tooltips","popupWindows","_initStructure","$mainElement","uuid","_insertMenuContent","kendoMenu","openOnClick","closeOnClick","eventContent","$elementA","confirmText","confirmOptions","confirmDcpWindow","targetOptions","$bodyDiv","$menuElement","wFeature","confirmationOptions","confirmButton","cancelButton","$base","isAbsUrl","protocol","hostname","port","deactivate","menuUrl","menuWidth","menuLeft","listWidth","listLeft","cssClass","encoded","items","inhibitBarMenu","updateResponsiveMenu","widgetMenu","getScrollBarWidth","scrollBarWidth","outer","w1","w2","visibleItemCount","barMenu","$itemMenu","$importantItemMenu","newHiddens","visibleWidth","freeWidth","barmenuWidth","$hamburger","$hiddenItems","hiddenLeft","scopeMenu","hasBeforeContent","iconUrl","beforeContent","$currentMenu","htmlAttr","htmlAttributes","htmlLabel","disabled","tooltipHtml","tooltipPlacement","important","pWindow","currentTooltip","localeCompareSupportsLocales","localeCompare","invalidEntry","invertSelection","selectMessage","unselectMessage","chooseAnotherChoice","selectAnotherChoice","displayOtherChoice","kendoDropDownConfiguration","autoBind","kendoComboBoxConfiguration","kendoMultiSelectConfiguration","editDisplay","useFirstChoice","useSourceUri","useOtherChoice","orderBy","String","numeric","caseFirst","_isMultiple","isMultiple","exists","eformat","otherUuid","enumIndex","_initMainElementClass","multipleSelect","checkboxButtons","kendoWidgetObject","singleCombobox","singleDropdown","boolButtons","radioButtons","noButtonDisplay","getSingleEnumData","selectedIndex","enumItem","enumUuid","selected","getMultipleEnumData","selectedValues","isIn","aValue","retrieveItems","requestData","enumItems","statusText","enumData","tplOption","theWidget","enumValues","kItem","firstItem","_checkRadioOther","itemValue","_checkBoxOther","keyCode","which","$input","$checkbox","$newOne","kddl","kendoDropDownList","kendoMultiSelect","newValues","isOn","autocompleteRequestEnum","filters","keyword","operator","singleInfo","clearButton","schema","placeholder","kdData","dataItems","_kOpen","_kClose","optionLabel","optionLabelTemplate","_kSelectOther","kWidget","$otherInput","dcpEnum","createReduce","dir","memo","optimizeCb","isArrayLike","iterator","createPredicateIndexFinder","predicate","getLength","createIndexFinder","predicateFind","sortedIndex","collectNonEnumProps","nonEnumIdx","nonEnumerableProps","proto","ObjProto","previousUnderscore","ArrayProto","FuncProto","nativeIsArray","nativeKeys","nativeBind","nativeCreate","Ctor","_wrapped","func","argCount","other","accumulator","identity","createAssigner","keysFunc","undefinedOnly","baseCreate","MAX_ARRAY_INDEX","pow","results","findKey","negate","guard","isFunc","computed","lastComputed","rand","shuffled","random","criteria","group","pass","compact","input","shallow","strict","startIndex","output","isArguments","uniq","unique","isSorted","isBoolean","seen","union","intersection","argsLength","zip","unzip","low","high","mid","executeBound","sourceFunc","boundFunc","callingContext","partial","boundArgs","bindAll","memoize","hasher","cache","address","throttle","later","leading","now","trailing","immediate","timestamp","callNow","compose","after","times","before","hasEnumBug","propertyIsEnumerable","allKeys","mapObject","functions","extendOwn","oiteratee","tap","interceptor","isMatch","eq","aStack","bStack","areArrays","aCtor","bCtor","isElement","Int8Array","constant","noop","propertyOf","accum","getTime","escapeMap","&","<",">","\"","'","`","unescapeMap","createEscaper","escaper","testRegexp","replaceRegexp","string","unescape","fallback","idCounter","templateSettings","evaluate","interpolate","noMatch","escapes","\\","\r","\n"," "," ","escapeChar","settings","oldSettings","variable","_chain","mixin","valueOf","_jquery2","default","currentValues","documentReady","viewData","ex1","ex2","triggerReload","documentLoaded","mDocument","urlData","workflowStates","anchors","toolbar","toolbarStartupExpanded","ckEditorConfiguration","ckEditorAllowAllTags","ckEditorInstance","bind_super","bindInitEvent","ckOptions","allowedContent","$1","CKEDITOR","dtd","classes","disallowedContent","ckeditor","editor","hrefBase","contentsCss","removePlugins","toolbarCanCollapse","entities","baseHref","filebrowserImageBrowseUrl","filebrowserImageUploadUrl","toolbar_Full","toolbar_Default","toolbar_Simple","toolbar_Basic","removeButtons","ktTarget","showInputTooltip","hideInputTooltip","eventData","anchorsConfig","anchorsTarget","$anchor","anchor","_triggerReady","dcpHtmltext","loaded","0","313","cultures","pattern",",",".","groupSize","percent","symbol","currency","abbr","calendars","standard","days","namesAbbr","namesShort","months","AM","PM","patterns","D","F","G","M","T","u","Y","/",":","firstDay","load","DocumentProperties","DocumentLock","FamilyStructure","CollectionAttributes","CollectionMenus","flattenAttributes","currentAttributes","_uploadingFile","currentMethod","propagateSynchroError","destroySubcollection","unbindLoadEvent","temporary","unlocking","returnObject","arrayValues","setProperties","docModel","lockModel","setMenu","HttpResponse","initialProperties","createAttributeView","parsedReturn","cleanErrorMessages","constraint","preStore","documentElements","templateMessage","currentDocument","parentAttribute","oneSuccess","parentLabel","rowText","attrModels","requestIdentifier","creationView","customCSS","customJS","js","customServerData","originalValues","creationFamid","keyOrValues","childAttributes","candidateChildModel","injectCurrentDocJS","allInjectPromises","currentPath","optId","successArguments","_completeStructure","globalCallback","documentCallback","serverProperties","needToUnlock","beforeCloseReturn","nextView","lockCallback","currentModelProperties","saveCallback","beforeSaveEvent","deleteCallback","beforeDeleteEvent","restoreCallback","beforeRestoreEvent","systemError","structurePromise","neededAttributes","needed","visibilityAttributes","visibilities","valueAttributes","referencedocument","structureModel","currentAttributeStructure","MenuError","MenuPrototope","_menuModel","_set","setHtmlLabel","setIconUrl","setCssClass","setUrl","uploadingFiles","contentDisposition","recording","transferring","kiloByte","byte","visibleInput","urlSep","mimeIconSize","icon","_initUploadEvent","inputFile","inputText","fileUrl","isNotPrevented","FormData","addOldBrowserForm","uploadFileForm","files","dataTransfer","uploadFile","inputId","fileTarget","originalText","dataFile","fileName","cdate","thumbnailUrl","downloadUrl","_setVisibilitySavingMenu","submit","firstFile","formData","newFileName","originalBgColor","$inputFile","infoBgColor","xhrObject","ajaxSettings","upload","total","lengthComputable","fileValue","always","link","Util","toType","transitionEndEmulator","called","TRANSITION_END","triggerTransitionEnd","TransitionEndEvent","WebkitTransition","MozTransition","OTransition","getUID","getElementById","getSelectorFromElement","reflow","supportsTransitionEnd","Boolean","typeCheckConfig","componentName","configTypes","expectedTypes","valueType","QUnit","transitionEndTest","emulateTransitionEnd","special","bindType","delegateType","handle","handleObj","jQuery","renderContent","initialized","propageShowTab","promisesFrame","frameIsResized","Tooltip","NAME","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","BSCLS_PREFIX_REGEX","DefaultType","fallbackPlacement","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","Default","HoverState","HIDE","HIDDEN","SHOW","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","ClassName","Selector","Trigger","_classCallCheck","_isEnabled","_timeout","_hoverState","_activeTrigger","_popper","_getConfig","_setListeners","_createClass","dataKey","_getDelegateConfig","_isWithActiveTrigger","_enter","_leave","getTipElement","showEvent","isWithContent","isInTheDom","ownerDocument","tipId","_util2","setContent","attachment","_getAttachment","addAttachmentClass","_handlePopperPlacementChange","complete","_fixTransition","prevHoverState","_TRANSITION_DURATION","_this2","hideEvent","_cleanTipClass","getTitle","CLASS_PREFIX","setElementContent","_this3","eventIn","eventOut","_fixTitle","titleType","tabClass","initConfigAnimation","_config","_jQueryInterface","pendingScripts","scriptCounter","_addScript","firstScript","_lload","setup","_cleanup","_finish","_error","readyState","isReady","inserted","onreadystatechange","firstState","mustache","hasProperty","propName","isWhitespace","re","regExpTest","nonSpaceRe","Scanner","pos","Context","parentContext","Writer","objectToString","entityMap","=","whiteRe","spaceRe","equalsRe","curlyRe","tagRe","eos","scan","scanUntil","lookup","lookupHit","clearCache","tags","tokens","stripSpace","hasTag","nonSpace","spaces","compileTags","tagsToCompile","openingTagRe","closingTagRe","closingCurlyRe","sections","chr","token","openSection","scanner","valueLength","nestedTokens","collector","numTokens","nestTokens","lastToken","squashedTokens","squashTokens","parseTemplate","renderTokens","originalTemplate","buffer","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","subRender","defaultWriter","typeStr","to_html","send","invalidDate","originalDate","kendoDatePicker","dateValue","parseFormat","goodDate","cssWithMappingToString","useSourceMap","cssMapping","btoa","sourceMapping","sourceMap","toComment","sourceURLs","sources","sourceRoot","mediaQuery","alreadyImportedModules","deleteAttributeNames","deleteLabel","displayDeleteButton","hasLink","option","_checkValue","$ktTarger","inputHtmlTooltip","helpOutputs","renderHtmlContent","emptyValue","_getEmptyValue","hadButtons","_hasButtons","originalEscape","urlIndex","_completeRevisionData","urls","renderUrl","renderTitle","isRevision","revisionTarget","_initDeleteEvent","_initButtonsEvent","_initFocusEvent","_initMoveEvent","_initLinkEvent","_initErrorEvent","inputTargetFilter","domLine","buttonConfig","$bdw","dw","titleDelete","$deleteButton","dpcWindow","showEmptyContent","_messages","deleteConstaintMessages","_displayProperties","askAttributes","ask","templateIndex","returnValues","decimalPrecision","dcpDouble","ErrorNoSuchMethod","widgetUuid","_cleanData","cleanData","elems","_data","triggerHandler","Base","fullName","existingConstructor","basePrototype","proxiedPrototype","namespace","Widget","expr","pseudos","_createWidget","_proto","_childConstructors","_superApply","returnValue","__super","__superApply","widgetName","widgetFullName","childPrototype","bridge","inputIndex","inputLength","isPlainObject","isMethodCall","methodValue","pushStack","_init","defaultElement","_getCreateOptions","bindings","classesElementLookup","_on","defaultView","parentWindow","_setOptionDisabled","_getCreateEventData","that","_removeClass","parts","curOption","_setOptions","_setOption","_setOptionClasses","classKey","currentElements","_classes","processClassString","full","checkOption","jqueryVersion","uniqueSort","not","extra","_toggleClass","_addClass","suppressDisabledCheck","delegateElement","handlerProxy","guid","_off","_delay","orig","toLocaleLowerCase","webpackPolyfill","deprecate","paths","currentRouter","searchArguments","docProperties","getUrlParameters","app","rewriteAppUrl","rewriteApiUrl","searchPart","newUrl","urlSecondPart","getParameter","getKey","GETValue","GETKey","noRecordHistory","parsePath","parseHash","beginPath","locationSearch","locationHash","hashData","viewDocument","viewRevision","viewView","viewRevisionView","searchObject","extract","getParameters","ModelAttributeData","ModelAttributeStructural","ModelAttributeArray","dcpMoney","dcpattributechange .dcpAttribute__content,[data-dcpattribute_content]","dcpattributedelete .dcpAttribute__content","dcpattributechangeattrmenuvisibility .dcpAttribute__content","dcpattributechangeattrsvalue .dcpAttribute__content","dcpattributefetchdocument .dcpAttribute__content","dcpattributeexternallinkselected .dcpAttribute__content","dcplabelexternallinkselected","dcpattributedownloadfile  .dcpAttribute__content","dcpattributeuploadfile  .dcpAttribute__content","dcpattributeuploadfiledone  .dcpAttribute__content","dcpattributeanchorclick .dcpAttribute__content","dcpattributewidgetready .dcpAttribute__content","refreshLabel","refreshValue","refreshError","afterShow","_closeWidget","templateWrapper","simpleWrapper","getDeleteLabels","autocompleteRequestRead","currentDcpWidget","renderDone","widgetReady","triggerRenderDone","labelDom","allWrapper","cssIndex","addBack","widgetApply","andSelf","changeAttributesValue","displayFormDocument","createLabel","dcpCreateDocument","originDocumentModel","dialogDocument","downloadFileSelect","widgetEvent","uploadFileSelect","uploadFileDone","anchorClick","deleteValue","attrToClear","autocompleteUrl","externalOptions","setResult","fromid","pipe","Deferred","changeMenuVisibility","getWidgetClass","getTypedWidgetClass","dcpDocid","setWidgetReady","noRenderEvent","triggerRender","itemTemplate","allSelectedDocument","documentIconSize","noIcon","_decorateMultipleValue","_decorateSingleValue","_updateCreateButton","buttonsConfig","$button","buttonIndex","htmlEditContent","htmlCreateContent","extraOptions","highlightFirst","_hasBeenRequested","currentItem","docId","docTitle","oldValues","kMultiSelect","widgetValue","_isFiltering","$noOne","maxSelectedItems","kendoSelect","dataOri","_isEqual","convertToString","ModelMenu","_deepSearchMenu","subSubMenu","menuInfo","menuInfoItem","oneMenu","newContent"],"mappings":"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","file":"mainSmartElement-83ad802116719d1de095.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t\"mainSmartElement\": 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \"-\" + {\"documentCkEditor\":\"92e100782ee1426052a7\",\"ensureDatatables\":\"7077f57112db8b21358b\",\"wCreateDocument\":\"437b2dcf17ae14632ec8\",\"wDocument\":\"1b9b1060dec606e7b8a1\"}[chunkId] + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"uiAssets/anakeen/prod/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"97640554fbb3ff20724f\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b27e1d7634c7e9707a6","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.12.5\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar nativeHints = ['native code', '[object MutationObserverConstructor]'];\n\n/**\n * Determine if a function is implemented natively (as opposed to a polyfill).\n * @method\n * @memberof Popper.Utils\n * @argument {Function | undefined} fn the function to check\n * @returns {Boolean}\n */\nvar isNative = (function (fn) {\n  return nativeHints.some(function (hint) {\n    return (fn || '').toString().indexOf(hint) > -1;\n  });\n});\n\nvar isBrowser = typeof window !== 'undefined';\nvar longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nvar timeoutDuration = 0;\nfor (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nfunction microtaskDebounce(fn) {\n  var scheduled = false;\n  var i = 0;\n  var elem = document.createElement('span');\n\n  // MutationObserver provides a mechanism for scheduling microtasks, which\n  // are scheduled *before* the next task. This gives us a way to debounce\n  // a function but ensure it's called *before* the next paint.\n  var observer = new MutationObserver(function () {\n    fn();\n    scheduled = false;\n  });\n\n  observer.observe(elem, { attributes: true });\n\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      elem.setAttribute('x-index', i);\n      i = i + 1; // don't use compund (+=) because it doesn't get optimized in V8\n    }\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\n// It's common for MutationObserver polyfills to be seen in the wild, however\n// these rely on Mutation Events which only occur when an element is connected\n// to the DOM. The algorithm used in this module does not use a connected element,\n// and so we must ensure that a *native* MutationObserver is available.\nvar supportsNativeMutationObserver = isBrowser && isNative(window.MutationObserver);\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsNativeMutationObserver ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element || ['HTML', 'BODY', '#document'].indexOf(element.nodeName) !== -1) {\n    return window.document.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  // NOTE: 1 DOM access here\n  var offsetParent = element && element.offsetParent;\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return window.document.documentElement;\n  }\n\n  // .offsetParent will return the closest TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return window.document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = window.document.documentElement;\n    var scrollingElement = window.document.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return +styles['border' + sideA + 'Width'].split('px')[0] + +styles['border' + sideB + 'Width'].split('px')[0];\n}\n\n/**\n * Tells if you are running Internet Explorer 10\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean} isIE10\n */\nvar isIE10 = undefined;\n\nvar isIE10$1 = function () {\n  if (isIE10 === undefined) {\n    isIE10 = navigator.appVersion.indexOf('MSIE 10') !== -1;\n  }\n  return isIE10;\n};\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE10$1() ? html['offset' + axis] + computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')] + computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')] : 0);\n}\n\nfunction getWindowSizes() {\n  var body = window.document.body;\n  var html = window.document.documentElement;\n  var computedStyle = isIE10$1() && window.getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  if (isIE10$1()) {\n    try {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } catch (err) {}\n  } else {\n    rect = element.getBoundingClientRect();\n  }\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes() : {};\n  var width = sizes.width || element.clientWidth || result.right - result.left;\n  var height = sizes.height || element.clientHeight || result.bottom - result.top;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var isIE10 = isIE10$1();\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = +styles.borderTopWidth.split('px')[0];\n  var borderLeftWidth = +styles.borderLeftWidth.split('px')[0];\n\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = +styles.marginTop.split('px')[0];\n    var marginLeft = +styles.marginLeft.split('px')[0];\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var html = window.document.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = getScroll(html);\n  var scrollLeft = getScroll(html, 'left');\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  return isFixed(getParentNode(element));\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  // NOTE: 1 DOM access here\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(popper));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = window.document.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = window.document.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  boundaries.left += padding;\n  boundaries.top += padding;\n  boundaries.right -= padding;\n  boundaries.bottom -= padding;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var commonOffsetParent = findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);\n  var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier.function) {\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier.function || modifier.fn;\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n  data.offsets.popper.position = 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length - 1; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof window.document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroy the popper\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.left = '';\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? window : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  window.addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  window.removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger onUpdate callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    window.cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper.\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  // floor sides to avoid blurry text\n  var offsets = {\n    left: Math.floor(popper.left),\n    top: Math.floor(popper.top),\n    bottom: Math.floor(popper.bottom),\n    right: Math.floor(popper.right)\n  };\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    top = -offsetParentRect.height + offsets.bottom;\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    left = -offsetParentRect.width + offsets.right;\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjuction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var popperMarginSide = getStyleComputedProperty(data.instance.popper, 'margin' + sideCapitalized).replace('px', '');\n  var sideValue = center - getClientRect(data.offsets.popper)[side] - popperMarginSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = {};\n  data.offsets.arrow[side] = Math.round(sideValue);\n  data.offsets.arrow[altSide] = ''; // make sure to unset any eventual altSide value from the DOM node\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-right` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement);\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unitless, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the height.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > More on this [reading this issue](https://github.com/FezVrasta/popper.js/issues/373)\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * An scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper this makes sure the popper has always a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier, can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near eachothers\n   * without leaving any gap between the two. Expecially useful when the arrow is\n   * enabled and you want to assure it to point to its reference element.\n   * It cares only about the first axis, you can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjuction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations).\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position,\n     * the popper will never be placed outside of the defined boundaries\n     * (except if keepTogether is enabled)\n     */\n    boundariesElement: 'viewport'\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3d transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties.\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define you own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3d transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties.\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the informations used by Popper.js\n * this object get passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper.\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper, it expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow, it expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements.\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overriden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass as 3rd argument an object with the same\n * structure of this object, example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Whether events (resize, scroll) are initially enabled\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated, this callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Create a new Popper.js instance\n   * @class Popper\n   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper\n   * @param {HTMLElement} popper - The HTML element used as popper.\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference.jquery ? reference[0] : reference;\n    this.popper = popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedule an update, it will run on the next UI update available\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/popper.js/dist/esm/popper.js","/*global define, _super, kendoColorPicker*/\n\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/attributes/text/wText'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function require_wColor($, _, Mustache) {\n    'use strict';\n\n    $.widget(\"dcp.dcpColor\", $.dcp.dcpText, {\n\n        options :     {\n            type :          \"color\",\n\n            renderOptions : {\n                kendoColorConfiguration : {\n                    buttons:false\n                }\n            },\n            labels : {\n            }\n        },\n        /**\n         * The kendoColorPicker widget instance\n         */\n        kendoWidget : null,\n\n        _initDom : function wColorInitDom() {\n            this.element.addClass(\"dcpAttribute__content\");\n            this.element.attr(\"data-type\", this.getType());\n            this.element.attr(\"data-attrid\", this.options.id);\n            if (parseFloat(this.options.attributeValue.displayValue) === parseFloat(this.options.attributeValue.value)) {\n                this.options.attributeValue.displayValue = this.formatNumber(this.options.attributeValue.value);\n            }\n\n            //noinspection JSPotentiallyInvalidConstructorUsage,JSAccessibilityCheck\n            $.dcp.dcpAttribute.prototype._initDom.apply(this, []);\n\n            this.kendoWidget = this.element.find(\".dcpAttribute__value--edit\");\n            if (this.kendoWidget) {\n                if (this.options.hasAutocomplete) {\n                    this.activateAutocomplete(this.kendoWidget);\n                } else {\n                    this._activateColor(this.kendoWidget);\n\n                    if (this.kendoWidget.hasClass(\"form-control\")) {\n                        this.element.find(\".k-colorpicker\").addClass(\"form-control\");\n                    }\n                }\n            }\n            if (this.element.find(\".dcpAttribute__content__buttons button\").length === 0) {\n                this.element.find(\".k-picker-wrap\").\n                    addClass(\"dcpAttribute__content__nobutton\");\n            }\n            var colorTag = $(\"<div></div>\", { \"class\": \"dcpAttribute__content__color__tag\"});\n            colorTag.css('background-color', this.options.attributeValue.value);\n            this.element.find(\".dcpAttribute__value--read\").prepend(colorTag);\n        },\n\n        _initChangeEvent : function wcolInitChangeEvent() {\n            // set by widget if no autocomplete\n            if (this.options.hasAutocomplete) {\n                this._super();\n            }\n        },\n\n        setValue : function wcolSetValue(value) {\n            // this._super.(value);\n            // Don't call dcpText::setValue()\n\n            value = _.clone(value);\n\n            if (_.has(value, \"value\") && !_.has(value, \"displayValue\")) {\n                value.displayValue = this.formatNumber(value.value);\n            }\n\n            $.dcp.dcpAttribute.prototype.setValue.apply(this, [value]);\n\n            if (this.getMode() === \"write\") {\n                var originalValue = this.kendoWidget.data(\"kendoColorPicker\").value();\n                // : explicit lazy equal\n                //noinspection JSHint\n                if (originalValue != value.value) {\n                    this.kendoWidget.data(\"kendoColorPicker\").value(value.value);\n                    // Modify value only if different\n                    this.flashElement();\n                }\n            } else if (this.getMode() === \"read\") {\n                this.getContentElements().text(value.displayValue);\n                this.element.find(\".dcpAttribute__value--read\").css(\"border-color\", value.value);\n            } else {\n                throw new Error(\"Attribute \" + this.options.id + \" unkown mode \" + this.getMode());\n            }\n        },\n\n        _activateColor : function wcolActivateNumber(inputValue) {\n            return inputValue.kendoColorPicker(this.getKendoColorOptions());\n        },\n\n        formatNumber : function wcolFormatNumber(value) {\n            return kendo.toString(value, this.getKendoColorOptions().format);\n        },\n\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoNumeric\n         * @returns {*}\n         */\n        getKendoColorOptions : function wColorgetKendoColorOptions() {\n            var scope = this,\n                kendoOptions = {},\n                defaultOptions = {\n                    change :   function wColor_onchange() {\n                        // Need to set by widget to honor decimals option\n                        scope.setValue({value : this.value()});\n                    }\n                };\n\n            if (_.isObject(scope.options.renderOptions.kendoColorConfiguration)) {\n                kendoOptions = scope.options.renderOptions.kendoColorConfiguration;\n            }\n            return _.extend(defaultOptions, kendoOptions);\n        },\n\n        getType : function wcolGetType() {\n            return \"color\";\n        },\n\n        testValue : function wcolTestValue(value) {\n            this._super(value);\n            if (!_.isNumber(value.value)) {\n                throw new Error(\"The value must be a number for (attrid : \" + this.options.id + \")\");\n            }\n        },\n\n        close : function wColor_close() {\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoColorPicker\")) {\n                this.kendoWidget.data(\"kendoColorPicker\").close();\n            }\n            this._super();\n        },\n\n        _destroy : function _destroy() {\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoColorPicker\")) {\n                this.kendoWidget.data(\"kendoColorPicker\").destroy();\n            }\n            this._super();\n        }\n\n    });\n\n    return $.fn.dcpColor;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/color/wColor.js","/*global define*/\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/attributes/text/wText',\n            'kendo-culture-fr'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function requireWint($, _, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpInt\", $.dcp.dcpText, {\n\n        options: {\n            type: \"int\",\n\n            renderOptions: {\n                kendoNumericConfiguration: {},\n                max: null,\n                min: null,\n                numberFormat: 'n0'\n            },\n            labels: {\n                decreaseLabel: \"Decrease value\",\n                increaseLabel: \"Increase value\"\n            }\n        },\n        /**\n         * The kendoNumericTextBox widget instance\n         */\n        kendoWidget: null,\n\n        _initDom: function wIntInitDom()\n        {\n            this.element.addClass(\"dcpAttribute__content\");\n            this.element.attr(\"data-type\", this.getType());\n            this.element.attr(\"data-attrid\", this.options.id);\n            if (parseFloat(this.options.attributeValue.displayValue) === parseFloat(this.options.attributeValue.value)) {\n                this.options.attributeValue.displayValue = this.formatNumber(this.options.attributeValue.value);\n            }\n\n            if (this.getMode() === \"read\") {\n                if (this.options.renderOptions.format) {\n                    this.options.attributeValue.formatValue = Mustache.render(this.options.renderOptions.format || \"\",\n                        this.options.attributeValue);\n                }\n            }\n\n            //noinspection JSPotentiallyInvalidConstructorUsage,JSAccessibilityCheck\n            $.dcp.dcpAttribute.prototype._initDom.apply(this, []);\n\n            this.kendoWidget = this.element.find(\".dcpAttribute__value--edit\");\n            if (this.kendoWidget) {\n                if (this.options.hasAutocomplete) {\n                    this.activateAutocomplete(this.kendoWidget);\n                } else {\n                    this._activateNumber(this.kendoWidget);\n                }\n            }\n\n            if (this.element.find(\".dcpAttribute__content__buttons button\").length === 0) {\n                this.element.find(\".k-numeric-wrap\").addClass(\"dcpAttribute__content__nobutton\");\n            }\n        },\n\n        _initChangeEvent: function wIntInitChangeEvent()\n        {\n            // set by widget if no autocomplete\n            if (this.options.hasAutocomplete) {\n                this._super();\n            }\n        },\n\n        setValue: function wIntSetValue(value)\n        {\n            // this._super.(value);\n            // Don't call dcpText::setValue()\n\n            value = _.clone(value);\n\n            if (_.has(value, \"value\") && !_.has(value, \"displayValue\")) {\n                value.displayValue = this.formatNumber(value.value);\n            } else {\n                if (parseFloat(value.displayValue) === parseFloat(value.value)) {\n                    value.displayValue = this.formatNumber(value.value);\n                }\n            }\n\n            //noinspection JSPotentiallyInvalidConstructorUsage\n            $.dcp.dcpAttribute.prototype.setValue.apply(this, [value]);\n\n            if (this.getMode() === \"write\") {\n                var originalValue = this.kendoWidget.data(\"kendoNumericTextBox\").value();\n                // : explicit lazy equal\n                //noinspection JSHint\n                if (originalValue != value.value) {\n                    this.kendoWidget.data(\"kendoNumericTextBox\").value(value.value);\n                    // Modify value only if different\n                    this.flashElement();\n                }\n            } else {\n                if (this.getMode() === \"read\") {\n                    this.getContentElements().text(value.displayValue);\n                } else {\n                    throw new Error(\"Attribute \" + this.options.id + \" unkown mode \" + this.getMode());\n                }\n            }\n\n        },\n\n        _activateNumber: function wIntActivateNumber(inputValue)\n        {\n            var kendoWidget, currentCSSClass = inputValue.attr(\"class\");\n            inputValue.removeClass(currentCSSClass);\n            //force display inline-block for work with kendo\n            inputValue.css(\"display\", \"inline-block\");\n            kendoWidget = inputValue.kendoNumericTextBox(this.getKendoNumericOptions());\n            kendoWidget.closest(\".k-widget\").addClass(currentCSSClass);\n            return kendoWidget;\n        },\n\n        formatNumber: function wIntFormatNumber(value)\n        {\n            try {\n                value = kendo.toString(value, this.getKendoNumericOptions().format);\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n                console.error(\"Unable to format the number \" + e);\n            }\n            return value;\n        },\n\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoNumeric\n         * @returns {*}\n         */\n        getKendoNumericOptions: function wIntGetKendoNumericOptions()\n        {\n            var scope = this,\n                kendoOptions = {},\n                defaultOptions = {\n                    decimals: 0,\n                    downArrowText: scope.options.labels.decreaseLabel,\n                    upArrowText: scope.options.labels.increaseLabel,\n                    format: scope.options.renderOptions.numberFormat,\n                    max: scope.options.renderOptions.max,\n                    min: scope.options.renderOptions.min,\n                    change: function wIntGetKendoNumericOptions_onChange()\n                    {\n                        // Need to set by widget to honor decimals option\n                        scope.setValue({value: this.value()});\n                    }\n                };\n            if (_.isObject(scope.options.renderOptions.kendoNumericConfiguration)) {\n                kendoOptions = scope.options.renderOptions.kendoNumericConfiguration;\n            }\n\n            return _.extend(defaultOptions, kendoOptions);\n        },\n\n        getType: function wIntGetType()\n        {\n            return \"int\";\n        },\n\n        testValue: function wIntTestValue(value)\n        {\n            this._super(value);\n            if (!_.isNumber(value.value)) {\n                throw new Error(\"The value must be a number for (attrid : \" + this.options.id + \")\");\n            }\n        },\n\n        _destroy: function _destroy()\n        {\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoNumericTextBox\")) {\n                this.kendoWidget.data(\"kendoNumericTextBox\").destroy();\n            }\n            this._super();\n        }\n\n    });\n\n    return $.fn.dcpInt;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/int/wInt.js","/*global define, console*/\n\ndefine([\n    'underscore',\n    'jquery',\n    'backbone',\n    'mustache',\n    'dcpDocument/models/mDocumentTab',\n    'dcpDocument/views/document/menu/vMenu',\n    'dcpDocument/views/document/header/vHeader',\n    'dcpDocument/views/attributes/frame/vFrame',\n    'dcpDocument/views/attributes/tab/vTabLabel',\n    'dcpDocument/views/attributes/tab/vTabContent',\n    'dcpDocument/views/document/attributeTemplate',\n    'dcpDocument/models/mTransitionGraph',\n    'dcpDocument/views/workflow/vTransitionGraph',\n    'dcpDocument/i18n/documentCatalog',\n    'dcpDocument/widgets/history/wHistory',\n    'dcpDocument/widgets/properties/wProperties'\n], function vDocument(_, $, Backbone, Mustache, ModelDocumentTab, ViewDocumentMenu, ViewDocumentHeader,\n                      ViewAttributeFrame, ViewAttributeTabLabel, ViewAttributeTabContent,\n                      attributeTemplate, ModelTransitionGraph, ViewTransitionGraph, i18n) {\n    'use strict';\n\n    var checkTouchEvents = function checkTouchEvents() {\n        //From modernizer\n        var bool = false;\n        if (('ontouchstart' in window) || window.DocumentTouch && window.document instanceof window.DocumentTouch) {\n            bool = true;\n        }\n        return bool;\n    };\n\n    return Backbone.View.extend({\n\n        className: \"dcpDocument container-fluid\",\n\n        events:\n            {\n                'click .dcpDocument__body a[href^=\"#action/\"], .dcpDocument__body a[data-action], .dcpDocument__body button[data-action]': 'propagateActionClick',\n                'click .dcpDocument__body a[href^=\"#\"]': 'handleHashClick'\n            },\n\n        /**\n         * Init event\n         */\n        initialize: function vDocumentInitialize() {\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'displayLoading', this.displayLoading);\n            this.listenTo(this.model, 'invalid', this.showView);\n            this.listenTo(this.model, 'displayNetworkError', this.displayNetworkError);\n            this.listenTo(this.model, 'actionAttributeLink', this.doStandardAction);\n            this.listenTo(this.model, 'loadDocument', this.loadDocument);\n            this.listenTo(this.model, 'dduiDocumentReady', this.cleanAndRender);\n            this.listenTo(this.model, 'dduiDocumentDisplayView', this.showView);\n        },\n\n        /**\n         * Clean the associated view and re-render it\n         */\n        cleanAndRender: function vDocumentCleanAndRender() {\n            this.trigger(\"loaderShow\", i18n.___(\"Rendering\", \"ddui\"), 70);\n            $(\".dcpStaticErrorMessage\").attr(\"hidden\", true);\n            this.$el.show();\n            this.$el[0].className = this.$el[0].className.replace(/\\bdcpFamily.*\\b/g, '');\n            this.$el.removeClass(\"dcpDocument--view\").removeClass(\"dcpDocument--edit\");\n            try {\n                if (this.historyWidget) {\n                    this.historyWidget.destroy();\n                }\n                if (this.propertiesWidget) {\n                    this.propertiesWidget.destroy();\n                }\n                if (this.helpWidget) {\n                    this.helpWidget.destroy();\n                }\n                if (this.transitionGraph && this.transitionGraph.view) {\n                    this.transitionGraph.view.remove();\n                }\n            } catch (e) {\n                console.error(e);\n            }\n            //  this.trigger(\"cleanNotification\");\n            this.render();\n        },\n\n        /**\n         * Render the document view\n         * @returns {*}\n         */\n        render: function vDocumentRender() {\n            console.time(\"render document view\");\n            var renderPromises = [];\n            var $content, model = this.model, $el = this.$el, currentView = this;\n            var locale = this.model.get('locale');\n            var documentView = this;\n            var htmlBody = '<div class=\"dcpDocument__form form-horizontal\">' +\n                '<div class=\"dcpDocument__frames\"></div>' +\n                '<div style=\"display:none\" class=\"dcpDocument__tabs\">' +\n                '<ul class=\"dcpDocument__tabs__list\"></ul></div></div>';\n            var $body;\n            var tabPlacement = this.model.getOption(\"tabPlacement\") || \"top\";\n            var event = {prevent: false};\n            var viewMenus = [];\n\n            this.$el.removeClass(\"dcpTouch\");\n            if (checkTouchEvents()) {\n                this.$el.addClass(\"dcpTouch\");\n            }\n\n            this.selectedTab = this.model.getOption(\"openFirstTab\");\n            this.model.trigger(\"beforeRender\", event);\n\n            if (event.prevent) {\n                return this;\n            }\n\n            this.template = this.getTemplates(\"body\").trim();\n            this.partials = this.getTemplates(\"sections\");\n\n            // Hide parasite tooltip if any\n            this.$el.find(\"[aria-describedby*='tooltip']\").tooltip(\"hide\");\n            this.$el.empty();\n\n            this.renderCss();\n            this.publishMessages();\n\n            this.updateTitle();\n            this.updateIcon();\n\n            if (!locale) {\n                locale = \"fr-FR\";\n            }\n            $(window).off(\".v\" + this.model.cid);\n\n            $(window).on(\"resize.v\" + this.model.cid, _.bind(this.resizeForFooter, this));\n            $(window).on(\"scroll.v\" + this.model.cid, _.bind(this.fixedTab, this));\n            kendo.culture(locale);\n            //add document base\n            try {\n                var renderData = this.model.toData();\n                renderData.document = attributeTemplate.getTemplateModelInfo(this.model);\n                this.$el.append($(Mustache.render(this.template || \"\", renderData, this.partials)));\n                attributeTemplate.completeCustomContent(this.$el, this.model, null, {initializeContent: true});\n                $body = this.$el.find(\".dcpDocument__body\").append(htmlBody).addClass(\"container-fluid\");\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n\n            this.$el.removeClass(\"dcpDocument--create\");\n            if (this.model.get(\"creationFamid\")) {\n                this.$el.addClass(\"dcpDocument--create\");\n            }\n            this.$el.addClass(\"dcpDocument dcpDocument--\" + this.model.get(\"renderMode\"));\n            this.$el.addClass(\"dcpFamily--\" + this.model.get(\"properties\").get(\"family\").name);\n            this.trigger(\"loading\", 10);\n            //add menu\n            try {\n                this.$el.find(\".dcpDocument__menu\").each(function vDocumentAddMenu() {\n                    var viewMenu = new ViewDocumentMenu({\n                        model: currentView.model,\n                        el: this\n                    });\n                    renderPromises.push(viewMenu.render());\n                    viewMenus.push(viewMenu);\n                });\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n            try {\n                this.$el.find(\".dcpDocument__header\").each(function vDocumentAddHeader() {\n                    renderPromises.push((new ViewDocumentHeader({\n                        model: currentView.model,\n                        el: this\n                    }).render()));\n                });\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n            this.trigger(\"loading\", 20, this.model.get(\"attributes\").length);\n            //add first level attributes\n\n            $content = this.$el.find(\".dcpDocument__frames\");\n            if ($body && $body.length > 0) {\n                this.model.get(\"attributes\").each(function vDocumentRenderAttribute(currentAttr) {\n                    var view, viewTabLabel, viewTabContent;\n                    if (!currentAttr.isDisplayable()) {\n                        currentView.trigger(\"partRender\");\n                        return;\n                    }\n                    if (currentAttr.get(\"type\") === \"frame\" && _.isEmpty(currentAttr.get(\"parent\"))) {\n                        try {\n\n                            view = new ViewAttributeFrame({\n                                model: model.get(\"attributes\").get(currentAttr.id)\n                            });\n                            renderPromises.push(view.render());\n                            $content.append(view.$el);\n\n                        } catch (e) {\n                            if (window.dcp.logger) {\n                                window.dcp.logger(e);\n                            } else {\n                                console.error(e);\n                            }\n                        }\n                    }\n                    if (currentAttr.get(\"type\") === \"tab\" && _.isEmpty(currentAttr.get(\"parent\"))) {\n                        try {\n                            var tabModel = model.get(\"attributes\").get(currentAttr.id);\n                            var tabContent;\n                            viewTabLabel = new ViewAttributeTabLabel({model: tabModel});\n\n                            viewTabContent = new ViewAttributeTabContent({\n                                model: tabModel\n                            });\n                            renderPromises.push(viewTabContent.render());\n\n                            tabContent = viewTabContent.$el;\n\n                            $el.find(\".dcpDocument__tabs__list\").append(viewTabLabel.render().$el);\n\n                            $el.find(\".dcpDocument__tabs\").append(tabContent);\n                            $el.find(\".dcpDocument__tabs\").show();\n                        } catch (e) {\n                            if (window.dcp.logger) {\n                                window.dcp.logger(e);\n                            } else {\n                                console.error(e);\n                            }\n                        }\n                    }\n                    currentView.trigger(\"partRender\");\n                });\n\n                this.kendoTabs = this.$(\".dcpDocument__tabs\").kendoTabStrip({\n                    tabPosition: tabPlacement,\n                    animation: {\n                        open: {\n                            duration: 100,\n                            effects: \"fadeIn\"\n                        }\n                    },\n                    activate: function vDocument(event) {\n                        if (!this._dcpNotFirstactivate) {\n                            _.delay(_.bind(documentView.scrollTobVisibleTab, documentView), 500);\n                            this._dcpNotFirstactivate = true;\n                        }\n                    },\n                    show: function vDocumentShowTab(event) {\n                        var tabId = $(event.item).data(\"attrid\");\n                        var scrollY = $(window).scrollTop();\n                        currentView.$(\".dcpTab__label\").removeClass(\"dcpLabel--active\").addClass(\"dcpLabel--default\");\n                        currentView.$('.dcpLabel[data-attrid=\"' + tabId + '\"]').addClass(\"dcpLabel--active\").removeClass(\"dcpLabel--default\");\n                        if (documentView.selectedTab !== tabId) {\n                            documentView.selectedTab = tabId;\n                            documentView.recordSelectedTab(tabId);\n                        }\n                        _.defer(function selectOneTab() {\n                            if (currentView && currentView.model && currentView.model.get(\"attributes\")) {\n                                var tab = currentView.model.get(\"attributes\").get(tabId);\n                                if (tab) {\n                                    // Hide parasite tooltip if any\n                                    currentView.$el.find(\"[aria-describedby*='tooltip']\").tooltip(\"hide\");\n                                    tab.trigger(\"showTab\");\n                                    _.each(viewMenus, function (viewMenu) {\n                                        viewMenu.refresh();\n                                    });\n                                    _.defer(function () {\n                                        $(window).scrollTop(scrollY);\n\n                                    });\n                                }\n                            }\n                        });\n                    }\n                });\n                if (tabPlacement === \"topProportional\") {\n                    var tabItems = $el.find(\".dcpDocument__tabs__list li\");\n                    if (tabItems.length > 1) {\n                        tabItems.css(\"width\", Math.floor(100 / tabItems.length) - 0.5 + '%');\n                    } else {\n                        tabItems.css(\"width\", \"80%\");\n                    }\n                }\n                if (tabPlacement === \"left\") {\n                    this.$(\".dcpTab__content\").css(\"min-height\", this.$(\".dcpDocument__tabs__list\").height() + \"px\");\n                    this.$(\".dcpDocument__tabs\").addClass(\"dcpDocument__tabs--left\");\n                }\n\n                if (tabPlacement === \"topFix\" && this.kendoTabs) {\n                    this.$(\".dcpDocument__tabs\").addClass(\"dcpDocument__tabs--fixed\");\n\n                    $(window).on(\"resize.v\" + this.model.cid, _.debounce(_.bind(this.responsiveTabMenu, this), 100, false));\n\n                }\n                if (tabPlacement === \"top\" && this.kendoTabs) {\n                    this.$(\".dcpDocument__tabs\").addClass(\"dcpDocument__tabs--fixed\");\n                    $(window).on(\"resize.v\" + this.model.cid, _.debounce(_.bind(this.scrollTabList, this), 100, false));\n                    _.delay(_.bind(this.scrollTabList, this), 500);\n\n                }\n\n                if (this.kendoTabs.length > 0 && this.kendoTabs.data(\"kendoTabStrip\")) {\n                    var selectTab = 'li[data-attrid=' + this.selectedTab + ']';\n                    if (this.selectedTab && $(selectTab).length > 0) {\n                        this.kendoTabs.data(\"kendoTabStrip\").select(selectTab);\n                    } else {\n                        this.kendoTabs.data(\"kendoTabStrip\").select(0);\n                    }\n                }\n            }\n            $(window.document).on(\"drop.v\" + this.model.cid + \" dragover.\" + this.model.cid, function vDocumentPreventDragDrop(e) {\n                e.preventDefault();\n            }).on(\"redrawErrorMessages.v\" + this.model.cid, function vDocumentRedrawErrorMessages() {\n                documentView.model.redrawErrorMessages();\n            });\n            $(window).on(\"resize.v\" + this.model.cid, _.debounce(function vDocumentResizeDebounce() {\n                documentView.model.redrawErrorMessages();\n                documentView.scrollTobVisibleTab();\n            }, 100, false));\n\n            $(window).on(\"resize.v\" + this.model.cid, _.debounce(function vDocumentResizeDebounce() {\n                if (documentView.model.get(\"attributes\")) {\n                    documentView.model.get(\"attributes\").each(function vDocument_triggerClose(currentAttributeModel) {\n                        currentAttributeModel.trigger(\"closeWidget\");\n                    });\n                }\n            }, 100, false));\n\n            this.$el.addClass(\"dcpDocument--show\");\n\n            this.resizeForFooter();\n            console.timeEnd(\"render document view\");\n            Promise.all(renderPromises).then(_.bind(function vDocumentRenderDone() {\n                this.trigger(\"renderDone\");\n            }, this));\n            this.$el.show();\n            if (tabPlacement === \"topFix\" && this.kendoTabs) {\n                _.defer(_.bind(this.responsiveTabMenu, this)); // need to call here to have good dimensions\n            }\n            if (tabPlacement === \"left\") {\n                this.$(\".dcpTab__content\").css(\"width\", \"calc(100% - \" + ($(\".dcpDocument__tabs__list\").width() + 30) + \"px)\");\n            }\n\n            _.delay(function vDocumentEndLoading() {\n                $(\".dcpLoading--init\").removeClass(\"dcpLoading--init\");\n                if (tabPlacement === \"topFix\" && documentView.kendoTabs) {\n                    documentView.responsiveTabMenu(); // need to call here to have good dimensions\n                }\n            }, 500);\n\n            return this;\n        },\n\n        resizeForFooter: function vDocumentresizeForFooter() {\n            var $footer = this.$el.find(\".dcpDocument__footer\");\n            if ($footer.length > 0) {\n                var footerHeight = $footer.height();\n                if (footerHeight > 0) {\n                    $(\"body\").css(\"margin-bottom\", footerHeight + \"px\");\n                }\n            }\n        },\n\n        /**\n         * Scroll to visible tab label\n         */\n        scrollTobVisibleTab: function vDocumentscrollTobVisibleTab() {\n            var kendoTabStrip = (this.kendoTabs) ? this.kendoTabs.data(\"kendoTabStrip\") : null;\n            if (kendoTabStrip && kendoTabStrip._scrollableModeActive) {\n                kendoTabStrip._scrollTabsToItem(this.kendoTabs.find(\"li.k-state-active\"));\n            }\n        },\n\n        fixedTab: function vDocumentfixedTab(event) {\n            // @TODO Need a decision to delete this option or not\n            return;\n            var $tabs = this.$el.find(\".dcpDocument__tabs\");\n            var $ul;\n            if ($tabs.length > 0) {\n                var tabPlacement = this.model.getOption(\"tabPlacement\") || \"top\";\n                var menuHeight = this.$el.find(\".menu__content\").height();\n                var kendoTabStrip = this.kendoTabs.data(\"kendoTabStrip\");\n                var isAlreadyFixed = $tabs.hasClass(\"tab--fixed\");\n                var $liActive = $tabs.find(\"li.k-state-active\");\n                var scrollTop = $(window).scrollTop();\n                var $navButtons = $tabs.find(\".k-bare\");\n                var resizeMode = (event.type === \"resize\");\n                if (scrollTop > ($tabs.offset().top - menuHeight)) {\n                    $tabs.addClass(\"tab--fixed\");\n                    $tabs.css(\"top\", menuHeight + \"px\");\n                    if (tabPlacement === \"top\") {\n                        // Special case for scrolling tabs\n                        $ul = $tabs.find(\".dcpDocument__tabs__list\");\n                        if (resizeMode) {\n                            kendoTabStrip.resize();\n                        }\n                        var $navButtonsVisible = $tabs.find(\".k-bare:visible\");\n                        if ($navButtonsVisible.length > 0) {\n\n                            if (!isAlreadyFixed || resizeMode) {\n                                $ul.css(\"width\", \"\");\n                                if (!$ul.data(\"margins\")) {\n                                    if (parseInt($navButtonsVisible.width()) > 0) {\n                                        $ul.data(\"fixMargins\",\n                                            {left: $navButtonsVisible.width(), right: $navButtonsVisible.width()});\n                                        $ul.data(\"originalMargins\",\n                                            {left: $ul.css(\"margin-left\"), right: $ul.css(\"margin-right\")});\n                                    }\n                                }\n                                if ($ul.data(\"fixMargins\")) {\n                                    $ul.css(\"margin-left\", $ul.data(\"fixMargins\").left);\n                                    $ul.css(\"margin-right\", $ul.data(\"fixMargins\").right);\n                                }\n\n\n                                var ulWidth = $tabs.width() - parseInt($ul.css(\"margin-right\")) - parseInt($ul.css(\n                                    \"margin-left\"));\n                                $ul.css(\"width\", ulWidth + \"px\");\n                                $navButtons.css(\"height\", $ul.outerHeight() + \"px\");\n\n                                $ul.css(\"top\", (menuHeight) + \"px\");\n                                $tabs.find(\".k-bare\").css(\"top\", (menuHeight + 0) + \"px\");\n\n                                if ($liActive.length === 1) {\n                                    kendoTabStrip.activateTab($liActive);\n                                }\n                            }\n                        } else {\n                            if (parseInt($ul.css(\"margin-left\")) > 0) {\n                                $ul.data(\"margins\", {left: $ul.css(\"margin-left\"), right: $ul.css(\"margin-right\")});\n                            }\n                            $ul.css(\"width\", \"\").css(\"margin-right\", \"\").css(\"margin-left\", \"\");\n                        }\n                    }\n                } else {\n                    var $tabContent = this.$el.find(\".dcpTab__content.k-state-active\").first();\n                    var $tabList = this.$el.find(\".dcpDocument__tabs__list\");\n\n                    if ($tabContent.length > 0 && scrollTop < Math.max(($tabContent.offset().top - menuHeight - $tabList.height()), $tabList.height())) {\n                        if (isAlreadyFixed) {\n                            $tabs.removeClass(\"tab--fixed\");\n                            $tabs.css(\"top\", \"\");\n                            if (tabPlacement === \"top\") {\n                                $navButtons.css(\"height\", \"\");\n                                $ul = $tabs.find(\".dcpDocument__tabs__list\");\n                                $ul.css(\"width\", \"\").css(\"top\", \"\");\n                                $tabs.find(\".k-bare\").css(\"top\", \"\");\n                                if ($ul.data(\"originalMargins\")) {\n                                    $ul.css(\"margin-left\", $ul.data(\"originalMargins\").left);\n                                    $ul.css(\"margin-right\", $ul.data(\"originalMargins\").right);\n                                }\n                                if ($liActive.length === 1) {\n                                    kendoTabStrip.activateTab($liActive);\n                                }\n                                kendoTabStrip.resize();\n                            }\n                        }\n                    }\n                }\n            }\n        },\n\n        scrollTabList: function vDocumentScrollTabList(event) {\n            var kendoTabStrip = this.kendoTabs.data(\"kendoTabStrip\");\n            var $tabs = this.$el.find(\".dcpDocument__tabs\");\n\n            if ($tabs.hasClass(\"tab--fixed\")) {\n\n                _.defer(_.bind(this.fixedTab, this, event));\n            } else {\n                if (kendoTabStrip) {\n                    kendoTabStrip.resize();\n                }\n            }\n\n        },\n        /**\n         * Add menu if needed in topFix placement tab\n         */\n        responsiveTabMenu: function vDocumentTabFixMenu() {\n            var $tabLabel = this.$(\".dcpDocument__tabs__list li\");\n\n            var documentWidth = this.$(\".dcpDocument__tabs\").width() - 12;\n            var currentWidth = 0;\n            var hiddens = [];\n            var lastShow = null;\n            var $dropSelect;\n            var $dropTopSelect;\n            var $kendoTabs = this.kendoTabs.data(\"kendoTabStrip\");\n            var liIndex = 0;\n            var $tabs = this.$(\".dcpDocument__tabs\");\n            var $selectedTabId = this.selectedTab;\n            var hiddenSelected = false;\n            var dataSource = null;\n            var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n\n            // $tabs.find(\".dcpDocument__tabs__list\").css(\"overflow\", \"hidden\").css(\"max-height\", \"2.7em\");\n            // Restore initial tabs\n            $tabLabel.show();\n\n            $tabLabel.each(function vDocumentHideTabWidth() {\n                currentWidth += $(this).outerWidth();\n                if (currentWidth > documentWidth) {\n                    $(this).hide();\n                    if (hiddens.length === 0) {\n                        hiddens.push({\n                            tooltipLabel: $(lastShow).data(\"tooltipLabel\"),\n                            label: $(lastShow).find(\".k-link\").text(),\n                            id: $(lastShow).data(\"attrid\"),\n                            index: liIndex - 1\n                        });\n                    }\n                    hiddens.push({\n                        tooltipLabel: $(this).data(\"tooltipLabel\"),\n                        label: $(this).find(\".k-link\").text(),\n                        id: $(this).data(\"attrid\"),\n                        index: liIndex\n                    });\n                } else {\n                    $kendoTabs.enable && $kendoTabs.enable($(this));\n                    lastShow = this;\n                }\n\n                liIndex++;\n            });\n\n            /**\n             * Need to recompute container width\n             */\n            $(\".dcpLabel__select-hide:visible\").each(function vDocumentSelectContainer() {\n                var $container = $(this).closest(\".k-list-container\");\n                var x = $container.offset().left;\n                var maxWidth = ($('body').width() - x - 20) + \"px\";\n\n                $container.css(\"max-width\", maxWidth);\n                $container.closest(\".k-animation-container\").css(\"max-width\", maxWidth);\n                $(this).css(\"max-width\", \"\");\n            });\n\n            if ($tabs.data(\"hiddenTabsLength\") === hiddens.length) {\n                // Optimization if no new tabs to hide\n                if (hiddens.length > 0) {\n                    $kendoTabs && $kendoTabs.disable && $kendoTabs.disable($(lastShow));\n                }\n\n                //$tabs.find(\".dcpDocument__tabs__list\").css(\"overflow\", \"\").css(\"max-height\", \"\");\n                return;\n            }\n\n            // Delete fixed height\n            //$tabLabel.css(\"height\", '');\n            // Record hidden count to optimization\n            $tabs.data(\"hiddenTabsLength\", hiddens.length);\n            $tabLabel.find(\".k-link\").show(); // Restore original link (tab label)\n\n            $dropTopSelect = $tabs.find(\".dcpTab__label__select.k-combobox\").hide();\n            $tabs.find(\"input.dcpTab__label__select[data-role=combobox]\").each(function vDocumentSelectTabClose() {\n                $(this).data(\"kendoComboBox\") &&\n                $(this).data(\"kendoComboBox\").close &&\n                $(this).data(\"kendoComboBox\").close();\n            });\n\n            $tabs.find(\".dcpLabel--select\").removeClass(\"dcpLabel--select k-state-active\");\n            $tabs.find(\".dcpLabel[data-attrid=\" + $selectedTabId + \"]\").addClass(\"k-state-active\");\n\n            if (hiddens.length > 0) {\n\n                // Need to disable tab to use own events managing\n                if (lastShow) {\n                    $kendoTabs.disable($(lastShow));\n                }\n\n                // Hide original link\n                $(lastShow).find(\".k-link\").hide();\n                // Replace it to a dropdown selector\n                hiddenSelected = _.some(hiddens, function vDocumentSomeHiddens(item) {\n                    return (item.id === $selectedTabId);\n                });\n\n                if (hiddenSelected) {\n                    $(lastShow).addClass(\"k-state-active\");\n                } else {\n                    if ($(lastShow).data(\"attrid\") !== $selectedTabId) {\n                        $(lastShow).removeClass(\"k-state-active\");\n                    }\n                }\n\n                $(lastShow).addClass(\"dcpLabel--select\");\n                //$(lastShow).height(currentHeight - 5);\n                if ($dropTopSelect.length === 0) {\n                    $dropSelect = $('<input class=\"dcpTab__label__select\" />');\n                    $(lastShow).append($dropSelect);\n                    $dropSelect.kendoComboBox({\n                        value: hiddenSelected ? $selectedTabId : hiddens[0].id,\n                        dataSource: hiddens,\n                        dataTextField: \"label\",\n                        dataValueField: \"id\",\n                        dataBound: function vDocumentTabSelectDatabound() {\n                            var myTab = $(this.element).closest(\"li\");\n                            var liItem = $tabs.find(\"li[data-attrid=\" + this.value() + \"]\");\n                            myTab.data(\"tooltipLabelSelect\", liItem.data(\"tooltipLabel\"));\n                        },\n                        select: function vDocumentTabSelectSelect(event) {\n                            var dataItem = this.dataSource.at(event.item.index());\n                            var liItem = $tabs.find(\"li[data-attrid=\" + dataItem.id + \"]\");\n                            var myTab = $(this.element).closest(\"li\");\n\n                            myTab.data(\"tooltipLabelSelect\", dataItem.tooltipLabel);\n                            // Need to reset class and enable to really trigger show events\n                            myTab.removeClass(\"k-state-active\");\n                            $kendoTabs.enable(myTab);\n                            $kendoTabs.select(liItem);\n                            $kendoTabs.disable(myTab);\n                            myTab.addClass(\"k-state-active\");\n                            myTab.find(\".k-input\").blur(); // Because input is read only\n                        },\n                        open: function vDocumentTabSelectOpen() {\n                            // Need to compute width of container to see elements\n                            // Set max-width to not be out of body\n                            var $ul = $(this.ul);\n                            var $li = $(this.element).closest(\"li\");\n                            var x = $li.offset().left;\n                            var bodyWidth = $('body').width();\n                            $ul.css(\"max-width\", Math.max((bodyWidth - x - 20), $(lastShow).width()) + \"px\");\n                            $ul.css(\"min-width\", $li.width());\n                            _.defer(function vDocumentSelectTabOpen() {\n                                $ul.closest(\".k-animation-container\").addClass(\"menu__select_container\");\n                            });\n                        },\n\n                        template: function vDocumentTabSelectTemplate(event) {\n                            if (event.tooltipLabel) {\n                                return Mustache.render('<span class=\"dcpLabel__select--tooltip\" data-tooltipLabel=\"{{tooltipLabel}}\">{{label}}</span>', event);\n                            }\n                            return event.label;\n                        }\n                    });\n\n                    $dropSelect.data(\"kendoComboBox\").ul.addClass(\"dcpLabel__select-hide\");\n                    // The container width is computed by open event\n                    $dropSelect.data(\"kendoComboBox\").list.width(\"auto\");\n                    // No use input selector\n                    $(lastShow).find(\"input\").attr(\"aria-readonly\", \"true\").prop(\"readonly\", true);\n                    $(lastShow).find(\".k-select\").prepend($(\"<span/>\").addClass(\"dcpLabel__count\"));\n\n                    $dropSelect.data(\"kendoComboBox\").ul.tooltip({\n                        selector: \"li.k-item \",\n                        placement: \"left\",\n                        container: \".dcpDocument\",\n                        html: true,\n                        title: function vDocumentTabSelectTitle() {\n                            return $(this).find(\".dcpLabel__select--tooltip\").attr(\"data-tooltipLabel\");\n                        }\n                    });\n                    $dropSelect.parent().find(\".k-input\").css(\"width\", \"\");\n\n                } else {\n                    // Reuse dropDown created previously\n                    $dropTopSelect.show();\n                    $dropSelect = $tabs.find(\"input.dcpTab__label__select[data-role=combobox]\");\n                    $(lastShow).append($dropTopSelect); // Move to new lastShow\n                    if ($dropSelect.data(\"kendoComboBox\")) {\n                        $dropSelect.data(\"kendoComboBox\").value(hiddenSelected ? $selectedTabId : hiddens[0].id);\n                        dataSource = new kendo.data.DataSource({\n                            data: hiddens\n                        });\n                        $dropSelect.data(\"kendoComboBox\").setDataSource(dataSource);\n                    }\n                }\n\n                // Add count in select button\n                $(lastShow).find(\".dcpLabel__count\").text(hiddens.length);\n\n                if (!$tabs.data(\"selectFixOn\")) {\n                    // Add callback only one time\n                    $tabs.on(\"click\", \".dcpLabel--select .k-dropdown-wrap .k-input\", function vDocumentTabSelectClick(event) {\n                        var selectedTab = $kendoTabs.select().data(\"attrid\");\n                        var selectedItem = $tabs.data(\"selectFixOn\").data(\"kendoComboBox\").value();\n                        var liItem = $tabs.find(\"li[data-attrid=\" + selectedItem + \"]\");\n                        var myTab = $(this).closest(\"li\");\n\n                        if (selectedItem !== selectedTab) {\n                            myTab.removeClass(\"k-state-active\");\n                            $kendoTabs.enable(myTab);\n                            $kendoTabs.select(liItem);\n                            $kendoTabs.disable(myTab);\n                            myTab.addClass(\"k-state-active\");\n                        }\n                    });\n\n                    $tabs.on(\"focus\", \".dcpLabel--select .k-dropdown-wrap .k-input\", function vDocumentTabFocus() {\n                        $(this).blur();\n                    });\n                }\n\n                // Memorize dropdown to reuse it in callback and to listen only one\n                $tabs.data(\"selectFixOn\", $dropSelect);\n            }\n            if ('ontouchstart' in document.documentElement && iOS) {\n                $(\"body\").off('show.bs.tooltip').on('show.bs.tooltip', \"[data-original-title]\", function vDocumentWorkaroundIosTouch(e) {\n                    // prevent ios double tap\n                    var $tooltip = $(this);\n                    var tooltipObject = $tooltip.data(\"bs.tooltip\");\n\n                    if (tooltipObject &&\n                        tooltipObject.inState.click === false &&\n                        tooltipObject.inState.focus === false &&\n                        tooltipObject.inState.hover === false\n                    ) {\n                        return;\n                    }\n\n                    if ('ontouchstart' in document.documentElement) {\n                        if (!$tooltip.data(\"showios\")) {\n                            e.preventDefault();\n                            $tooltip.data(\"showios\", true);\n                            _.delay(function vDocumentWorkaroundIosDelay() {\n                                $tooltip.tooltip(\"show\");\n                                $tooltip.data(\"showios\", false);\n                                _.delay(function vDocumentWorkaroundIosSecondDelay() {\n                                    $tooltip.tooltip(\"hide\");\n                                }, 2000);\n                            }, 500);\n                        }\n                    }\n                });\n            }\n\n            //$tabs.find(\".dcpDocument__tabs__list\").css(\"overflow\", \"\").css(\"max-height\", \"\");\n\n        },\n\n        /**\n         *\n         * Register the current tab for the current user\n         *\n         * @param tabId\n         */\n        recordSelectedTab: function vDocumentRecordSelectedTab(tabId) {\n            if (this.model.get(\"initid\")) {\n                var tagTab = new ModelDocumentTab({\"initid\": this.model.get(\"initid\"), \"tabId\": tabId});\n                tagTab.save();\n            }\n        },\n\n        /**\n         * Publish associated model message\n         */\n        publishMessages: function vDocumentPublishMessages() {\n            var currentView = this;\n            _.each(this.model.get(\"messages\"), function vDocumentPublishAMessage(aMessage) {\n                currentView.trigger(\"showMessage\", {\n                    type: aMessage.type,\n                    title: aMessage.contentText,\n                    htmlMessage: aMessage.contentHtml\n                });\n            });\n        },\n\n        /**\n         * Inject associated CSS in the DOM\n         *\n         * Inject new CSS, remove old CSS\n         */\n        renderCss: function vDocumentRenderCss(noRemove) {\n            // add custom css style\n            var $head = $(\"head\"),\n                cssLinkTemplate = _.template('<link rel=\"stylesheet\" type=\"text/css\" ' +\n                    'href=\"<%= path %>\" data-id=\"<%= key %>\" data-view=\"true\">'),\n                customCss = this.model.get(\"customCSS\");\n\n            if (noRemove !== true) {\n                //Remove old CSS\n\n                _.each($(\"link[data-view=true]\"), function vDocumentRemoveOldCSS(currentLink) {\n                    var findCss = function vDocumentFindCss(currentCss) {\n                        return $(currentLink).data(\"id\") === currentCss.key;\n                    };\n                    if (_.find(customCss, findCss) === undefined) {\n                        $(currentLink).remove();\n                    }\n                });\n            }\n            // Inject new CSS\n            _.each(customCss, function vDocumentInjectNewCSS(cssItem) {\n                var $existsLink = $('link[rel=stylesheet][data-id=' + cssItem.key + ']');\n\n                if ($existsLink.length === 0) {\n                    if (document.createStyleSheet) {\n                        // Special thanks to IE : ! up to 31 css cause errors...\n                        document.createStyleSheet(cssItem.path);\n                    }\n                    $head.append(cssLinkTemplate(cssItem));\n                }\n            });\n        },\n\n        /**\n         * Show the help document in dialog\n         *\n         */\n        showHelp: function vDocumentShowHelp(event, helpId, attrid) {\n            var $document = $(this.el);\n            var scope = this;\n            var $dialogDiv = $document.data(\"dcpHelpDocument-\" + helpId);\n            var currentTarget = (event.originalEvent) ? event.originalEvent.currentTarget : event.currentTarget;\n            var htmlLink = {\n                target: \"_dialog\",\n                windowWidth: \"400px\",\n                windowHeight: \"300px\",\n                windowTitle: '<span class=\"fa fa-question-circle\"></span> ' + i18n.___(\"Info\", \"ddui\")\n            };\n\n            require.ensure(['dcpDocument/document'], function vDocumentHelp() {\n                require('dcpDocument/document');\n                var helpX, helpY, bodyH, dialogH, dialogW;\n\n                if (!$dialogDiv || $dialogDiv.is(\":visible\") === false) {\n\n                    if (scope.helpWidget) {\n                        scope.helpWidget.destroy();\n                    }\n                    $dialogDiv = $('<div/>').addClass(\"dcpHelp-wrapper\");\n\n                    $dialogDiv.kendoWindow({\n                        title: htmlLink.windowTitle,\n                        width: htmlLink.windowWidth,\n                        height: htmlLink.windowHeight,\n                        iframe: true,\n                        content: \"about:blank\",\n                        actions: [\n                            \"Maximize\",\n                            \"Close\"\n                        ],\n                        close: function vDocumentSelectHelpClose() {\n                            $(\".dcpLabel__help__link--selected\").removeClass(\"dcpLabel__help__link--selected\");\n                        }\n                    });\n\n                    $dialogDiv.on(\"documentcreate\", function vDocumentHelpCreate() {\n                        $dialogDiv.find(\"> iframe\").addClass(\"k-content-frame\");\n                    });\n\n                    $dialogDiv.document({\n                        \"initid\": helpId,\n                        withoutResize: true\n                    }).on(\"documentloaded\", function vDocumentSelectHelpChapter() {\n                        _.defer(function vDocumentHelpReady() {\n                            $dialogDiv.document(\n                                \"triggerEvent\",\n                                \"custom:helppageSelect\",\n                                attrid);\n                        });\n                    });\n\n                    $document.data(\"dcpHelpDocument-\" + helpId, $dialogDiv);\n                } else {\n                    $dialogDiv.document(\n                        \"triggerEvent\",\n                        \"custom:helppageSelect\",\n                        attrid);\n                }\n\n                scope.helpWidget = $dialogDiv.data('kendoWindow');\n                $(\".dcpLabel__help__link--selected\").removeClass(\"dcpLabel__help__link--selected\");\n\n                if ($(currentTarget).length > 0) {\n                    $(currentTarget).addClass(\"dcpLabel__help__link--selected\");\n\n                    // Compute new position of help dialog window\n                    helpX = $(currentTarget).offset().left;\n                    helpY = $(currentTarget).offset().top;\n                    bodyH = $(\"body\").height();\n                    dialogH = $(scope.helpWidget.wrapper).closest(\".k-window\").height();\n                    dialogW = $(scope.helpWidget.wrapper).closest(\".k-window\").width();\n                    if (helpX > dialogW + 50) {\n                        helpX = helpX - dialogW - 30;\n                    } else {\n                        helpX = helpX + 30;\n                    }\n\n                    if (helpY > bodyH - dialogH) {\n                        helpY = bodyH - dialogH - 50;\n                    }\n\n                    helpY = helpY < 0 ? 0 : helpY;\n\n                    $(scope.helpWidget.wrapper).css({\n                        top: (helpY) + \"px\",\n                        left: (helpX) + \"px\"\n                    });\n                } else {\n                    scope.helpWidget.center();\n                }\n                scope.helpWidget.open();\n\n            }, \"wDocument\");\n        },\n\n        /**\n         * Show the history widget\n         *\n         */\n        showHistory: function vDocumentShowHistory(docid) {\n            var scope = this;\n            var $target = $('<div class=\"document-history\"/>');\n            this.historyWidget = $target.dcpDocumentHistory({\n                documentId: docid || this.model.get(\"properties\").get(\"initid\"),\n                window: {\n                    width: \"80%\",\n                    height: \"80%\",\n                    title: i18n.___(\"Document History\", \"historyUi\")\n                },\n                labels: {\n                    version: i18n.___(\"Version\", \"historyUi\"),\n                    revision: i18n.___(\"Rev\", \"historyUi\"),\n                    state: i18n.___(\"State\", \"historyUi\"),\n                    activity: i18n.___(\"Activity\", \"historyUi\"),\n                    owner: i18n.___(\"Owner\", \"historyUi\"),\n                    code: i18n.___(\"Code\", \"historyUi\"),\n                    date: i18n.___(\"Date\", \"historyUi\"),\n                    diff: i18n.___(\"Diff\", \"historyUi\"),\n                    level: i18n.___(\"Level\", \"historyUi\"),\n                    message: i18n.___(\"Message\", \"historyUi\"),\n                    pastRevision: i18n.___(\"past Revision\", \"historyUi\"),\n                    showDetail: i18n.___(\"Show details\", \"historyUi\"),\n                    hideDetail: i18n.___(\"Hide details\", \"historyUi\"),\n                    showNotice: i18n.___(\"Show notices\", \"historyUi\"),\n                    noOneNotice: i18n.___(\"No one notices\", \"historyUi\"),\n                    hideNotice: i18n.___(\"Hide notices\", \"historyUi\"),\n                    filterMessages: i18n.___(\"Filter messages\", \"historyUi\"),\n                    linkRevision: i18n.___(\"See revision number #\", \"historyUi\"),\n                    historyTitle: i18n.___(\"History for {{title}}\", \"historyUi\"),\n                    loading: i18n.___(\"Loading ...\", \"historyUi\"),\n                    revisionDiffLabels: {\n                        \"title\": i18n.___(\"Difference between two revisions\", \"historyDiffUi\"),\n                        \"first\": i18n.___(\"First document\", \"historyDiffUi\"),\n                        \"second\": i18n.___(\"Second document\", \"historyDiffUi\"),\n                        \"attributeId\": i18n.___(\"Attribute id\", \"historyDiffUi\"),\n                        \"attributeLabel\": i18n.___(\"Attribute label\", \"historyDiffUi\"),\n                        \"documentHeader\": i18n.___(\"{{title}}  (Revision : {{revision}}). <br/>Created on <em>{{revdate}}</em>\", \"historyDiffUi\"),\n                        \"filterMessages\": i18n.___(\"Filter data\", \"historyDiffUi\"),\n                        \"showOnlyDiff\": i18n.___(\"Show only differences\", \"historyDiffUi\"),\n                        \"showAll\": i18n.___(\"Show all\", \"historyDiffUi\")\n                    }\n                }\n            }).data(\"dcpDocumentHistory\");\n\n            this.historyWidget.open();\n            this.historyWidget.element.on(\"viewRevision\", function vDocumentViewRevision(event, data) {\n                scope.model.fetchDocument({\n                    initid: data.initid,\n                    revision: data.revision\n                });\n            });\n        },\n\n        /**\n         * Lock document\n         *\n         */\n        lockDocument: function vDocumentLockDocument() {\n            this.model.lockDocument();\n        },\n        /**\n         * Lock document\n         *\n         */\n        unlockDocument: function vDocumentUnLockDocument() {\n            this.model.unlockDocument();\n        },\n        /**\n         * Show the transition view\n         *\n         */\n        showtransition: function vDocumentShowtransition(transition, nextState) {\n            this.model.trigger(\"showTransition\", nextState, transition);\n        },\n\n        /**\n         * Show the transition view\n         *\n         */\n        showTransitionGraph: function vDocumentShowtransitionGraph() {\n            var documentView = this;\n            var transitionGraph = {};\n            var $target = $('<div class=\"dcpTransitionGraph\"/>');\n            //Init transition model\n            transitionGraph.model = new ModelTransitionGraph({\n                documentId: this.model.id,\n                state: this.model.get(\"properties\").get(\"state\")\n            });\n\n            transitionGraph.model.fetch({\n                success: function vDocumentTransitionSuccess() {\n                    //Init transition view\n                    transitionGraph.view = new ViewTransitionGraph({\n                        model: transitionGraph.model,\n                        el: $target\n                    });\n                    transitionGraph.view.render();\n                    transitionGraph.view.$el.on(\"viewTransition\", function vDocumentTransitionView(event, nextState) {\n                        transitionGraph.view.remove();\n                        documentView.model.trigger(\"showTransition\", nextState);\n                    });\n                }\n            });\n\n            this.transitionGraph = transitionGraph;\n        },\n        /**\n         * Show the properties widget\n         *\n         */\n        showProperties: function vDocumentShowProperties(docid) {\n            var scope = this;\n            var $target = $('<div class=\"document-properties\"/>');\n\n            this.propertiesWidget = $target.dcpDocumentProperties({\n                documentId: docid || this.model.get(\"properties\").get(\"initid\"),\n                window: {\n                    width: \"500px\",\n                    height: \"80%\",\n                    title: i18n.___(\"Document properties\", \"propertyUi\")\n                },\n                labels: {\n                    identifier: i18n.___(\"Identifier\", \"propertyUi\"),\n                    title: i18n.___(\"Title\", \"propertyUi\"),\n                    logicalName: i18n.___(\"Logical name\", \"propertyUi\"),\n                    revision: i18n.___(\"Revision number\", \"propertyUi\"),\n                    version: i18n.___(\"Version\", \"propertyUi\"),\n                    family: i18n.___(\"Family\", \"propertyUi\"),\n                    lockedBy: i18n.___(\"Locked by\", \"propertyUi\"),\n                    createdBy: i18n.___(\"Created by\", \"propertyUi\"),\n                    notLocked: i18n.___(\"Not locked\", \"propertyUi\"),\n                    confidential: i18n.___(\"Confidential\", \"propertyUi\"),\n                    notConfidential: i18n.___(\"Not confidential\", \"propertyUi\"),\n                    creationDate: i18n.___(\"Creation date\", \"propertyUi\"),\n                    lastModificationDate: i18n.___(\"Last modification date\", \"propertyUi\"),\n                    lastAccessDate: i18n.___(\"Last access date\", \"propertyUi\"),\n                    profil: i18n.___(\"Profil\", \"propertyUi\"),\n                    profilReference: i18n.___(\"Profil reference\", \"propertyUi\"),\n                    viewController: i18n.___(\"View controller\", \"propertyUi\"),\n                    property: i18n.___(\"Property\", \"propertyUi\"),\n                    propertiesTitle: i18n.___(\"Properties for {{title}}\", \"propertyUi\"),\n                    propertyValue: i18n.___(\"Value\", \"propertyUi\"),\n                    workflow: i18n.___(\"Workflow\", \"propertyUi\"),\n                    activity: i18n.___(\"Activity\", \"propertyUi\")\n                }\n            }).data(\"dcpDocumentProperties\");\n\n            this.propertiesWidget.open();\n            this.propertiesWidget.element.on(\"viewDocument\", function vDocumentViewDocument(event, data) {\n                scope.model.fetchDocument({initid: data});\n            });\n        },\n\n        /**\n         * Update the title of the current page\n         */\n        updateTitle: function vDocumentUpdateTitle() {\n            var title = this.model.get(\"properties\").get(\"title\");\n\n            if (!_.isEmpty(title)) {\n                document.title = title;\n            }\n        },\n\n        /**\n         * Update the icon of the current page\n         */\n        updateIcon: function vDocumentUpdateIcon() {\n            $(\"link[rel='shortcut icon']\").attr(\"href\", this.model.get(\"properties\").get(\"icon\"));\n        },\n\n        /**\n         * Delete the current document\n         *\n         */\n        deleteDocument: function dvDocumentDocumentDelete() {\n            this.model.deleteDocument();\n        },\n\n        /**\n         * Display the loading widget\n         */\n        displayLoading: function vDocumentDisplayLoading(options) {\n            var text = i18n.___(\"Loading\", \"ddui\"), avance = 50;\n            options = options || {};\n            if (this.$el.find(\".dcpDocument--disabled\") === 0) {\n                this.$el.append('<div class=\"dcpDocument--disabled\"/>');\n            }\n            if (options.isSaving) {\n                text = i18n.___(\"Recording\", \"ddui\");\n                avance = 70;\n            }\n            if (options.text) {\n                text = options.text;\n            }\n            this.trigger(\"cleanNotification\");\n            this.trigger(\"loaderShow\", text, avance);\n        },\n\n        /**\n         * Show the view\n         *\n         * Hide the loader, show the view\n         */\n        showView: function vDocumentShowView() {\n            this.$el.hide();\n            this.$el.find(\".dcpDocument--disabled\").remove();\n            this.trigger(\"loaderHide\");\n            this.$el.show();\n            this.model.redrawErrorMessages();\n        },\n\n        /**\n         * Switch the view\n         *\n         * @param viewId\n         */\n        closeDocument: function vDocumentCloseDocument(viewId) {\n            if (!viewId) {\n                if (this.model.get(\"renderMode\") === \"edit\") {\n                    viewId = \"!defaultEdition\";\n                } else {\n                    viewId = \"!defaultConsultation\";\n                }\n            }\n            this.loadDocument({\n                initid: this.model.get(\"initid\"),\n                viewId: viewId\n            });\n        },\n\n        /**\n         * Save the current document\n         */\n        saveDocument: function vDocumentSaveDocument() {\n            this.trigger(\"cleanNotification\");\n            var currentView = this, saveDocument = this.model.saveDocument();\n            //Use promise and display success when done\n            if (saveDocument && saveDocument.then) {\n                saveDocument.then(function vDocumentSaveDisplaySuccess() {\n                    currentView.trigger(\"showSuccess\", {title: i18n.___(\"Document Recorded\", \"ddui\")});\n                });\n            }\n        },\n\n        /**\n         * Save and close the current document\n         */\n        saveAndCloseDocument: function vDocumentSaveAndCloseDocument(viewId) {\n            this.trigger(\"cleanNotification\");\n            var currentView = this, saveDocument = this.model.saveDocument();\n            if (saveDocument && saveDocument.then) {\n                saveDocument.then(function vDocumentSaveAndCloseSuccess() {\n                    var initid = currentView.model.get(\"initid\");\n\n                    currentView.model.fetchDocument({\n                        initid: initid,\n                        viewId: viewId || \"!defaultConsultation\"\n                    });\n\n                });\n            }\n        },\n\n        /**\n         * Create the current document\n         */\n        createDocument: function vDocumentCreateDocument() {\n            var currentView = this, saveDocument = this.model.saveDocument();\n            if (saveDocument && saveDocument.then) {\n                saveDocument.then(function vDocumentCreateDisplaySuccess() {\n                    currentView.trigger(\"showSuccess\", {title: i18n.___(\"Document Created\", \"ddui\")});\n                });\n            }\n        },\n\n        /**\n         * Create the current document\n         */\n        createAndCloseDocument: function vDocumentCreateDocument(viewId) {\n            var currentView = this, saveDocument = this.model.saveDocument();\n            if (saveDocument && saveDocument.then) {\n                saveDocument.then(function vDocumentCreateAndCloseSuccess() {\n                    var initid = currentView.model.get(\"initid\");\n\n                    currentView.model.fetchDocument({\n                        initid: initid,\n                        viewId: viewId || \"!defaultConsultation\"\n                    });\n\n                });\n            }\n        },\n\n        /**\n         * load another document document  : confirm if modified\n         * options : {initid, viewId, revision}\n         * callbacks : {success, error}\n         */\n        loadDocument: function vDocumentLoadDocument(options, callbacks) {\n            var confirmWindow;\n            var documentView = this;\n\n            callbacks = callbacks || {};\n\n            if (this.model.hasAttributesChanged()) {\n                confirmWindow = $('body').dcpConfirm({\n                    title: i18n.___(\"Confirm close document\", \"ddui\"),\n                    width: \"45rem\",\n                    height: \"12rem\",\n                    maxWidth: $(window).width(),\n                    messages: {\n                        okMessage: i18n.___(\"Abort modification\", \"ddui\"),\n                        cancelMessage: i18n.___(\"Stay on the form\", \"ddui\"),\n                        htmlMessage: i18n.___(\"The form has been modified without saving\", \"ddui\"),\n                        textMessage: ''\n                    },\n                    confirm: function wMenuConfirm() {\n                        documentView.model.fetchDocument({\n                            initid: options.initid,\n                            viewId: options.viewId,\n                            revision: options.revision\n                        }).then(callbacks.success, callbacks.error);\n                    },\n                    cancel: function wLoadCancel() {\n                        if (callbacks && _.isFunction(callbacks.error)) {\n                            callbacks.error({\n                                errorMessage: {\n                                    code: \"USERCANCEL\",\n                                    contentText: i18n.___(\"User has cancelled the action.\", \"ddui\")\n                                }\n                            });\n                        }\n                    },\n                    templateData: {templates: this.model.get(\"templates\")}\n                });\n                confirmWindow.data('dcpWindow').open();\n            } else {\n                this.model.fetchDocument({\n                    initid: options.initid,\n                    viewId: options.viewId,\n                    revision: options.revision\n                }).then(callbacks.success, callbacks.error);\n            }\n        },\n\n        /**\n         * Restore the deleted document\n         *\n         * @returns {exports}\n         */\n        restoreDocument: function vDocumentRestoreDocument() {\n            this.model.restoreDocument();\n        },\n\n        propagateActionClick: function vDocumentPropagateActionClick(event) {\n            var $target = $(event.currentTarget),\n                action,\n                options,\n                eventOptions,\n                internalEvent = {\n                    prevent: false\n                };\n\n            event.preventDefault();\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n\n            action = $target.data('action') || $target.attr(\"href\");\n            options = action.substring(8).split(\":\");\n            eventOptions = {\n                target: event.target,\n                eventId: options.shift(),\n                options: options\n            };\n\n            this.model.trigger(\"internalLinkSelected\", internalEvent, eventOptions);\n            if (internalEvent.prevent) {\n                return this;\n            }\n\n            return this.doStandardAction(internalEvent, eventOptions);\n        },\n\n        handleHashClick: function vDocumenthandleHashClick(event) {\n            var $target = $(event.currentTarget), href = $target.attr('href');\n\n            if (!href || !href.substring || href.substring(0, 7) === '#action') {\n                return;\n            }\n\n            event.preventDefault();\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n\n            window.location.hash = href;\n        },\n\n        /**\n         * Propagate menu event\n         *test\n         * @param event\n         * @param options\n         * @returns {*}\n         */\n        doStandardAction: function vDocumentdoStandardAction(event, options) {\n            var eventArgs = options.options;\n\n            if (options.eventId === \"document.save\") {\n                return this.saveDocument();\n            }\n            if (options.eventId === \"document.saveAndClose\") {\n                return this.saveAndCloseDocument(eventArgs[0]);\n            }\n            if (options.eventId === \"document.history\") {\n                return this.showHistory(eventArgs[0]);\n            }\n            if (options.eventId === \"document.transition\") {\n                return this.showtransition(eventArgs[0], eventArgs[1]);\n            }\n            if (options.eventId === \"document.transitionGraph\") {\n                return this.showTransitionGraph();\n            }\n            if (options.eventId === \"document.properties\") {\n                return this.showProperties(eventArgs[0]);\n            }\n            if (options.eventId === \"document.delete\") {\n                return this.deleteDocument();\n            }\n            if (options.eventId === \"document.close\") {\n                return this.closeDocument(eventArgs[0]);\n            }\n            if (options.eventId === \"document.edit\") {\n                return this.closeDocument(\"!defaultEdition\");\n            }\n            if (options.eventId === \"document.create\") {\n                return this.createDocument();\n            }\n            if (options.eventId === \"document.createAndClose\") {\n                return this.createAndCloseDocument(eventArgs[0]);\n            }\n            if (options.eventId === \"document.load\") {\n                return this.loadDocument({\n                    initid: eventArgs[0], viewId: eventArgs[1], revision: eventArgs[2]\n                });\n            }\n            if (options.eventId === \"document.lock\") {\n                return this.lockDocument();\n            }\n            if (options.eventId === \"document.unlock\") {\n                return this.unlockDocument();\n            }\n            if (options.eventId === \"document.restore\") {\n                return this.restoreDocument();\n            }\n            if (options.eventId === \"document.help\") {\n                return this.showHelp(event, eventArgs[0], eventArgs[1]);\n            }\n        },\n\n        displayNetworkError: function vDocument_displayNetworkError() {\n            this.$el.hide();\n            $(\".dcpStaticErrorMessage\").removeAttr(\"hidden\");\n        },\n\n        /**\n         * Get the template for the current view\n         *\n         * @param key\n         * @returns {*}\n         */\n        getTemplates: function vDocumentGetTemplates(key) {\n            var templates = {};\n            if (this.model && this.model.get(\"templates\")) {\n                templates = this.model.get(\"templates\");\n            }\n            if (templates[key]) {\n                return templates[key];\n            }\n            // Get from a gobal element (for unittest)\n            if (window.dcp && window.dcp.templates && window.dcp.templates[key]) {\n                return window.dcp.templates[key];\n            }\n            throw new Error(\"Unknown template  \" + key);\n        },\n\n        /**\n         * Destroy the associated widget and suppress event listener before remov the dom\n         *\n         * @returns {*}\n         */\n        remove: function vDocumentRemove() {\n            try {\n                if (this.kendoTabs && this.kendoTabs.data(\"kendoTabStrip\")) {\n                    this.kendoTabs.data(\"kendoTabStrip\").destroy();\n                }\n\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n            $(window).off(\".\" + this.model.cid);\n            $(window.document).off(\".\" + this.model.cid);\n\n            return Backbone.View.prototype.remove.call(this);\n        }\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/document/vDocument.js","/*global define*/\ndefine([\n    'underscore',\n    'jquery',\n    'backbone'\n], function require_mAttribute(_, $, Backbone) {\n    'use strict';\n\n    return Backbone.Model.extend({\n\n        typeModel:\"ddui:attribute\",\n        defaults : {\n            title :            null,\n            isValueAttribute : false,\n            parent :           undefined,\n            mode :             \"read\",\n            errorMessage :     null\n        },\n\n        initialize : function mAttributeinitialize() {\n            this.listenTo(this, \"change:documentMode\", this._computeMode);\n            this.listenTo(this, \"change:visibility\", this._computeMode);\n            this._computeValueMode();\n            this._computeMode();\n            this.set(\"title\", this.id + '(' + this.get(\"label\") + ')');\n            this.set(\"errorMessage\", null);\n        },\n\n        toData : function mAttributetoData(index, extended) {\n            var content = this.toJSON();\n            if ((typeof index !== \"undefined\" && index !== null) && this.get(\"multiple\") === false) {\n                throw new Error(\"You need to be multiple\");\n            }\n            if (_.isNumber(index)) {\n                content.attributeValue = content.attributeValue ? content.attributeValue[index] : null;\n                content.index = index;\n            }\n            content.isDisplayable = this.isDisplayable();\n            content.content = [];\n            if (this.get(\"content\") && _.isFunction(this.get(\"content\").toData)) {\n                content.content = this.get(\"content\").toData(index, extended);\n            }\n            if (extended) {\n                content.renderOptions = this.getOptions();\n                content.labels = content.labels || {};\n                content.locale = this.getDocumentModel().get(\"locale\");\n                content.templates = {};\n                if (this.getTemplates().attribute) {\n                    if (this.getTemplates().attribute[this.get(\"type\")]) {\n                        content.templates = this.getTemplates().attribute[this.get(\"type\")];\n                    } else {\n                        // fallback in case of no specific templates\n                        content.templates = this.getTemplates().attribute[\"default\"];\n                    }\n                }\n                content.deleteButton = true;\n                content.sourceValues = this.get(\"enumItems\");\n                content.sourceUri = this.get(\"enumUrl\");\n                if (!content.templates.label) {\n                    content.templates.label = this.getTemplates().attribute.label;\n                }\n            }\n            return content;\n        },\n\n        isDisplayable : function mAttributeisDisplayable() {\n            var canBeDisplayable;\n            if (this.get(\"mode\") === \"hidden\") {\n                return false;\n            }\n            if (this.get(\"isValueAttribute\")) {\n                if (this.get(\"mode\") === \"read\") {\n                    if (this.getOption('showEmptyContent') !== null) {\n                        return true;\n                    } else {\n                        canBeDisplayable = (this.get(\"attributeValue\") && this.get(\"attributeValue\").value !== null);\n                        if (_.isArray(this.get(\"attributeValue\"))) {\n                            canBeDisplayable = _.isArray(this.get(\"attributeValue\")) && this.get(\"attributeValue\").length > 0;\n                        }\n                        return canBeDisplayable;\n                    }\n                } else if (this.get(\"mode\") === \"write\") {\n                    return true;\n                }\n            }\n            if (this.get(\"content\").length === 0) {\n                return false;\n            }\n            if (this.getOption('showEmptyContent') === null) {\n                if (this.get(\"content\").some) {\n                    return this.get(\"content\").some(function mAttribute_checkDisplayable(value) {\n                        return value.isDisplayable();\n                    });\n                }\n                return false;\n            }\n            return true;\n        },\n\n        hasMultipleOption : function mAttributehasMultipleOption() {\n            return (this.attributes.options && this.attributes.options.multiple === \"yes\");\n        },\n\n        isDoubleMultiple : function mAttributehasMultipleOption() {\n            return (this.hasMultipleOption() && this.getParent().get(\"type\") === \"array\");\n        },\n\n        getParent : function mAttributegetParent() {\n            if (this.attributes.parent) {\n                return this.getDocumentModel().get('attributes').get(this.attributes.parent);\n            }\n            return null;\n        },\n\n        hasValueChanged: function mAttributehasReallyChanged() {\n            return (this.get(\"attributeValue\") &&\n            ((this.get(\"attributeValue\").value !== undefined &&\n            (((this._initialAttributeValue || {}).value || '') !== (this.get(\"attributeValue\").value || ''))) || !_.isEqual(_.pluck(_.flatten(this._initialAttributeValue), \"value\"),\n                _.pluck(_.flatten(this.get(\"attributeValue\")), \"value\")))\n            );\n        },\n\n        _computeMode : function mAttribute_computeMode() {\n            var visibility = this.get(\"visibility\"), documentMode = this.collection.renderMode;\n            if (visibility === \"H\" || visibility === \"I\") {\n                this.set(\"mode\", \"hidden\");\n                return;\n            }\n            if (documentMode === \"view\") {\n                if (visibility === \"O\") {\n                    this.set(\"mode\", \"hidden\");\n                    return;\n                }\n                if (this.get(\"isValueAttribute\") && (_.isEmpty(this.get(\"attributeValue\")) || _.isUndefined(this.get(\"attributeValue\") || this.get(\"attributeValue\").value === null))) {\n                    if (this.getOption('showEmptyContent') === null) {\n                        this.set(\"mode\", \"hidden\");\n                        return;\n                    }\n                }\n                this.set(\"mode\", \"read\");\n                return;\n            }\n            if (documentMode === \"edit\") {\n                if (visibility === \"W\" || visibility === \"O\") {\n                    this.set(\"mode\", \"write\");\n                    return;\n                }\n                if (visibility === \"R\") {\n                    this.set(\"mode\", \"hidden\");\n                    return;\n                }\n                if (visibility === \"R\" || visibility === \"S\") {\n                    this.set(\"mode\", \"read\");\n                    return;\n                }\n                if (visibility === \"U\") {\n                    this.set(\"mode\", \"write\");\n                    this.set(\"addTool\", false);\n                    return;\n                }\n            }\n            throw new Error(\"unkown mode \" + documentMode + \" or visibility \" + visibility + \" \" + this.get(\"id\"));\n        },\n\n        _computeValueMode : function mAttribute_computeValueMode() {\n            var type = this.get(\"type\"), visibility = this.get(\"visibility\");\n            if (type === \"frame\" || type === \"array\" || type === \"tab\" || visibility === \"I\") {\n                this.set(\"isValueAttribute\", false);\n            }\n        },\n        /**\n         * Return all options for an attribute\n         *\n         * @returns {{}}\n         */\n        getOptions :        function mAttributegetOptions() { \n            var optionsCommon={}, optionsValue={}, optionsAttribute={}, renderOptions, labels={};\n            this._options = this._options || false;\n\n            if (this._options === false) {\n                renderOptions = this.collection.renderOptions;\n                if (renderOptions.common) {\n                    optionsCommon = renderOptions.common || {};\n                    labels= _.clone(optionsCommon.translatedLabels) || {};\n                }\n\n                if (renderOptions.types) {\n                    optionsValue = renderOptions.types[this.get(\"type\")] || {};\n                    labels= _.extend(labels, _.clone(optionsValue.translatedLabels));\n                }\n                if (renderOptions.attributes) {\n                    optionsAttribute = renderOptions.attributes[this.id] || {};\n                }\n                // labels must be merged\n                optionsAttribute.labels= _.extend(labels, optionsAttribute.translatedLabels);\n                this._options = {};\n            }\n\n            _.extend(this._options, optionsCommon, optionsValue, optionsAttribute);\n\n            return this._options;\n        },\n\n        /**\n         * Get value for an option\n         *\n         * @param key option identifier\n         * @returns {*}\n         */\n        getOption : function mAttributegetOption(key) {\n            var options = this.getOptions();\n            if (typeof options[key] !== \"undefined\") {\n                return options[key];\n            }\n            return null;\n        },\n\n        /**\n         * Set the value of an option\n         *\n         * @param key\n         * @param value\n         * @returns {*}\n         */\n        setOption : function mAttributesetOption(key, value) {\n            var options = this.getOptions();\n            options[key] = value;\n            this._options = options;\n            this.trigger(\"optionModified\", key);\n            return this;\n        },\n\n        getDocumentModel : function mAttributegetDocumentModelgetDocumentModel() {\n            return this.collection.documentModel;\n        },\n\n        getTemplates : function mAttributegetTemplatesgetTemplates() {\n            var templates = this.getDocumentModel().get(\"templates\");\n            if (!templates) {\n                templates = window.dcp.templates;\n            }\n            return templates;\n        },\n\n        setErrorMessage : function mAttributesetErrorMessage(message, index) {\n            var parentId = this.get('parent');\n            if (this.get(\"multiple\") && typeof index !== \"undefined\") {\n                var errorMessage = this.get('errorMessage') || [];\n                // delete duplicate\n                _.reject(errorMessage, function mAttribute_reindex(indexMessage) {\n                    return indexMessage.index === index;\n                });\n                this.set('errorMessage', [{message : message, index : index}].concat(errorMessage));\n            } else {\n                this.set('errorMessage', message);\n            }\n            if (parentId) {\n                // Propagate error message on parent structure\n                 var parentModel = this.getDocumentModel().get('attributes').get(parentId);\n                 if (parentModel) {\n                     parentModel.setErrorMessage(message);\n                 }\n            }\n        },\n\n        checkConstraint : function mAttributecheckConstraint() {\n            return true;\n        },\n\n        haveView : function mAttributeHaveView() {\n            var view = {haveView : false, elements : $()};\n            this.trigger(\"haveView\", view);\n            return view;\n        },\n        /**\n         * Attribute model are not linked to REST element so always new\n         * @returns {boolean}\n         */\n        isNew : function mAttribute_isNew() {\n            return true;\n        }\n\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mAttribute.js","define([\n    'jquery',\n    'underscore',\n    'dcpDocument/widgets/widget'\n], function wDialog($, _)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpDialog\", {\n        options: {\n            window: {\n                modal: true,\n                actions: [\n                    \"Maximize\",\n                    \"Close\"\n                ],\n                visible: false,\n                height: \"300px\",\n                width: \"500px\",\n                title: \"-\"\n            },\n            maximizeWidth:768 // Limit in px to open with maximize\n        },\n\n        dialogWindow: null,\n\n        _create: function dcpDialog_create()\n        {\n            var currentWidget = this;\n            this.element.data(\"dcpDialog\", this);\n            if (!this.options.window.close) {\n                this.options.window.close = function dcpDialog_onclose()\n                {\n                    _.defer(_.bind(currentWidget.destroy, currentWidget));\n                };\n            } else {\n                this.options.window.close = _.wrap(this.options.window.close, function dcpDialog_closeWrap(close, argument)\n                {\n                    var event = arguments[1];\n                    close.apply(this, _.rest(arguments));\n                    if (!event.isDefaultPrevented()) {\n                        _.defer(_.bind(currentWidget.destroy, currentWidget));\n                    }\n                });\n            }\n\n\n            if ($(window).width() <= this.options.maximizeWidth) {\n                this.options.window.width=\"auto\";\n                this.options.window.heigth=\"auto\";\n            }\n            this.dialogWindow = this.element.kendoWindow(this.options.window).data(\"kendoWindow\");\n        },\n\n        open: function dcpDialog_Open()\n        {\n            var kWindow = this.dialogWindow;\n            if ($(window).width() <= this.options.maximizeWidth) {\n                kWindow.setOptions({\n                    actions: [\"Close\"],\n                    animation:false\n                });\n\n                kWindow.open();\n                _.delay(function wDialogMaximize() {\n                    kWindow.maximize(); // Need to defer to wait window to be really opened\n                },100);\n            } else {\n                kWindow.setOptions({\n                    actions: this.options.window.actions\n                });\n                kWindow.center();\n                kWindow.open();\n            }\n        },\n\n        close: function dcpDialog_close()\n        {\n            var kendoWindow = this.dialogWindow;\n            if (kendoWindow) {\n                kendoWindow.close();\n            }\n        },\n\n        _destroy: function dcpDialog_destroy()\n        {\n            if (this.element && this.dialogWindow && this.element.data(\"kendoWindow\")) {\n                this.dialogWindow.destroy();\n                this.dialogWindow = null;\n            } else {\n                this._super();\n            }\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/window/wDialog.js","define([\n    'underscore',\n    'jquery',\n    'backbone',\n    'mustache',\n    'dcpDocument/i18n/documentCatalog',\n    'dcpDocument/widgets/window/wDialog'\n], function vTransitionGraph(_, $, Backbone, Mustache, i18n)\n{\n    'use strict';\n\n    return Backbone.View.extend({\n\n        messages: [],\n\n        remove: function vTransitionGraph_remove()\n        {\n            if (this.transitionGraphWindow && this.$el.data(\"kendoWindow\")) {\n                this.transitionGraphWindow.destroy();\n\n            }\n\n            //Call parent\n            Backbone.View.prototype.remove.apply(this, arguments);\n        },\n\n        /**\n         * Render the document view\n         * @returns {*}\n         */\n        render: function vTransitionGraph_render()\n        {\n            var currentView = this;\n\n            this.$el.append($('<div class=\"dcpTransitionGraph--from\"/>' +\n            '<div class=\"dcpTransitionGraph--to\"/>'));\n\n            this.displayCurrentState();\n\n            // Init Events\n            this.$el.on(\"mouseover\", \".dcpTransitionGraph--to .dcpTransitionGraph_state\", function vTransitionGraph_renderMouseOver()\n            {\n                var to = $(this).data(\"to\");\n                if (!$(this).hasClass(\"dcpTransitionGraph_state--error\")) {\n\n                    currentView.$el.find(\".dcpTransitionGraph__arrow--\" + to).addClass(\"dcpTransitionGraph__arrow--selected\");\n                }\n            });\n            this.$el.on(\"mouseout\", \".dcpTransitionGraph--to .dcpTransitionGraph_state\", function vTransitionGraph_renderMouseOut()\n            {\n\n                currentView.$el.find(\".dcpTransitionGraph__arrow\").removeClass(\"dcpTransitionGraph__arrow--selected\");\n            });\n\n            this.$el.on(\"click\", \".dcpTransitionGraph--to .dcpTransitionGraph_state\", function vTransitionGraph_renderClick()\n            {\n                var to = $(this).data(\"to\");\n\n                 if (! $(this).hasClass(\"dcpTransitionGraph_state--error\")) {\n                     currentView.$el.trigger(\"viewTransition\", to);\n                 }\n\n            });\n\n            this.$el.find(\".dcpTransitionGraph_state \").tooltip({\n                placement: \"top\",\n                html: true\n            });\n\n            if (!this.transitionGraphWindow) {\n                this.transitionGraphWindow = this.$el.dcpDialog({\n                    window: {\n                        height: \"auto\",\n                        width: \"600px\",\n                        close: function registerCloseEvent()\n                        {\n                            currentView.remove();\n                        },\n                        activate: function vTransitionGraph_windowActivate()\n                        {\n                            currentView.displayArrows();\n                            currentView.previousHeight = currentView.$el.height();\n                        },\n                        resize: function vTransitionGraph_windowResize()\n                        {\n                            var isMaximized = currentView.$el.data(\"kendoWindow\").options.isMaximized;\n\n                            if (!isMaximized && currentView.isMaximizedNow) {\n\n                                currentView.$el.find(\".dcpTransitionGraph--to\").height(currentView.previousHeight);\n                                currentView.$el.find(\".dcpTransitionGraph--from\").height(currentView.previousHeight);\n                                currentView.isMaximizedNow = false;\n                            }\n                            currentView.displayArrows();\n\n                            if (!isMaximized) {\n                                currentView.previousHeight = currentView.$el.height();\n                            } else {\n                                currentView.isMaximizedNow = true;\n                            }\n                        }\n                    }\n                }).data(\"dcpDialog\");\n                this.$el.kendoWindow(\"title\", i18n.___(\"Transition Graph\", \"ddui\"));\n                this.transitionGraphWindow.open();\n            }\n        },\n\n        displayCurrentState: function vTransitionGraphdisplayCurrentState()\n        {\n            var tpl = '<div class=\"dcpTransitionGraph_state {{#transition.error}}dcpTransitionGraph_state--error{{/transition.error}}\" ' +\n                'data-to=\"{{id}}\" {{^transition.error}}title=\"{{title}}{{transition.error}}\"{{/transition.error}} style=\"border-color:{{color}}\">{{displayValue}}' +\n                '{{#transition.error}}<div class=\"dcpTransitionGraph_state_message\">{{transition.error}}</div>{{/transition.error}}' +\n                '</div>';\n            var states = this.model.get(\"workflowStates\");\n            var currentState = this.model.get(\"state\");\n            var currentView = this;\n\n            this.$el.find(\".dcpTransitionGraph--from\").append(Mustache.render(tpl || \"\", _.extend(currentState, {title:i18n.___(\"Current workflow activity\",\"ddui\")})));\n\n            _.each(states, function vTransitionGraphdisplayCurrentStateEach(item)\n            {\n                if (item.transition && item.transition.authorized !== false) {\n                    item.title = Mustache.render(i18n.___(\"Next step. Apply transition {{label}}\", \"ddui\"), {label: item.transition.label});\n                    currentView.$el.find(\".dcpTransitionGraph--to\").append(Mustache.render(tpl, item));\n                }\n            });\n        },\n\n        displayArrows: function vTransitionGraph_displayArrows()\n        {\n            var states = this.model.get(\"workflowStates\");\n            var currentView = this;\n\n            var $from = this.$el.find(\".dcpTransitionGraph--from .dcpTransitionGraph_state\");\n            var $to;\n\n            this.$el.find(\".dcpTransitionGraph__arrow\").remove();\n\n            this.$el.find(\".dcpTransitionGraph--to\").height(this.$el.height());\n            this.$el.find(\".dcpTransitionGraph--from\").height(this.$el.height());\n            _.each(states, function vTransitionGraph_connectStates(item)\n            {\n                if (item.transition && item.transition.authorized !== false) {\n                    $to = currentView.$el.find(\".dcpTransitionGraph--to .dcpTransitionGraph_state[data-to=\" + item.id + \"]\");\n                    currentView.connect($from.get(0), $to.get(0), 2, item);\n                }\n            });\n        },\n\n        /**\n         * return element top, left, width, height\n         * @param el DOM element\n         * @returns {*|jQuery}\n         */\n        getOffset: function vTransitionGraph_getOffset(el)\n        {\n            var offset = $(el).offset();\n            offset.width = $(el).outerWidth();\n            offset.height = $(el).outerHeight();\n            return offset;\n        },\n\n        /**\n         * draw a line connecting elements\n         * @param div1 from div\n         * @param div2 to div\n         * @param thickness of the arraow\n         * @param item transition info\n         */\n        connect: function vTransitionGraph_connect(div1, div2, thickness, item)\n        {\n            var off1 = this.getOffset(div1);\n            var off2 = this.getOffset(div2);\n            var origin = this.getOffset(this.$el.get(0));\n\n            // bottom right\n            var x2 = off1.left + off1.width - origin.left;\n            var y2 = off1.top + (off1.height / 2) - origin.top;\n            // top right\n            var x1 = off2.left - origin.left;\n            var y1 = off2.top + (off2.height / 2) - origin.top;\n            // distance\n            var length = Math.sqrt(((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\n            // center\n            var cx = ((x1 + x2) / 2) - (length / 2);\n            var cy = ((y1 + y2) / 2) - (thickness / 2);\n            // angle\n            var angle = Math.atan2((y1 - y2), (x1 - x2)) * (180 / Math.PI);\n\n            //\n            var htmlLine = \"<div class='dcpTransitionGraph__arrow dcpTransitionGraph__arrow--{{id}} {{#error}}dcpTransitionGraph__arrow--error{{/error}}' \" +\n                \"style=' height:{{height}}px;left:{{left}}px; top:{{top}}px; width:{{width}}px;\" +\n                \" -moz-transform:rotate({{angle}}deg); \" +\n                \"-webkit-transform:rotate({{angle}}deg); \" +\n                \"-o-transform:rotate({{angle}}deg); \" +\n                \"-ms-transform:rotate({{angle}}deg); \" +\n                \"transform:rotate({{angle}}deg);' ><div class='dcpTransitionGraph__arrow__label'>{{text}}</div>\" +\n                \"<span class='dcpTransitionGraph__arrow__end fa fa-2x fa-caret-right'></span> </div>\";\n\n            this.$el.append(Mustache.render(htmlLine || \"\", {\n                error:item.transition.error,\n                id: item.id,\n                height: thickness,\n                width: length,\n                top: cy,\n                left: cx,\n                angle: angle,\n                text: item.transition.label\n            }));\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/workflow/vTransitionGraph.js","define([\n    \"underscore\",\n    \"dcpDocument/models/mAttributeStructural\"\n], function (_, AttributeStructuralModel) {\n    'use strict';\n\n    return AttributeStructuralModel.extend({\n\n        typeModel:\"ddui:attributeArray\",\n        removeIndexedLine : function mAttributeArrayRemoveIndexLine(index) {\n            this.trigger(\"removeWidgetLine\", {index : index}, {silent : true});\n            this.trigger(\"array\", \"remove\", this, index);\n        },\n\n        addIndexedLine : function mAttributeArrayaddIndexedLine(index) {\n            this.trigger(\"addWidgetLine\", {index : index});\n            this.trigger(\"array\", \"add\", this, index);\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mAttributeArray.js","/*global define*/\ndefine([\n    \"underscore\"\n], function attributeInterface(_)\n{\n    'use strict';\n\n    var AttributPrototype = function AttributePrototype()\n    {\n        this.id = this._attributeModel.id;\n    };\n    /**\n     * Get the property of the current attribute\n     *\n     * @returns {*}\n     */\n    AttributPrototype.prototype.getProperties = function AttributeInterfaceGetProperties()\n    {\n        var properties = _.clone(this._attributeModel.attributes), content = properties.content;\n        properties = _.omit(properties, \"isValueAttribute\", \"title\", \"attributeValue\", \"content\");\n        properties.content = [];\n        if (content && content.length) {\n            properties.content = content.map(function attributeInterface_convertChild(currentAttribute) {\n                return new AttributeInterface(currentAttribute);\n            });\n        }\n        return properties;\n    };\n\n    /**\n     * Change the label of an attribute\n     *\n     * @returns {*}\n     */\n    AttributPrototype.prototype.setLabel = function AttributeInterfaceSetLabel(label)\n    {\n        this._attributeModel.set(\"label\", label);\n    };\n\n    /**\n     * Get the data to build a widget\n     *\n     * @returns {*}\n     */\n    AttributPrototype.prototype.getWidgetData = function AttributeInterfaceGetWidgetData(index)\n    {\n        return _.clone(this._attributeModel.toData(index, true));\n    };\n\n    /**\n     * Get the options of the current attribute\n     * @returns {*}\n     */\n    AttributPrototype.prototype.getOptions = function AttributeInterfaceGetOptions()\n    {\n        var options = this._attributeModel.getOptions();\n        return _.clone(options);\n    };\n\n    /**\n     * Get an option of the current attribute\n     *\n     * @param name\n     * @returns {*}\n     */\n    AttributPrototype.prototype.getOption = function AttributeInterfaceGetOption(name)\n    {\n        return this._attributeModel.getOption(name);\n    };\n\n    /**\n     * Set an option of the current\n     * Add an effect only on beforeRender\n     * @param name\n     * @param value\n     * @constructor\n     */\n    AttributPrototype.prototype.setOption = function AttributeInterfaceSetOption(name, value)\n    {\n        this._attributeModel.setOption(name, value);\n    };\n\n    AttributPrototype.prototype.getValue = function AttributeInterfaceGetValue(type)\n    {\n        if (_.isUndefined(type) || type === \"current\") {\n            return this._attributeModel.get(\"attributeValue\");\n        }\n        if (type === \"previous\") {\n            return this._attributeModel.previous(\"attributeValue\");\n        }\n        if (type === \"initial\") {\n            return this._attributeModel._initialAttributeValue;\n        }\n        if (type === \"all\") {\n            return {\n                \"current\": this._attributeModel.get(\"attributeValue\"),\n                \"previous\": this._attributeModel.previous(\"attributeValue\"),\n                \"initial\": this._attributeModel._initialAttributeValue\n            };\n        }\n        throw new Error(\"Unknown type of getValue (current, previous, initial, all\");\n    };\n\n    AttributPrototype.prototype.setValue = function AttributeInterfaceSetValue(value, dryRun)\n    {\n        var index;\n        var currentValue;\n        if (this._attributeModel.get(\"multiple\")) {\n            if (_.isArray(value)) {\n                _.each(value, function AttributeInterfaceSetValueVerify(singleValue)\n                {\n                    if (!_.isObject(singleValue) || _.isUndefined(singleValue.value)) {\n                        throw new Error(\"Each values must be an object with at least value properties\");\n                    }\n                });\n            } else {\n                if (!_.isObject(value) || _.isUndefined(value.value) || _.isUndefined(value.index) || value.index === null) {\n                    throw new Error(\"Value must be an object with at least value and index properties\");\n                }\n\n                index = parseInt(value.index);\n                if (index < 0) {\n                    throw new Error(\"Index value must be positive or null\");\n                }\n\n                if (this._attributeModel.isDoubleMultiple()) {\n                    if (!_.isArray(value.value)) {\n                        throw new Error(\"Value must be an array for multiple in arrays\");\n                    }\n                    value = value.value;\n                } else {\n                    value = _.defaults(value, {displayValue: value.value});\n                }\n\n                currentValue = this._attributeModel.get(\"attributeValue\").slice();\n                currentValue[index] = _.clone(value);\n                value = currentValue;\n            }\n\n        } else {\n            if (!_.isObject(value) || _.isUndefined(value.value)) {\n                throw new Error(\"Value must be an object with at least value properties\");\n            }\n\n            value = _.defaults(value, {displayValue: value.value});\n        }\n        if (!dryRun) {\n            this._attributeModel.set(\"attributeValue\", value);\n        }\n    };\n\n    AttributPrototype.prototype.toJSON = function AttributeInterfacetoJSON()\n    {\n        return {\n            \"id\": this._attributeModel.id,\n            \"properties\": _.omit(this._attributeModel.attributes, \"isValueAttribute\", \"title\", \"options\", \"attributeValue\"),\n            \"options\": this._attributeModel.getOptions()\n        };\n    };\n\n    var AttributeInterface = function AttributeInterface(attributeModel)\n    {\n        this._attributeModel = attributeModel;\n        AttributPrototype.call(this);\n    };\n\n    AttributeInterface.prototype = Object.create(AttributPrototype.prototype);\n    AttributeInterface.prototype.constructor = AttributPrototype;\n\n    return AttributeInterface;\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/controllerObjects/attributeInterface.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone'\n], function (_, Backbone) {\n    'use strict';\n\n    return Backbone.Model.extend({\n\n        typeModel:\"ddui:properties\"\n    });\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mDocumentProperties.js","//     Backbone.js 1.3.3\n\n//     (c) 2010-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = (typeof self == 'object' && self.self === self && self) ||\n            (typeof global == 'object' && global.global === global && global);\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'), $;\n    try { $ = require('jquery'); } catch (e) {}\n    factory(root, exports, _, $);\n\n  // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));\n  }\n\n})(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.3.3';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(length, method, attribute) {\n    switch (length) {\n      case 1: return function() {\n        return _[method](this[attribute]);\n      };\n      case 2: return function(value) {\n        return _[method](this[attribute], value);\n      };\n      case 3: return function(iteratee, context) {\n        return _[method](this[attribute], cb(iteratee, this), context);\n      };\n      case 4: return function(iteratee, defaultVal, context) {\n        return _[method](this[attribute], cb(iteratee, this), defaultVal, context);\n      };\n      default: return function() {\n        var args = slice.call(arguments);\n        args.unshift(this[attribute]);\n        return _[method].apply(_, args);\n      };\n    }\n  };\n  var addUnderscoreMethods = function(Class, methods, attribute) {\n    _.each(methods, function(length, method) {\n      if (_[method]) Class.prototype[method] = addMethod(length, method, attribute);\n    });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n    return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n    var matcher = _.matches(attrs);\n    return function(model) {\n      return matcher(model.attributes);\n    };\n  };\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n    var i = 0, names;\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n      for (names = _.keys(name); i < names.length ; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n    return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n    return internalOn(this, name, callback, context);\n  };\n\n  // Guard the `listening` argument from the public API.\n  var internalOn = function(obj, name, callback, context, listening) {\n    obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n      context: context,\n      ctx: obj,\n      listening: listening\n    });\n\n    if (listening) {\n      var listeners = obj._listeners || (obj._listeners = {});\n      listeners[listening.id] = listening;\n    }\n\n    return obj;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n    if (!obj) return this;\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = listeningTo[id];\n\n    // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n    if (!listening) {\n      var thisId = this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = listeningTo[id] = {obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0};\n    }\n\n    // Bind callbacks on obj, and keep track of them on listening.\n    internalOn(obj, name, callback, this, listening);\n    return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context, ctx = options.ctx, listening = options.listening;\n      if (listening) listening.count++;\n\n      handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n    }\n    return events;\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n    return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]];\n\n      // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n      if (!listening) break;\n\n      listening.obj.off(name, callback, this);\n    }\n\n    return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n    if (!events) return;\n\n    var i = 0, listening;\n    var context = options.context, listeners = options.listeners;\n\n    // Delete all events listeners and \"drop\" events.\n    if (!name && !callback && !context) {\n      var ids = _.keys(listeners);\n      for (; i < ids.length; i++) {\n        listening = listeners[ids[i]];\n        delete listeners[listening.id];\n        delete listening.listeningTo[listening.objId];\n      }\n      return;\n    }\n\n    var names = name ? [name] : _.keys(events);\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name];\n\n      // Bail out if there are no events stored.\n      if (!handlers) break;\n\n      // Replace events if there are any remaining.  Otherwise, clean up.\n      var remaining = [];\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n        if (\n          callback && callback !== handler.callback &&\n            callback !== handler.callback._callback ||\n              context && context !== handler.context\n        ) {\n          remaining.push(handler);\n        } else {\n          listening = handler.listening;\n          if (listening && --listening.count === 0) {\n            delete listeners[listening.id];\n            delete listening.listeningTo[listening.objId];\n          }\n        }\n      }\n\n      // Update tail event if the list has any events.  Otherwise, clean up.\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n    return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function() {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n    }\n    return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n    if (!this._events) return this;\n\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n    return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n    }\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    var defaults = _.result(this, 'defaults');\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function(attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      var unset      = options.unset;\n      var silent     = options.silent;\n      var changes    = [];\n      var changing   = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev    = this._previousAttributes;\n\n      // For each `set` attribute, update or delete the current value.\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Update the `id`.\n      if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n      }\n      return _.size(changed) ? changed : false;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true, parse: true}, options);\n      var wait = options.wait;\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      // Set temporary attributes if `{wait: true}` to properly find new ids.\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n      var method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function() {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n      if (!wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, 'urlRoot') ||\n        _.result(this.collection, 'url') ||\n        urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend({}, options, {validate: true}));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n      omit: 0, chain: 1, isEmpty: 1};\n\n  // Mix in each Underscore method as a proxy to `Model#attributes`.\n  addUnderscoreMethods(Model, modelMethods, 'attributes');\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model) { return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var removed = this._removeModels(models, options);\n      if (!options.silent && removed.length) {\n        options.changes = {added: [], merged: [], removed: removed};\n        this.trigger('update', this, options);\n      }\n      return singular ? removed[0] : removed;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      if (models == null) return;\n\n      options = _.extend({}, setOptions, options);\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      var model, i;\n      for (i = 0; i < models.length; i++) {\n        model = models[i];\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        var existing = this.get(model);\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n          if (model) {\n            toAdd.push(model);\n            this._addReference(model, options);\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      }\n\n      // Remove stale models.\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this._removeModels(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it's time to fire all appropriate add/sort/update events.\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n        if (sort || orderChanged) this.trigger('sort', this, options);\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options = options ? _.clone(options) : {};\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] ||\n        this._byId[this.modelId(obj.attributes || obj)] ||\n        obj.cid && this._byId[obj.cid];\n    },\n\n    // Returns `true` if the model is in the collection.\n    has: function(obj) {\n      return this.get(obj) != null;\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = _.bind(comparator, this);\n\n      // Run sort based on type of `comparator`.\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return this.map(attr + '');\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n\n    // Define how to uniquely identify models in the collection.\n    modelId: function(attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method called by both remove and set.\n    _removeModels: function(models, options) {\n      var removed = [];\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n\n        // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n        this._removeReference(model, options);\n      }\n      return removed;\n    },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function(model) {\n      return model instanceof Model;\n    },\n\n    // Internal method to create a model's ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n        if (event === 'change') {\n          var prevId = this.modelId(model.previousAttributes());\n          var id = this.modelId(model.attributes);\n          if (prevId !== id) {\n            if (prevId != null) delete this._byId[prevId];\n            if (id != null) this._byId[id] = model;\n          }\n        }\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n      foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n      select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n      contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n      head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n      without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n      isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n      sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  addUnderscoreMethods(Collection, collectionMethods, 'models');\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this._removeElement();\n      this.stopListening();\n      return this;\n    },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function() {\n      this.$el.remove();\n    },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function(element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n    },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function(el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function(events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], _.bind(method, this));\n      }\n      return this;\n    },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function(eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function(eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function(tagName) {\n      return document.createElement(tagName);\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function(attributes) {\n      this.$el.attr(attributes);\n    }\n\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Pass along `textStatus` and `errorThrown` from jQuery.\n    var error = options.error;\n    options.error = function(xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    };\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'patch': 'PATCH',\n    'delete': 'DELETE',\n    'read': 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n                   .replace(optionalParam, '(?:$1)?')\n                   .replace(namedParam, function(match, optional) {\n                     return optional ? match : '([^/?]+)';\n                   })\n                   .replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    this.checkUrl = _.bind(this.checkUrl, this);\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n\n    // Does the pathname match the root?\n    matchRoot: function() {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function(fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function() {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the pathname and search params, without the root.\n    getPath: function() {\n      var path = this.decodeFragment(\n        this.location.pathname + this.getSearch()\n      ).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function(fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange   = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.history && this.history.pushState);\n      this._usePushState    = this._wantsPushState && this._hasPushState;\n      this.fragment         = this.getFragment();\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath());\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we've started out with a hash-based route, but we're currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {replace: true});\n        }\n\n      }\n\n      // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body;\n        // Using `appendChild` will throw on IE < 9 if the document is not ready.\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      }\n\n      // Add a cross-platform `addEventListener` shim for older browsers.\n      var addEventListener = window.addEventListener || function(eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      };\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function(eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      };\n\n      // Remove window listeners.\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      }\n\n      // Clean up the iframe if necessary.\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      }\n\n      // Some environments will throw when clearing an undefined interval.\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n\n      // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      // Normalize the fragment.\n      fragment = this.getFragment(fragment || '');\n\n      // Don't include a trailing slash on the root.\n      var rootPath = this.root;\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n      var url = rootPath + fragment;\n\n      // Strip the hash and decode for matching.\n      fragment = this.decodeFragment(fragment.replace(pathStripper, ''));\n\n      if (this.fragment === fragment) return;\n      this.fragment = fragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow;\n\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/backbone/backbone.js","define([\n    'underscore',\n    'jquery',\n    'dcpDocument/widgets/widget'\n], function wWindow(_, $)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpWindow\", {\n        intervalId: 0,\n        options: {\n            animation: {\n                open: {\n                    effects: \"fade:in\",\n                    duration: 1000\n                }, close: {\n                    effects: \"fade:out\",\n                    duration: 1000\n                }\n            },\n            actions: [\n                \"Maximize\",\n                \"Close\"\n            ],\n            visible: false,\n            height: \"300px\",\n            width: \"400px\",\n            /**\n             * Try to add iframe title if no title is set\n             */\n            open: function wWindowOpen()\n            {\n                if (!this.options.title) {\n                    try {\n                        var kendoWindow = this;\n                        var iframeTitle = this.element.find('iframe').contents().find(\"title\").html();\n                        if (typeof iframeTitle === \"undefined\") {\n                            _.defer(function wWindowOpenSetTitle()\n                            {\n                                var currentTitle = \"\";\n                                var $content = kendoWindow.element.find('iframe').contents();\n                                kendoWindow.element.find('iframe').on(\"load\", function wWindowOpenSetTitleNow()\n                                {\n                                    try {\n                                        var $scopeWindow = $(this);\n                                        var $content = $scopeWindow.contents();\n\n                                        kendoWindow.setOptions({\n                                            title: currentTitle\n                                        });\n                                        $content.find(\"body\").addClass(\"window-dialog\");\n\n                                    } catch (exp) {\n                                    }\n                                });\n\n                                // Verify if need to change title every seconds\n                                kendoWindow.intervalId = window.setInterval(function wWindowOpenSetTitleIsChanged()\n                                {\n                                    try {\n                                        $content = kendoWindow.element.find('iframe').contents();\n                                        var newTitle = $content.find(\"title\").html();\n                                        var currentIcon = $content.find('link[rel=\"shortcut icon\"]').attr(\"href\");\n\n                                        if (newTitle) {\n                                            $content.find(\"body\").addClass(\"window-dialog\");\n                                            if (currentIcon) {\n                                                newTitle = '<img src=\"' + currentIcon + '\" /> ' + newTitle;\n                                            }\n                                            if (newTitle !== currentTitle) {\n                                                currentTitle = newTitle;\n                                                $(kendoWindow.element).closest(\".k-window\").find(\".k-window-title\").html(newTitle);\n                                            }\n                                        }\n                                    } catch (exp) {\n                                    }\n                                }, 1000);\n                            });\n                        } else {\n                            kendoWindow.setOptions({\n                                title: $(this).contents().find(\"title\").html()\n                            });\n                        }\n                    } catch (exp) {\n                    }\n                }\n            },\n            close: function wWindowClose()\n            {\n                window.clearInterval(this.intervalId);\n            },\n            destroy: function wWindowDestroy()\n            {\n                window.clearInterval(this.intervalId);\n            }\n        },\n\n        currentWidget: null,\n        _create: function wWindowCreate()\n        {\n            this.currentWidget = $('<div class=\"dialog-window\"/>');\n            this.element.append(this.currentWidget);\n            this.element.data(\"dcpWindow\", this);\n\n            this.currentWidget.kendoWindow(this.options);\n        },\n\n        _getWindowTemplate: function wWindowCreate_getWindowTemplate(templateId)\n        {\n            if (this.options.templateData && this.options.templateData.templates &&\n                this.options.templateData.templates.window && this.options.templateData.templates.window[templateId]) {\n                return this.options.templateData.templates.window[templateId];\n            }\n            if (window.dcp && window.dcp.templates && window.dcp.templates.window && window.dcp.templates.window[templateId]) {\n                return window.dcp.templates.window[templateId];\n            }\n            throw new Error(\"Unknown window template  \" + templateId);\n        },\n        destroy: function wWindowDestroy()\n        {\n            window.clearInterval(this.intervalId);\n            if (this.currentWidget && this.currentWidget.data(\"kendoWindow\")) {\n                this.currentWidget.data(\"kendoWindow\").destroy();\n            }\n            this._super();\n        },\n        open: function wWindowopen()\n        {\n            this.currentWidget.data(\"kendoWindow\").open();\n        },\n        close: function wWindowClose()\n        {\n            window.clearInterval(this.intervalId);\n            this.currentWidget.data(\"kendoWindow\").close();\n        },\n        kendoWindow: function wWindowkendoWindow()\n        {\n            return this.currentWidget.data(\"kendoWindow\");\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/window/wWindow.js","/*global define, console*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'mustache',\n    'dcpDocument/views/attributes/vAttribute',\n    'dcpDocument/views/attributes/array/vColumn',\n    'dcpDocument/views/document/attributeTemplate',\n    'dcpDocument/widgets/attributes/array/wArray'\n], function vArray($, _, Backbone, Mustache, ViewAttribute, ViewColumn, attributeTemplate) {\n    'use strict';\n\n    return Backbone.View.extend({\n        className: \"row dcpArray\",\n        displayLabel: true,\n        customView: false,\n        customRowView: false,\n        events: {\n            \"dcparraylineadded\": \"addLine\",\n            \"dcparraylineremoved\": \"removeLine\",\n            \"dcparraylinemoved\": \"moveLine\",\n            \"dcparrayexternallinkselected\": \"externalLinkSelected\",\n            \"dcpattributechange .dcpArray__content__cell\": \"updateValue\"\n        },\n\n        columnViews: {},\n\n        initialize: function vArray_initialize(options) {\n            if (options.displayLabel === false || this.model.getOption(\"labelPosition\") === \"none\") {\n                this.displayLabel = false;\n            }\n            this.listenTo(this.model, 'change:label', this.updateLabel);\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'cleanView', this.remove);\n            this.listenTo(this.model, 'change:errorMessage', this.setArrayError);\n            this.listenTo(this.model, 'errorMessage', this.setError);\n            this.listenTo(this.model, 'hide', this.hide);\n            this.listenTo(this.model, 'show', this.show);\n            this.listenTo(this.model, 'removeWidgetLine', this.removeWidgetLine);\n            this.listenTo(this.model, 'addWidgetLine', this.addWidgetLine);\n            this.listenTo(this.model, 'haveView', this._identifyView);\n            this.options = options;\n        },\n\n        render: function vArray_render() {\n            var currentView = this;\n            return (new Promise(_.bind(function vArray_renderPromise(resolve, reject) {\n                var customRender,\n                    data = currentView.model.toData(null, true),\n                    event = {prevent: false},\n                    promisesColumn = [];\n\n                //Trigger the beforeRender event, and cancel display if asked\n                currentView.model.trigger(\"beforeRender\", event, {model: currentView.model, $el: currentView.$el});\n                if (event.prevent) {\n                    resolve(currentView);\n                    return currentView;\n                }\n\n                if (currentView.options.originalView !== true) {\n                    if (currentView.model.getOption(\"template\")) {\n                        customRender = attributeTemplate.renderCustomView(currentView.model);\n                        currentView.customView = customRender.$el;\n                        customRender.promise.then(resolve);\n                        if (currentView.model.getOption(\"template\").match('dcpArray__table')) {\n                            // Two case of custom : custom line or global custom array\n                            currentView.customRowView = true;\n                        }\n                    }\n                }\n\n                //Extract only the displayable lines\n                data.content = _.filter(data.content, function vArray_filterCurrentElement(currentContent) {\n                    return currentContent.isDisplayable;\n                });\n                data.nbLines = currentView.getNbLines();\n                currentView.padValues(data.nbLines);\n                data.renderOptions = currentView.model.getOptions();\n                data.templates = {};\n                data.displayLabel = currentView.displayLabel;\n                if (currentView.model.getTemplates().attribute[currentView.model.get(\"type\")]) {\n                    data.templates = currentView.model.getTemplates().attribute[currentView.model.get(\"type\")];\n                }\n                if (data.nbLines === 0 && data.mode === \"read\") {\n                    data.showEmpty = currentView.model.getOption('showEmptyContent');\n                } else {\n                    if (!currentView.customView || currentView.customRowView) {\n                        currentView.columnViews = [];\n                        currentView.model.get(\"content\").each(function vArray_analyzeContent(currentAttr) {\n                            if (!currentAttr.isDisplayable()) {\n                                return;\n                            }\n                            try {\n                                if (currentAttr.getOption(\"attributeLabel\")) {\n                                    data.content = _.map(data.content, function vArray_changeLabelCurrentElement(currentContent) {\n                                        if (currentContent.id === currentAttr.id) {\n                                            currentContent.label = currentAttr.getOption(\"attributeLabel\");\n                                        }\n                                        return currentContent;\n                                    });\n                                }\n                                if (currentAttr.get(\"isValueAttribute\")) {\n                                    currentView.columnViews[currentAttr.id] = new ViewColumn({\n                                        el: currentView.el,\n                                        els: function vArray_findScope() {\n                                            return currentView.$el.find('.dcpArray__cell[data-attrid=\"' + currentAttr.id + '\"],' +\n                                                '.dcpCustomTemplate--row[data-attrid=\"' + currentAttr.id + '\"]'\n                                            );\n                                        },\n                                        originalView: true,\n                                        model: currentAttr,\n                                        parentElement: currentView.$el\n                                    });\n                                    promisesColumn.push(currentView.columnViews[currentAttr.id].render());\n                                }\n                            } catch (e) {\n                                if (window.dcp.logger) {\n                                    window.dcp.logger(e);\n                                } else {\n                                    console.error(e);\n                                }\n                            }\n                        });\n                    }\n                }\n\n                if (currentView.customView) {\n                    data.customTemplate = currentView.customView;\n                    data.customLineCallback = function vArray_callCustomLine(index) {\n                        return attributeTemplate.customArrayRowView(index, currentView.model, currentView);\n                    };\n                }\n\n                try {\n                    promisesColumn.push((new Promise(_.bind(function onArrayReady(resolve, reject) {\n                        currentView.$el.dcpArray(data).one(\"dcparraywidgetready\", resolve);\n                        attributeTemplate.insertDescription(currentView);\n                    }, this))));\n                } catch (e) {\n                    if (window.dcp.logger) {\n                        window.dcp.logger(e);\n                    } else {\n                        console.error(e);\n                    }\n                }\n\n                Promise.all(promisesColumn).then(function renderDone() {\n                    currentView.$el.attr(\"data-attrid\", currentView.model.id);\n                    currentView.model.trigger(\"renderDone\", {model: currentView.model, $el: currentView.$el});\n                    resolve(currentView);\n                });\n\n                return this;\n            }, this)));\n        },\n\n        getNbLines: function vArraygetNbLines() {\n            var nbLigne = this.nbLines || 0;\n            this.model.get(\"content\").each(function vArray_getCurrentLine(currentAttr) {\n                if (currentAttr.get(\"attributeValue\") && nbLigne < _.size(currentAttr.get(\"attributeValue\"))) {\n                    nbLigne = _.size(currentAttr.get(\"attributeValue\"));\n                }\n            });\n            return nbLigne;\n        },\n\n        padValues: function vArrayPadValues(lineNumber) {\n            if (lineNumber > 0) {\n                this.model.get(\"content\").each(function vArray_padCurrentLine(currentAttr) {\n                    var currentValue = currentAttr.get(\"attributeValue\");\n                    if (currentValue !== null && currentValue !== undefined && _.size(currentValue) < lineNumber) {\n                        for (var idx = currentValue.length; idx < lineNumber; idx++) {\n                            currentValue.push({value: null, displayValue: ''});\n                        }\n                    }\n                });\n            }\n        },\n\n        updateLabel: function vArrayupdateLabel() {\n            this.$el.find(\".dcpArray__label\").text(this.model.get(\"label\"));\n        },\n\n        updateValue: function vArray_UpdateValue(event, options) {\n            var attributeModel = this.model.get(\"content\").get(options.id);\n            if (!attributeModel) {\n                throw new Error(\"Unknown attribute \" + options.id);\n            }\n            attributeModel.setValue(options.value, options.index);\n        },\n\n        refresh: function vArray_Refresh() {\n            this.nbLines = this.$el.dcpArray(\"option\", \"nbLines\");\n            this.$el.dcpArray(\"destroy\");\n            this.render();\n        },\n\n        removeLine: function vArray_removeLine(event, options) {\n            this.model.get(\"content\").each(function vArray_removeLine(currentContent) {\n                currentContent.removeIndexValue(options.line);\n            });\n            this.model.trigger(\"array\", \"removeLine\", this.model, options.line);\n        },\n\n        removeWidgetLine: function vArray_RemoveWidgetLine(options) {\n            this.$el.dcpArray(\"removeLine\", options.index, {silent: true});\n        },\n\n        addWidgetLine: function vArray_addWidgetLine(options) {\n            this.$el.dcpArray(\"addLine\", options.index);\n        },\n\n        addLine: function vArray_AddLine(event, options) {\n            var currentArrayView = this, customView = null;\n            var allPromiseAttributes = [];\n            this.model.get(\"content\").each(function vArray_addLineGetContent(currentContent) {\n                var currentViewColumn;\n                if (options.needAddValue || options.copyValue) {\n                    currentContent.createIndexedValue(options.line, options.copyValue);\n                }\n                currentViewColumn = currentArrayView.columnViews[currentContent.id];\n                if (currentViewColumn) {\n                    customView = null;\n                    if (currentContent.getOption(\"template\")) {\n                        customView = attributeTemplate.renderCustomView(currentContent,\n                            function vArray_customViewInit() {\n                                var $this = $(this), currentWidgetOption = currentViewColumn.getData(options.line);\n                                //Check if the asked attribute is the current attribute\n                                if ($this.data(\"attrid\") !== currentContent.id) {\n                                    throw Error(\"An attribute template in an array cannot asked\" +\n                                        \" for another attribute than the current (\" + $this.data(\"attrid\") + \" asked instead of \" + currentContent.id + \")\");\n                                }\n                                currentWidgetOption.viewCid = _.uniqueId(currentWidgetOption.viewCid);\n                                currentViewColumn.widgetInit(\n                                    $this,\n                                    currentWidgetOption\n                                );\n                                currentViewColumn.moveValueIndex({});\n                            }, {index: options.line}\n                        );\n                        allPromiseAttributes.push(customView.promise);\n                    }\n                    if (customView && customView.$el) {\n                        allPromiseAttributes.push(currentViewColumn.addNewWidget(options.line, customView.$el));\n                    } else {\n                        allPromiseAttributes.push(currentViewColumn.addNewWidget(options.line));\n                    }\n\n                }\n            });\n            Promise.all(allPromiseAttributes).then(\n                _.bind(function addlinePromiseAllDone() {\n                    this.model.trigger(\"array\", \"addLine\", this.model, options.line);\n                    options.resolve();\n                }, this))[\"catch\"](options.reject);\n\n        },\n\n        moveLine: function vArray_moveLine(event, options) {\n            this.model.get(\"content\").each(function vArray_getMoveLineContent(currentContent) {\n                currentContent.moveIndexValue(options.fromLine, options.toLine);\n            });\n            this.model.trigger(\"array\", \"moveLine\", this.model, options);\n        },\n        getAttributeModel: function vArray_getAttributeModel(attributeId) {\n            var docModel = this.model.getDocumentModel();\n            return docModel.get('attributes').get(attributeId);\n        },\n\n        setError: function vArray_setError(event, message) {\n            var parentId = this.model.get('parent');\n\n            if (message) {\n                this.$el.find(\".dcpArray__label\").addClass(\"has-error\");\n            } else {\n                this.$el.find(\".dcpArray__label\").removeClass(\"has-error\");\n            }\n\n            if (parentId) {\n                var parentModel = this.getAttributeModel(parentId);\n                if (parentModel) {\n                    parentModel.trigger(\"errorMessage\", event, message);\n                }\n            }\n        },\n        setArrayError: function vArray_setArrayError(event, message) {\n            this.setError(event, message);\n            // global error on array itself\n            this.$el.dcpArray(\"setError\", message);\n        },\n\n        hide: function vArray_hide() {\n            this.$el.hide();\n        },\n\n        show: function vArray_show() {\n            this.$el.show();\n        },\n\n        _identifyView: function vArray_identifyView(event) {\n            event.haveView = true;\n            //Add the pointer to the current jquery element to a list passed by the event\n            event.elements = event.elements.add(this.$el);\n        },\n        externalLinkSelected: function vArrayExternalLinkSelected(event, options) {\n            var documentModel = this.model.getDocumentModel();\n            options.attrid = this.model.id;\n            this.model.trigger(\"internalLinkSelected\", event, options);\n            if (event.prevent) {\n                return this;\n            }\n            documentModel.trigger(\"actionAttributeLink\", event, options);\n        }\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/attributes/array/vArray.js","(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/widget'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function requireDcpLabel($, _, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpLabel\", {\n        options: {\n            renderOptions: {\n                helpLinkIdentifier: 0\n            },\n            labels: {\n                helpTitle: \"Info\"\n            }\n        },\n        _create: function wLabel_create()\n        {\n            this._initDom();\n            this._initActionClickEvent();\n        },\n\n        _initDom: function wLabel_initDom()\n        {\n            this.element.addClass(\"dcpAttribute__label control-label dcpLabel\");\n            this.element.append(Mustache.render(this._getTemplate() || \"\", this.options));\n            if (this.options.renderOptions && this.options.renderOptions.attributeLabel) {\n                this.setLabel(this.options.renderOptions.attributeLabel);\n            }\n        },\n\n        /**\n         * Init event for #action/ links\n         *\n         * @protected\n         */\n        _initActionClickEvent: function wAttributeInitActionClickEvent() {\n            var scopeWidget = this;\n\n            this.element.on(\"click.\" + this.eventNamespace, 'a[href^=\"#action/\"], a[data-action], button[data-action]', function wAttributeActionClick(event) {\n                var $this = $(this),\n                    action,\n                    options,\n                    eventOptions;\n\n                event.preventDefault();\n                if (event.stopPropagation) {\n                    event.stopPropagation();\n                }\n\n                action = $this.data('action') || $this.attr(\"href\");\n                options = action.substring(8).split(\":\");\n                eventOptions = {\n                    target: event.target,\n                    index: -1,\n                    eventId: options.shift(),\n                    options: options\n                };\n\n                scopeWidget._trigger(\"externalLinkSelected\", event, eventOptions);\n                return this;\n            });\n        },\n\n        setLabel: function wLabelSetLabel(label)\n        {\n            this.element.find(\"label\").text(label);\n        },\n\n        setError: function wLabelSetError(message)\n        {\n            if (message) {\n                this.element.addClass(\"has-error\");\n            } else {\n                this.element.removeClass(\"has-error\");\n            }\n        },\n\n        _getTemplate: function wLabel_getTemplate()\n        {\n            if (this.options.templates && this.options.templates.label) {\n                return this.options.templates.label;\n            }\n            if (window.dcp && window.dcp.templates && window.dcp.templates.label) {\n                return window.dcp.templates.label;\n            }\n            throw new Error(\"Unknown label template \");\n        }\n    });\n\n    return $.fn.dcpLabel;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/label/wLabel.js","window.dcp = window.dcp || {};\n\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\"dcpDocument/i18n/translatorFactory\"], factory);\n    } else {\n        //Load translation and load i18n handler for non require project\n        $.get(\"api/v1/i18n/DOCUMENT\").done(function translationLoaded(catalog) {\n            window.dcp.i18n = catalog;\n            factory(window.dcp.translatorFactory);\n            //Trigger an event when translation loaded\n            $(window).trigger(\"documentCatalogLoaded\");\n        });\n    }\n}(window, function documentCatalog(translatorFactory)\n{\n    \"use strict\";\n    //Register document translation in the global window.dcp.documentCatalog\n    window.dcp.documentCatalog = translatorFactory(window.dcp.i18n);\n    return window.dcp.documentCatalog;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/i18n/documentCatalog.js","define([\n    'underscore',\n    'jquery',\n    'backbone',\n    'mustache',\n    'dcpDocument/views/document/vDocument',\n    'dcpDocument/widgets/window/wDialog'\n], function vTransition(_, $, Backbone, Mustache, ViewDocument)\n{\n    'use strict';\n\n    return ViewDocument.extend({\n\n        messages: [],\n\n        templates: {\n            htmlContent: '<div class=\"dcpTransition--content-activity\" >' +\n            ' <span class=\"dcpTransition--activity\" style=\"border-color:{{transition.beginState.color}}\">{{transition.beginState.displayValue}}</span>' +\n            '<span class=\"dcpTransition--transition {{^transition.id}}dcpTransition--transition--invalid{{/transition.id}}\" >{{transition.label}}</span>' +\n            '<span class=\"dcpTransition--arrow\"><span class=\"fa fa-caret-right fa-2x {{^transition.id}}dcpTransition--transition--invalid{{/transition.id}}\"></span></span>' +\n            '<span class=\"dcpTransition--activity\" style=\"border-color:{{transition.endState.color}}\">{{transition.endState.displayValue}}</span> ' +\n            '</div>',\n\n            htmlStateContent: '<div class=\"dcpTransition--content-activity\">' +\n            '<span class=\"dcpTransition--success\" >{{labels.success}}</span>' +\n            '</div>',\n\n            htmlStateButtons: '<button title=\"{{labels.close}}\" class=\"dcpTransition-button-close btn btn-outline-secondary btn-sm\">' +\n            '{{labels.close}} </button>',\n\n            htmlLoading: '<div class=\"dcpTransition--loading\"><span class=\"fa fa-2x fa-spinner fa-spin\"></span> {{labels.inprogress}}</div>',\n\n            htmlButtons: '{{#hasAttributes}}<button class=\"dcpTransition-button-cancel btn btn-outline-secondary btn-sm\">{{labels.cancel}}</button>' +\n            '<button title=\"{{transition.label}}\" ' +\n            'class=\"dcpTransition-button-ok btn {{#transition.id}}btn-primary{{/transition.id}}  {{^transition.id}}btn-danger{{/transition.id}} btn-sm\">' +\n            '{{labels.confirm}}</button>{{/hasAttributes}}'\n        },\n\n        events: {\n            \"click .dcpTransition-button-ok \": \"clickOnOk\",\n            \"click .dcpTransition-button-cancel\": \"clickOnCancel\",\n            \"click .dcpTransition-button-close\": \"clickOnClose\"\n        },\n\n        initialize: function vTransition_initialize(options)\n        {\n            //Call parent\n            ViewDocument.prototype.initialize.apply(this, arguments);\n            this.listenTo(this.model, 'showError', this.displayError);\n            //this.listenTo(this.model, 'invalid', this.displayError);\n            this.listenTo(this.model, 'request', this.transitionDisplayLoading);\n            this.listenTo(this.model, 'hide', function vTransition_hide()\n            {\n                this.$el.hide();\n            });\n            this.listenTo(this.model, 'show', function vTransition_show()\n            {\n                this.$el.show();\n            });\n            this.listenTo(this.model, 'close', function vTransition_close()\n            {\n                if (this.transitionWindow) {\n                    this.transitionWindow.close();\n                }\n            });\n            this.options = options;\n        },\n\n        remove: function vTransition_remove()\n        {\n            if (this.transitionWindow) {\n                this.transitionWindow.close();\n            }\n            //Call parent\n            ViewDocument.prototype.remove.apply(this, arguments);\n            //Remove custom CSS\n            var customCss = _.pluck(this.model.get(\"customCSS\"), \"key\");\n            if (customCss.length > 0) {\n                _.each(customCss, function vTransition_removeLink(cssKey)\n                {\n                    $('link[data-view=true][data-id=\"' + cssKey + '\"]').remove();\n                });\n            }\n        },\n\n        displayError: function vTransition_displayError(error)\n        {\n            var workflow = this.model.get(\"workflow\"),\n                attributes = this.model.get(\"attributes\"),\n                $okButton = this.$el.find(\".dcpTransition-button-ok\"),\n                $cancelButton = this.$el.find(\".dcpTransition-button-cancel\"),\n                errorMessage;\n            this.reactiveWidget();\n            if (_.isObject(error)) {\n                if (error.errorCode === \"offline\") {\n                    errorMessage = '<div class=\"dcpTransition--error\">{{{htmlMessage}}}</div>';\n                } else {\n                    errorMessage = '<div class=\"dcpTransition--error\">{{title}} {{{htmlMessage}}}</div>';\n                }\n                $(Mustache.render(errorMessage || \"\", error)).insertBefore(this.$el.find(\".dcpTransition--buttons\"));\n            }\n            if (attributes.length === 0) {\n                $okButton.hide();\n                $cancelButton.text(workflow.labels.close);\n            } else {\n                //noinspection JSUnresolvedVariable\n                $okButton.text(workflow.labels.retry);\n            }\n        },\n\n        cleanAndRender: function vTransition_cleanAndRender()\n        {\n            var workflow = this.model.get(\"workflow\"),\n                transition = workflow.transition,\n                state = workflow.state;\n\n            this.render();\n            this.displayMessages(this.model.get(\"messages\"));\n            this.clearError();\n            this.reactiveWidget();\n            if (!transition && state) {\n                this.model.trigger(\"success\", this.messages);\n            }\n        },\n        /**\n         * Inject associated CSS in the DOM\n         *\n         * Inject new CSS, no remove old CSS\n         */\n        renderCss: function vTransitionRenderCss()\n        {\n            ViewDocument.prototype.renderCss.apply(this, [true]);\n        },\n        updateTitle: function vTransitionupdateTitle()\n        {\n            // No update title\n        },\n        updateIcon: function vTransitionupdateIcon()\n        {\n            // No update icon\n        },\n        clearError: function vTransition_clearError()\n        {\n            this.$el.find(\".dcpTransition--error\").remove();\n        },\n\n        reactiveWidget: function vTransition_reactiveWidget()\n        {\n\n            var workflow = this.model.get(\"workflow\"),\n                attributes = this.model.get(\"attributes\"),\n                $loading = this.$el.find(\".dcpTransition--loading\"),\n                $okButton = this.$el.find(\".dcpTransition-button-ok\"),\n                $cancelButton = this.$el.find(\".dcpTransition-button-cancel\");\n\n            if (attributes.length > 0) {\n                if (workflow && workflow.labels.confirm) {\n                    $okButton.text(workflow.labels.confirm);\n                }\n                $okButton.prop(\"disabled\", false);\n            }\n            $cancelButton.prop(\"disabled\", false);\n\n            this.$el.find(\".dcpDocument--disabled\").remove();\n            $loading.hide();\n        },\n\n        /**\n         * Display the loading widget\n         */\n        transitionDisplayLoading: function vTransition_transitionDisplayLoading()\n        {\n            var $loading = this.$el.find(\".dcpTransition--loading\"),\n                $okButton = this.$el.find(\".dcpTransition-button-ok\"),\n                $cancelButton = this.$el.find(\".dcpTransition-button-cancel\");\n\n            $loading.show();\n            this.clearError();\n            $okButton.prop(\"disabled\", true);\n            $cancelButton.prop(\"disabled\", true);\n        },\n\n        displayMessages: function vTransition_displayMessages(messages)\n        {\n            var currentView = this,\n                template = '<div class=\"dcpTransition--message dcpTransition--message--{{type}}\">{{contentText}} {{{contentHtml}}}</div>',\n                $message = this.$el.find(\".dcpTransition--messages\");\n\n            this.messages = [];\n\n            _.each(messages, function vTransition_analyzeCurrentMessage(message)\n            {\n                $message.append($(Mustache.render(template || \"\", message)));\n                //noinspection JSUnresolvedVariable\n                currentView.messages.push({\n                    title: message.contentText,\n                    type: message.type,\n                    htmlMessage: message.contentHtml\n                });\n            });\n        },\n\n        /**\n         * Render the document view\n         * @returns {*}\n         */\n        render: function vTransition_render()\n        {\n            var currentView = this,\n                workflow = this.model.get(\"workflow\"),\n                attributes = this.model.get(\"attributes\"),\n                transition = workflow.transition,\n                state = workflow.state;\n\n            //Call parent\n            ViewDocument.prototype.render.apply(this, arguments);\n\n            workflow.hasAttributes = (attributes.length > 0);\n            if (transition) {\n                // Transition ask\n                this.$el.find(\".dcpTransition--header\").append(Mustache.render(this.templates.htmlContent || \"\", workflow));\n                this.$el.find(\".dcpTransition--messages\").append(Mustache.render(this.templates.htmlLoading || \"\", workflow));\n                this.$el.find(\".dcpTransition--buttons\").append(Mustache.render(this.templates.htmlButtons || \"\", workflow));\n                this.$el.find(\".dcpTransition-button-ok\").tooltip();\n\n                if (attributes.length === 0) {\n                    // Direct send transition without user control\n                    _.defer(function vTransition_saveForMe()\n                    {\n                        var event = {prevent: false}, saveXhr;\n                        currentView.model.trigger(\"beforeChangeState\", event);\n                        if (event.prevent === false) {\n                            saveXhr = currentView.model.save();\n                            if (saveXhr) {\n                                saveXhr.then(function vTransition_direct_afterSave()\n                                {\n                                    currentView.model.trigger(\"success\", currentView.getMessages());\n                                }).fail(function vTransition_direct_error(response, statusTxt, errorTxt)\n                                {\n                                    if (response.responseJSON) {\n                                        _.each(response.responseJSON.messages, function vTransition_clickOnOk_displayError(aMessage)\n                                        {\n                                            currentView.displayError({\n                                                title: aMessage.contentText\n                                            });\n                                        });\n                                    } else {\n                                        if (errorTxt && !errorTxt.title && errorTxt.message) {\n                                            errorTxt.title = errorTxt.message;\n                                            currentView.displayError(errorTxt);\n                                        } else\n                                            if (_.isString(errorTxt)) {\n                                                currentView.displayError({title: errorTxt});\n                                            }\n                                    }\n                                });\n                            }\n                        }\n                    });\n                }\n                this.$el.attr(\"data-state\", state.id);\n                if (transition.id) {\n                    this.$el.attr(\"data-transition\", transition.id);\n                }\n\n                // No use border color if same as background\n                _.defer(function vTransition_renderWhiteOnWhite()\n                {\n                    currentView.$el.find(\".dcpTransition--activity\").each(function vTransition_renderBorderColor()\n                    {\n                        if (currentView.$el.css(\"background-color\") === $(this).css(\"border-color\")) {\n                            $(this).css(\"border-color\", \"\");\n                        }\n                    });\n                });\n\n            } else\n                if (state) {\n                    // Transition success\n                    this.$el.find(\".dcpTransition--header\").append(Mustache.render(this.templates.htmlStateContent || \"\", workflow));\n                    this.$el.find(\".dcpTransition--buttons\").append(Mustache.render(this.templates.htmlStateButtons || \"\", workflow));\n                    this.$el.find(\".dcpTransition-button-close\").tooltip();\n\n                }\n\n            if (!this.transitionWindow) {\n                this.transitionWindow = this.$el.dcpDialog({\n                    window: {\n                        // maxWidth: \"600px\",\n                        height: \"auto\",\n                        close: function registerCloseEvent(e)\n                        {\n                            var event = {prevent: false};\n                            currentView.model.trigger(\"beforeChangeStateClose\", event);\n                            if (event.prevent !== false) {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }).data(\"dcpDialog\");\n                this.$el.kendoWindow(\"title\", workflow.transition.label);\n                this.transitionWindow.open();\n            }\n            this.trigger(\"renderTransitionWindowDone\");\n        },\n\n        clickOnOk: function vTransition_clickOnOk()\n        {\n            var event = {prevent: false}, currentView = this, saveXhr;\n            this.model.trigger(\"beforeChangeState\", event);\n\n            if (event.prevent === false) {\n                saveXhr = this.model.save();\n                if (saveXhr) {\n                    saveXhr.then(function vTransition_clickOnOk_afterSave()\n                    {\n                        currentView.model.trigger(\"success\", currentView.getMessages());\n                    }).fail(function vTransition_clickOnOk_error(response, statusTxt, errorTxt)\n                    {\n                        if (response.responseJSON) {\n                            _.each(response.responseJSON.messages, function vTransition_clickOnOk_displayError(aMessage)\n                            {\n                                currentView.displayError({\n                                    title: aMessage.contentText\n                                });\n                            });\n                        } else {\n                            if (errorTxt && !errorTxt.title && errorTxt.message) {\n                                errorTxt.title = errorTxt.message;\n                                currentView.displayError(errorTxt);\n                            } else\n                                if (_.isString(errorTxt)) {\n                                    currentView.displayError({title: errorTxt});\n                                }\n                        }\n                    });\n                }\n            }\n        },\n\n        clickOnCancel: function vTransition_clickOnCancel()\n        {\n            this.transitionWindow.close();\n        },\n\n        clickOnClose: function vTransition_clickOnClose()\n        {\n            this.transitionWindow.close();\n        },\n\n        getMessages: function vTransition_getMessages()\n        {\n            var messages = [];\n            _.each(this.model.get(\"messages\"), function vTransition_getMessagesAMessage(aMessage)\n            {\n                messages.push({\n                    type: aMessage.type,\n                    title: aMessage.contentText,\n                    htmlMessage: aMessage.contentHtml\n                });\n            });\n            return messages;\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/workflow/vTransition.js","define([\n    \"underscore\",\n    \"backbone\"\n], function require_structure(_, Backbone)\n{\n    \"use strict\";\n\n    return Backbone.Model.extend({\n\n        typeModel:\"ddui:familyStructure\",\n        idAttribute: \"familyId\",\n\n        url: function mFamilyStructure_url()\n        {\n            var urlStructure = _.template(\"api/v1/families/<%- familyId %>/views/structure\");\n\n            return urlStructure({\n                familyId: this.get(\"familyId\")\n            });\n\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mFamilyStructure.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone',\n    'mustache',\n    'dcpDocument/widgets/menu/wMenu'\n], function (_, Backbone, Mustache, WidgetMenu)\n{\n    'use strict';\n\n    return Backbone.View.extend({\n\n        className: \"dcpDocument\",\n\n        events: {\n            \"dcpmenuexternallinkselected\": \"externalLinkSelected\"\n        },\n\n        /**\n         * The current model is the document model\n         * So menuModel reference the menu model\n         */\n        menuModel: null,\n\n        initialize: function vMenuInitialize()\n        {\n            this.listenTo(this.model.get(\"properties\"), 'change', this.updateWidget);\n            this.listenTo(this.model.get(\"menus\"), 'change', this.updateWidget);\n            this.listenTo(this.model.get(\"menus\"), 'reload', this.updateWidget);\n            this.listenTo(this.model.get(\"attributes\"), 'changeMenuVisibility', this.changeVisibility);\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'cleanView', this.remove);\n            this.menuModel = this.model.get(\"menus\");\n        },\n\n        render: function vMenuRender()\n        {\n            var currentView = this;\n            return (new Promise(_.bind(function vMenuRenderPromise(resolve, reject) {\n                currentView.$el.dcpMenu(currentView.model.toData());\n                currentView.refresh();\n                return resolve(currentView);\n            }, this)));\n        },\n\n        externalLinkSelected: function vAttributeExternalLinkSelected(event, options)\n        {\n            var internalEvent = {\n                prevent: false\n            };\n\n            options.attrid = this.model.id;\n            this.model.trigger(\"internalLinkSelected\", internalEvent, options);\n            if (event.prevent) {\n                return this;\n            }\n            this.model.trigger(\"actionAttributeLink\", internalEvent, options);\n            return this;\n        },\n\n        changeVisibility: function vMenuchangeVisibility(event, data)\n        {\n            var menuItem = this.menuModel.get(data.id);\n            var onlyIfVisible = !!data.onlyIfVisible;\n            var visibility;\n            if (menuItem) {\n                visibility = menuItem.get(\"visibility\");\n                if (!onlyIfVisible || visibility !== 'hidden') {\n                    menuItem.set(\"visibility\", data.visibility);\n                }\n            }\n        },\n\n        updateWidget: function vMenuUpdateWidget()\n        {\n            if (this.$el.dcpMenu && this._findWidgetName(this.$el)) {\n                this.$el.dcpMenu(\"destroy\");\n            }\n            return this.render();\n        },\n\n        remove: function vMenuRemove()\n        {\n            if (this.$el.dcpMenu && this._findWidgetName(this.$el)) {\n                this.$el.dcpMenu(\"destroy\");\n            }\n            return Backbone.View.prototype.remove.call(this);\n        },\n\n        _findWidgetName: function vMenu_findWidgetName($element)\n        {\n            return _.find(_.keys($element.data()), function (currentKey)\n            {\n                return currentKey.indexOf(\"dcpDcp\") !== -1;\n            });\n        },\n\n        /**\n         * Recompute responsive in case of scrollbar can appear\n         */\n        refresh: function vMenu_refresh()\n        {\n            if (this.$el.dcpMenu && this._findWidgetName(this.$el)) {\n                this.$el.dcpMenu(\"updateResponsiveMenu\");\n            }\n        }\n\n    });\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/document/menu/vMenu.js","/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'mustache',\n    'dcpDocument/views/attributes/vAttribute',\n    'dcpDocument/views/document/attributeTemplate'\n], function vColumn($, _, Backbone, Mustache, ViewAttribute, attributeTemplate) {\n    'use strict';\n\n    return ViewAttribute.extend({\n\n        /**\n         * Use special event to trigger only attributes of model\n         */\n        attributeEvents: function vColumnEvents() {\n            var events = {};\n            this._mergeEvent(events, \"delete\", \"deleteValue\");\n            this._mergeEvent(events, \"changeattrmenuvisibility\", \"changeMenuVisibility\");\n            this._mergeEvent(events, \"changeattrsvalue\", \"changeAttributesValue\");\n            this._mergeEvent(events, \"fetchdocument\", \"loadDocument\");\n            this._mergeEvent(events, \"externallinkselected\", \"externalLinkSelected\");\n            this._mergeEvent(events, \"downloadfile\", \"downloadFileSelect\");\n            this._mergeEvent(events, \"uploadfile\", \"uploadFileSelect\");\n            this._mergeEvent(events, \"uploadfiledone\", \"uploadFileDone\");\n            this._mergeEvent(events, \"anchorclick\", \"anchorClick\");\n            this.listenTo(this.model, \"change:label\", this.changeLabel);\n            return events;\n        },\n\n        _mergeEvent: function vColumn_addEvent(events, name, method) {\n            events[\"dcpattribute\" + name + ' .dcpArray__content__cell[data-attrid=\"' + this.model.id + '\"]'] = method;\n        },\n\n        render: function vColumnRender() {\n            var scope = this;\n            if (this.displayLabel === false) {\n                // Need to defer because thead is not construct yet\n                _.defer(function vColumnHideHead() {\n                    var $head = scope.$el.find('.dcpArray__head__cell[data-attrid=\"' + scope.model.id + '\"]');\n                    $head.hide();\n                });\n            } else {\n                // Need to defer because thead is not construct yet\n                _.defer(function vColumnDescriptionHead() {\n                    var $head = scope.$el.find('.dcpArray__head__cell[data-attrid=\"' + scope.model.id + '\"]');\n                    attributeTemplate.insertDescription(scope, $head);\n                });\n            }\n            this.model.trigger(\"renderColumnDone\", {model: this.model, $el: this.$el});\n            return this;\n        },\n\n        /**\n         * Change the label of the column\n         */\n        changeLabel: function vColumnChangeLabel() {\n            this.$el.find('.dcpArray__head__cell[data-attrid=\"' + this.model.id + '\"]').text(this.model.get(\"label\"));\n        },\n\n        /**\n         * called by vArray::addLine()\n         * @param index row index\n         * @param customView HTML fragment to use for a custom view\n         */\n        addNewWidget: function vColumnAddNewWidget(index, customView) {\n            return (new Promise(_.bind(function vColumnAddNewWidget_promise(resolve, reject) {\n                if (this.options) {\n                    var cells = this.options.parentElement.find('.dcpArray__content__cell[data-attrid=\"' + this.model.id + '\"]'),\n                        $el, data = this.getData(index), event = {prevent: false};\n\n                    if (cells[index]) {\n                        try {\n                            $el = $(cells[index]);\n                            this.model.trigger(\"beforeRender\", event, {model: this.model, $el: $el, index: index});\n                            if (event.prevent) {\n                                return this;\n                            }\n                            if (customView) {\n                                $el.append(customView);\n                                this.model.trigger(\"renderDone\", {model: this.model, $el: $el, index: index});\n                                this.moveValueIndex({});\n                                resolve($el);\n                            } else {\n                                $el.one(\"dcpattributewidgetready .dcpAttribute__content\", _.bind(function vcolumnRender_widgetready() {\n                                    this.model.trigger(\"renderDone\", {model: this.model, $el: $el, index: index});\n                                    this.moveValueIndex({});\n                                    resolve();\n                                }, this));\n                                this.widgetInit($el, data);\n                                attributeTemplate.insertDescription(this, $el.parent());\n                            }\n\n                        } catch (error) {\n                            if (window.dcp.logger) {\n                                window.dcp.logger(error);\n                            } else {\n                                console.error(error);\n                            }\n                        }\n                    }\n                }\n            }, this)));\n        },\n\n        /**\n         *\n         * @param event\n         * @param options\n         */\n        loadDocument: function vColumnLoadDocument(event, options) {\n            var tableLine = options.tableLine,\n                index = options.index,\n                initid,\n                valueLine = this.model.get(\"attributeValue\")[tableLine],\n                documentModel = this.model.getDocumentModel();\n            if (_.isUndefined(index)) {\n                initid = valueLine.value;\n            } else {\n                initid = valueLine[index].value;\n            }\n\n            this.model.trigger(\"internalLinkSelected\", event, {\n                eventId: \"document.load\",\n                target: event.target,\n                attrid: this.model.id,\n                options: [initid, \"!defaultConsultation\"],\n                index: options.index,\n                row: tableLine\n            });\n\n            if (event.prevent) {\n                return this;\n            }\n\n            documentModel.fetchDocument({\n                \"initid\": initid,\n                \"revision\": -1,\n                \"viewId\": \"!defaultConsultation\"\n            });\n        },\n\n        /**\n         * Hide all items of the column\n         */\n        hide: function vColumnHide() {\n            this.getDOMElements().each(function vColumnHideEach() {\n                var $cell = $(this);\n                var tagName = $cell.prop(\"tagName\").toLowerCase();\n\n                if (tagName !== \"td\" && tagName !== \"th\") {\n                    $cell = $cell.closest(\"td.dcpArray__cell, th.dcpArray__head\");\n                }\n                $cell.hide();\n            });\n\n            this.$el.find('thead th[data-attrid=\"' + this.model.id + '\"]').hide();\n        },\n        /**\n         * Show all hidden items of the column\n         */\n        show: function vColumnShow() {\n            this.getDOMElements().each(function vColumnShowEach() {\n                var $cell = $(this);\n                var tagName = $cell.prop(\"tagName\").toLowerCase();\n\n                if (tagName !== \"td\" && tagName !== \"th\") {\n                    $cell = $cell.closest(\"td.dcpArray__cell, th.dcpArray__head\");\n                }\n                $cell.show();\n            });\n            this.$el.find('thead th[data-attrid=\"' + this.model.id + '\"]').show();\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/attributes/array/vColumn.js","define([\n    \"underscore\",\n    \"backbone\"\n], function require_lock(_, Backbone) {\n    \"use strict\";\n\n    var urlCore = _.template(\"api/v1/documents/<%- initid %>/locks/<%- type %>\");\n    var urlView = _.template(\"api/v1/documents/<%- initid %>/views/<%- viewId %>/locks/<%- type %>\");\n\n    return Backbone.Model.extend({\n        typeModel:\"ddui:lock\",\n        idAttribute: \"initid\",\n        viewId:\"\",\n\n        url : function mDocumentLock_url() {\n            //console.log(\"lock model\", this.get(\"viewId\"));\n            if (this.get(\"viewId\")) {\n                return urlView({\n                    initid: this.get(\"initid\"),\n                    type: this.get(\"type\"),\n                    viewId: this.get(\"viewId\")\n                });\n            } else {\n                return urlCore({\n                    initid: this.get(\"initid\"),\n                    type: this.get(\"type\")\n                });\n            }\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mDocumentLock.js","(function umdRequire(root, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/widget'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function require_array($, _, Mustache) {\n    'use strict';\n\n    $.widget(\"dcp.dcpArray\", {\n\n        options: {\n            tools: true,\n            nbLines: 0,\n            renderOptions: {\n                rowCountThreshold: -1,\n                rowAddDisable: false,\n                rowDelDisable: false,\n                rowMoveDisable: false,\n                rowMinLimit: -1,\n                rowMinDefault: 0,\n                rowMaxLimit: -1,\n                collapse: false,\n                arrayBreakPoints: {\n                    transpositionRule: \"@media (max-width: 768px)\",\n                    upRule: \"@media (max-width: 1200px)\"\n                }\n            },\n            displayLabel: true,\n            customTemplate: false,\n            labels: {\n                closeErrorMessage: \"Close message\",\n                limitMaxMessage: \"Row count limit to {{limit}}\",\n                limitMinMessage: \"Min row limit is {{limit}}\"\n            }\n        },\n\n        /**\n         * get Selected line element (jquery, length = 0 if no selected)\n         * @returns {*}\n         */\n        getSelectedLineElement: function dcpArraygetSelectedLineElement() {\n            return this.element.find('.dcpArray__content__line--selected.active');\n        },\n        /**\n         * get Selected line index (0 : first, null : no selected line)\n         * @returns {*}\n         */\n        getSelectedLineIndex: function dcpArray_getSelectedLineIndex() {\n            var index = this.getSelectedLineElement().data(\"line\");\n            if (_.isUndefined(index) || _.isNull(index)) {\n                return null;\n            }\n            return index;\n        },\n        /**\n         *\n         * @private\n         */\n        _create: function dcpArray_create() {\n            this.options.tools = this.options.mode === \"write\" && this.options.visibility !== \"U\";\n            if (this.options.renderOptions.rowAddDisable === true &&\n                this.options.renderOptions.rowDelDisable === true &&\n                this.options.renderOptions.rowMoveDisable === true) {\n                this.options.tools = false;\n            }\n            if (this.options.renderOptions.attributeLabel) {\n                this.options.label = this.options.renderOptions.attributeLabel;\n            }\n\n            this.initializing = true;\n            this._initDom().then(_.bind(function onDomOK() {\n                this._trigger(\"widgetReady\");\n            }, this));\n            this._initActionClickEvent();\n            this._bindEvents();\n            if (this.options.renderOptions.collapse === \"collapse\") {\n                this.toggleCollapse(null, true);\n            }\n            this.initializing = false;\n        },\n\n        _initDom: function dcpArray_initDom() {\n            return new Promise(_.bind(function dcpArray_initDom_initDom(resolve, reject) {\n                var scope = this, $table;\n                if (this.options.mode === \"read\" && this.options.nbLines === 0 && this.options.showEmpty !== true) {\n                    if (this.options.showEmpty) {\n                        this.element.addClass(\"card card-default\");\n                        // showEmptyCOntent option\n                        if (this.options.displayLabel !== false) {\n                            this.element.append(Mustache.render(this._getTemplate(\"label\") || \"\", this.options));\n                            if (this.options.renderOptions.labelPosition === \"left\") {\n                                this.element.find(\".dcpLabel\").addClass(\"dcpArray__label--left\");\n                            }\n                        }\n\n                        this.element.append(this.options.showEmpty);\n\n                    }\n                } else {\n                    this.element.addClass(\"card card-default\");\n                    if (this.options.displayLabel !== false) {\n                        this.element.append(Mustache.render(this._getTemplate(\"label\") || \"\", _.extend(this.options, {\n                            collapsable: (this.options.renderOptions.collapse !== \"none\"),\n                            displayCount: (this.options.renderOptions.rowCountThreshold >= 0 && this.options.nbLines >= this.options.renderOptions.rowCountThreshold)\n                        })));\n                    }\n\n                    if (this.options.customTemplate) {\n                        // The template is already composed on view\n                        this.element.append(this.options.customTemplate);\n                        this.element.find(\".dcpCustomTemplate table.dcpArray__table tbody tr\").addClass(\"dcpArray__content__line\");\n                        this._indexLine();\n                        this.element.find(\".dcpArray__content__line\").attr(\"data-attrid\", this.options.id);\n                        this.element.find(\".dcpCustomTemplate\").addClass(\"dcpArray__content dcpArray__content--open\");\n\n                    } else {\n                        _.each(this.options.content, function wArrayCopyRenderContent(anOption) {\n                            // Need duplicate because Mustache is confused when 2 attributes has same name\n                            anOption.contentRenderOptions = anOption.renderOptions;\n                        });\n                        this.element.append(Mustache.render(this._getTemplate(\"content\") || \"\", this.options));\n\n                        if (this.options.mode === \"write\") {\n                            this.element.find(\".dcpArray__content\").addClass(\"dcpArray--tooltips\");\n                            this.element.tooltip({\n                                selector: \".dcpArray--tooltips .dcpArray__content__toolCell span, .dcpArray--tooltips .dcpArray__tools .dcpArray__button\",\n                                placement: function (tooltipDom, targetDom) {\n                                    // Auto hide after 3s\n                                    _.delay(function () {\n                                        $(targetDom).tooltip(\"hide\");\n                                    }, 3000);\n                                    if ($(targetDom).closest(\".dcpArray__tools\").length > 0) {\n                                        return \"bottom\";\n                                    }\n                                    return \"top\";\n                                },\n                                container: \".dcpDocument\",\n\n                                delay: {\n                                    hide: 0,\n                                    show: 500\n                                }\n                            });\n                        }\n                    }\n                    if (this.options.displayLabel !== false) {\n                        var labelPosition = this.options.renderOptions.labelPosition;\n                        if (labelPosition === \"auto\" || labelPosition === \"left\") {\n                            this.element.find(\".dcpArray__label\").addClass(\"dcpAttribute__left\");\n                            this.element.find(\".dcpArray__content\").addClass(\"dcpAttribute__right\");\n                            this.element.addClass(\"dcpArray--left\");\n                        }\n\n                        this.element.find(\".dcpAttribute__right\").addClass(\"dcpAttribute__labelPosition--\" + labelPosition);\n                        this.element.find(\".dcpAttribute__left\").addClass(\"dcpAttribute__labelPosition--\" + labelPosition);\n                        this.element.addClass(\"dcpAttribute__labelPosition--\" + labelPosition);\n                    }\n\n                    if (this.options.renderOptions.rowAddDisable === true) {\n                        this.element.find(\".dcpArray__button--add, .dcpArray__button--copy\").hide();\n                    }\n\n                    // Set system css classes\n                    $table = this.element.find(\".dcpArray__table\");\n                    $table.addClass(\"table table-condensed table-hover table-bordered responsive\");\n                    $table.find(\"> tbody\").addClass(\"dcpArray__body\").attr(\"data-attrid\", this.options.id);\n                    $table.find(\"> thead\").attr(\"data-attrid\", this.options.id).find(\"tr\").addClass(\"dcpArray__head\").attr(\"data-attrid\", this.options.id);\n\n                    if (this.options.mode === \"write\" && this.options.renderOptions.rowMoveDisable !== true) {\n                        //Initiate drag drop events\n                        this.element.find('tbody').kendoDraggable({\n                            axis: \"y\",\n                            container: scope.element.find('tbody'),\n                            filter: '.dcpArray__content__toolCell__dragDrop',\n                            hint: function dcpArrayhint(element) {\n                                var dragLine = element.closest('tr');\n                                var lineWidth = dragLine.width();\n                                var classTable = element.closest('table').attr(\"class\");\n\n                                scope._hideTooltips();\n                                scope._disableTooltips();\n\n                                return $('<table/>').addClass(\"dcpArray__dragLine \" + classTable).css(\"width\", lineWidth).css(\"margin-left\", \"-\" + (element.offset().left - dragLine.offset().left) + \"px\").append(dragLine.clone());\n                            },\n                            dragstart: function dcpArraydragstart(event) {\n                                if (event.currentTarget) {\n                                    var dragLine = $(event.currentTarget).closest('tr');\n                                    dragLine.css(\"opacity\", \"0\");\n                                    dragLine.data(\"fromLine\", dragLine.data(\"line\"));\n                                }\n                            },\n                            dragend: function dcpArraydragend(event) {\n                                if (event.currentTarget) {\n                                    var dragLine = $(event.currentTarget).closest('tr');\n                                    dragLine.css(\"opacity\", \"\");\n                                    scope._trigger(\"lineMoved\", {}, {\n                                        fromLine: dragLine.data(\"fromLine\"),\n                                        toLine: dragLine.data(\"line\")\n                                    });\n                                }\n\n                                scope._enableTooltips();\n                            }\n                        });\n\n                        this.element.find('tbody').kendoDropTargetArea({\n                            filter: '.dcpArray__content__line[data-attrid=\"' + this.options.id + '\"]',\n                            dragenter: function dragenter(event) {\n                                if (event.currentTarget) {\n                                    var drap = event.draggable.currentTarget.closest('tr');\n                                    var drop = event.dropTarget;\n                                    var drapLine = drap.data(\"line\");\n                                    var dropLine = drop.data(\"line\");\n                                    if (drapLine > dropLine) {\n                                        drap.insertBefore(drop);\n                                    } else {\n                                        drap.insertAfter(drop);\n                                    }\n                                    scope._indexLine();\n                                }\n                            }\n                        });\n                    }\n                    this.element.on(\"click\" + this.eventNamespace, \".button-close-error\", function destroyTable(/*event*/) {\n                        scope.element.find(\".dcpArray__content table.table\").tooltip(\"destroy\");\n                    });\n                }\n                _.delay(_.bind(this._initCSSResponsive, this), 10);\n                this.addAllLines(this.options.nbLines).then(resolve)[\"catch\"](reject);\n            }, this));\n\n        },\n        /**\n         * Init event for #action/ links\n         *\n         * @protected\n         */\n        _initActionClickEvent: function wAttributeInitActionClickEvent() {\n            var scopeWidget = this;\n\n            this.element.on(\"click.\" + this.eventNamespace, 'a[href^=\"#action/\"], a[data-action], button[data-action]', function wAttributeActionClick(event) {\n                var $this = $(this),\n                    action,\n                    options,\n                    eventOptions;\n\n                event.preventDefault();\n                if (event.stopPropagation) {\n                    event.stopPropagation();\n                }\n\n                action = $this.data('action') || $this.attr(\"href\");\n                options = action.substring(8).split(\":\");\n                eventOptions = {\n                    target: event.target,\n                    index: -1,\n                    eventId: options.shift(),\n                    options: options\n                };\n\n                scopeWidget._trigger(\"externalLinkSelected\", event, eventOptions);\n                return this;\n            });\n        },\n        _initCSSResponsive: function _initCSSResponsive() {\n            // I9 not support transposition table\n            var useTransposition = ($(\"html.k-ie9\").length === 0);\n\n            this.element.append(Mustache.render(this._getTemplate(\"responsive\") || \"\", _.extend(this.options, {useTransposition: useTransposition})));\n\n            if (useTransposition) {\n                this.element.find(\"table.dcpArray__table\").addClass(\"responsive\");\n                var cssString, cssTemplate,\n                    headers = _.map(this.element.find(\"table.responsive > thead th\"), function addResponsiveKey(currentElement, index) {\n                        var $currentElement = $(currentElement);\n                        var $label = $currentElement.find(\".dcpArray__head__label\");\n\n                        if ($label.length === 0) {\n                            $label = $currentElement;\n                        }\n                        $label.attr(\"data-responsiveKey\", \"rk\" + index);\n                        return {\n                            \"key\": $label.attr(\"data-responsiveKey\"),\n                            \"attrid\": $label.data(\"attrid\"),\n                            \"label\": $label.text().trim()\n                        };\n                    });\n\n                // Generate CSS string\n                cssString = \"<style>\" + this.options.renderOptions.arrayBreakPoints.transpositionRule + \" { \";\n\n                cssTemplate = _.template('.dcpArray__content[data-attrid=' + this.options.id + '] .dcpAttribute__content[data-responsiveKey=<%= key %>]:before { content: \"<%= label %>\"; }');\n\n                _.each(headers, function initCssHeader(currentHeader) {\n                    currentHeader.label = currentHeader.label.replace(/([\\\\\"])/g, \"\\\\$1\").replace(/\\n/g, \" \");\n                    cssString += cssTemplate(currentHeader);\n                });\n                cssString += \" }</style>\";\n\n                this.element.append(cssString);\n            }\n        },\n\n        _hideTooltips: function wArray__hideTooltips() {\n            var $element = this.element;\n            $element.find('[aria-describedby^=tooltip]').tooltip(\"hide\");\n            _.delay(function _hideTooltipsOneAgain() {\n                // Need redo cause animation delay of 500ms\n                $element.find('[aria-describedby^=tooltip]').tooltip(\"hide\");\n            }, 500);\n        },\n        _disableTooltips: function wArray__disableTooltips() {\n            this.element.find(\".dcpArray__content\").removeClass(\"dcpArray--tooltips\");\n        },\n        _enableTooltips: function wArray__enableTooltips() {\n            this.element.find(\".dcpArray__content\").addClass(\"dcpArray--tooltips\");\n        },\n\n        _bindEvents: function dcpArray_bindEvents() {\n            var currentWidget = this;\n            this.element.on(\"click\" + this.eventNamespace, \".dcpArray__content__toolCell__check input\", function selectLineEvent() {\n                var $this = $(this);\n                var isAlreadyChecked = $this.closest(\".dcpArray__content__line\").hasClass(\"dcpArray__content__line--selected\");\n                currentWidget._hideTooltips();\n                currentWidget._unSelectLines();\n                if (isAlreadyChecked) {\n                    currentWidget.element.find(\".dcpArray__copy\").prop(\"disabled\", true);\n                    $(this).prop(\"checked\", false).removeAttr(\"checked\");\n                } else {\n                    $this.find('.fa-check').show();\n                    $this.closest(\".dcpArray__content__line\").addClass(\"dcpArray__content__line--selected active\");\n                    currentWidget.element.find(\".dcpArray__copy\").prop(\"disabled\", false);\n                    $(this).prop(\"checked\", true).attr(\"checked\", \"checked\");\n                }\n            });\n            this.element.on(\"click\" + this.eventNamespace, \".dcpArray__add\", function addLineEvent() {\n                var selectedLine = currentWidget.getSelectedLineIndex();\n                currentWidget._hideTooltips();\n                if (currentWidget.options.renderOptions.rowMaxLimit < 0 || currentWidget.options.nbLines < currentWidget.options.renderOptions.rowMaxLimit) {\n                    if (selectedLine === null || _.isUndefined(selectedLine)) {\n                        currentWidget.options.nbLines += 1;\n                        currentWidget.addLine(currentWidget.options.nbLines - 1, {\n                            needAddValue: true,\n                            useSelectedLine: true\n                        });\n                    } else {\n                        currentWidget.options.nbLines += 1;\n                        currentWidget.addLine(selectedLine, {needAddValue: true, useSelectedLine: true});\n                    }\n                }\n            });\n            this.element.on(\"click\" + this.eventNamespace, \".dcpArray__copy\", function copyLineEvent() {\n                var selectedLine = currentWidget.getSelectedLineIndex();\n\n                currentWidget._hideTooltips();\n                if (currentWidget.options.renderOptions.rowMaxLimit < 0 || currentWidget.options.nbLines < currentWidget.options.renderOptions.rowMaxLimit) {\n                    currentWidget.options.nbLines += 1;\n                    currentWidget.copyLine(selectedLine, {needAddValue: true, useSelectedLine: true});\n                }\n\n            });\n            this.element.on(\"click\" + this.eventNamespace, \".dcpArray__content__toolCell__delete button\", function deleteLineEvent() {\n                currentWidget._hideTooltips();\n                currentWidget.removeLine($(this).closest(\".dcpArray__content__line\").data(\"line\"));\n                currentWidget.element.find(\".dcpArray__copy\").prop(\"disabled\", true);\n\n            });\n            this.element.on(\"click\" + this.eventNamespace, \".dcpArray--collapsable\", function toogleTable() {\n                currentWidget.toggleCollapse.apply(currentWidget);\n            });\n        },\n\n        toggleCollapse: function toggleCollapse(event, hideNow) {\n            this._hideTooltips();\n            var $contentElement = this.element.find(\".dcpArray__content\");\n            this.element.find(\".dcp__array__caret\").toggleClass(\"fa-caret-right fa-caret-down\");\n            $contentElement.toggleClass(\"dcpArray__content--open dcpArray__content--close\");\n            if (hideNow) {\n                $contentElement.hide();\n            } else {\n                $contentElement.slideToggle(200);\n            }\n        },\n\n        /**\n         * Redraw label with current count\n         */\n        redrawLabel: function wArrayRedrawLabel() {\n            this.element.find(\".dcpArray__label\").html(\n                $(Mustache.render(this._getTemplate(\"label\") || \"\", _.extend(this.options, {\n                    displayCount: (this.options.renderOptions.rowCountThreshold >= 0 && this.options.nbLines >= this.options.renderOptions.rowCountThreshold)\n                }))).html()\n            );\n        },\n        setLines: function wArraySetLines(lineNumber, options) {\n            return (new Promise(_.bind(function wArraySetLines_promise(resolve, reject) {\n                var linesPromise = [];\n                if (!this.initializing) {\n                    // No auto add lines when array is initializing itself\n                    var currentLineNumber = this.options.nbLines;\n                    var i;\n                    if (lineNumber > currentLineNumber) {\n                        for (i = 0; i < (lineNumber - currentLineNumber); i += 1) {\n                            linesPromise.push(this.addLine(currentLineNumber + i, options));\n                        }\n                        Promise.all(linesPromise).then(resolve)[\"catch\"](reject);\n                    } else if (lineNumber < currentLineNumber) {\n                        for (i = 0; i < (currentLineNumber - lineNumber); i += 1) {\n                            this.removeLine(this.options.nbLines - 1, options);\n                        }\n                        resolve();\n                    }\n                } else {\n                    resolve();\n                }\n            }, this)));\n        },\n\n        addAllLines: function dcpArrayaddAllLines(lineNumber) {\n            var i, min, allPromiseLines = [];\n            this.element.find(\".dcpArray__body\").empty();\n\n            for (i = 0; i < lineNumber; i += 1) {\n                this.addLine(i);\n            }\n\n            min = Math.max(this.options.renderOptions.rowMinLimit, this.options.renderOptions.rowMinDefault);\n            if (min > 0) {\n                if (this.options.nbLines < min) {\n                    for (i = this.options.nbLines; i < min; i += 1) {\n                        allPromiseLines.push(this.addLine(i, {needAddValue: true}));\n                    }\n                }\n            }\n            return Promise.all(allPromiseLines).then(_.bind(function allLineAdded() {\n                this._trigger(\"linesGenerated\");\n            }, this));\n        },\n\n        _getLineContent: function dcpArray_getLineContent(index) {\n            var $content = \"NULL LINE\";\n\n            this.options.lineCid = _.uniqueId(this.options.id);\n            if (this.options.customTemplate) {\n                $content = this.options.customLineCallback.apply(this, [index]);\n                $content.addClass(\"dcpArray__content__line\");\n                $content.attr(\"data-attrid\", this.options.id);\n            } else {\n                $content = $(Mustache.render(this._getTemplate(\"line\") || \"\", _.extend({lineNumber: index}, this.options)));\n            }\n            $content.find(\".dcpArray__content__toolCell\").closest('td').addClass(\"dcpArray__toolCell\");\n\n            if (this.options.renderOptions.rowDelDisable === true) {\n                $content.find(\".dcpArray__content__toolCell__delete\").hide();\n            }\n            if (this.options.renderOptions.rowMoveDisable === true) {\n                $content.find(\".dcpArray__content__toolCell__dragDrop\").hide();\n            }\n            _.each($content.find(\">td\"), function dcpArray_addCssClass(currentCell, index) {\n                $(currentCell).find(\".dcpArray__content__cell\").attr(\"data-responsiveKey\", \"rk\" + (index)).closest('td').addClass(\"dcpArray__cell\");\n            });\n            return $content;\n        },\n\n        _addNewLine: function dcpArray_addNewLine(lineNumber, options) {\n            if (!_.isNumber(lineNumber)) {\n                throw new Error(\"You need to indicate the line number\");\n            }\n\n            var $content = this._getLineContent(lineNumber);\n            var selectedLine = [];\n\n            if (options && options.useSelectedLine) {\n                selectedLine = this.getSelectedLineElement();\n            }\n\n            if (selectedLine.length === 1) {\n                $content.insertBefore(selectedLine);\n            } else {\n                this.element.find(\".dcpArray__body\").append($content);\n            }\n            this._indexLine();\n            this.redrawLabel();\n            this._activateRowLimits();\n\n            return $content;\n        },\n\n        /**\n         * Disable/Enable Add/copy button\n         */\n        _activateRowLimits: function wArray_activateRowLimits() {\n            var currentWidget = this;\n            if (this.options.renderOptions.rowMaxLimit >= 0) {\n                if (this.options.nbLines >= this.options.renderOptions.rowMaxLimit) {\n                    this.element.find(\".dcpArray__add, .dcpArray__copy\").prop(\"disabled\", true);\n                    this.element.find(\".dcpArray__button--add, .dcpArray__button--copy\").each(function dcpArray_initLine() {\n                        var $this = $(this);\n                        if (!$this.data(\"originalTitle\")) {\n                            $this.data(\"originalTitle\", $this.attr(\"title\"));\n                        }\n                        // reset tooltip\n                        $this.tooltip(\"hide\").data(\"bs.tooltip\", null);\n\n                        $this.attr(\"title\", Mustache.render(currentWidget.options.labels.limitMaxMessage || \"\",\n                            {limit: currentWidget.options.renderOptions.rowMaxLimit}\n                        ));\n                    });\n                } else {\n                    this.element.find(\".dcpArray__add, .dcpArray__copy\").prop(\"disabled\", false);\n                    this.element.find(\".dcpArray__button--add, .dcpArray__button--copy\").each(function dcpArray_initLine() {\n                        // reset tooltip\n                        $(this).tooltip(\"hide\").data(\"bs.tooltip\", null);\n                        $(this).attr(\"title\", $(this).data(\"originalTitle\"));\n                    });\n                }\n            }\n\n            if (this.options.renderOptions.rowMinLimit >= 0) {\n                if (this.options.nbLines <= this.options.renderOptions.rowMinLimit) {\n                    this.element.find(\".dcpArray__content__toolCell__delete button\").prop(\"disabled\", true);\n                    this.element.find(\".dcpArray__content__toolCell__delete\").each(function dcpArray_initLine() {\n                        if (!$(this).data(\"originalTitle\")) {\n                            $(this).data(\"originalTitle\", $(this).attr(\"title\"));\n                        }\n                        // reset tooltip\n                        $(this).tooltip(\"hide\").data(\"bs.tooltip\", null);\n\n                        $(this).attr(\"title\", Mustache.render(currentWidget.options.labels.limitMinMessage || \"\",\n                            {limit: currentWidget.options.renderOptions.rowMinLimit}\n                        ));\n                    });\n                } else {\n                    this.element.find(\".dcpArray__content__toolCell__delete button\").prop(\"disabled\", false);\n                    this.element.find(\".dcpArray__content__toolCell__delete\").each(function dcpArray_initLine() {\n                        // reset tooltip\n                        $(this).tooltip(\"hide\").data(\"bs.tooltip\", null);\n                        $(this).attr(\"title\", $(this).data(\"originalTitle\"));\n                    });\n                }\n            }\n        },\n\n        addLine: function dcpArrayaddLine(lineNumber, options) {\n            return (new Promise(_.bind(function dcpArrayaddLine_promise(resolve, reject) {\n                var $content = this._addNewLine(lineNumber, options);\n                if ($content) {\n                    options = _.defaults(options || {}, {\"silent\": false, \"needAddValue\": false});\n                    if (options.silent !== true) {\n                        this._trigger(\"lineAdded\", {}, {\n                            line: lineNumber,\n                            element: $content,\n                            needAddValue: options.needAddValue,\n                            resolve: resolve,\n                            reject: reject\n                        });\n                    }\n                }\n            }, this)));\n\n        },\n\n        copyLine: function dcpArraycopyLine(lineNumber, options) {\n            return (new Promise(_.bind(function dcpArrayaddLine_promise(resolve, reject) {\n                var $content = this._addNewLine(lineNumber, options);\n                if ($content) {\n                    this._trigger(\"lineAdded\", {}, {line: lineNumber, element: $content, copyValue: true});\n                }\n            }, this)));\n        },\n\n        removeLine: function dcpArrayremoveLine(line, options) {\n            options = options || {};\n            this.element.find(\"[data-line=\" + line + \"]\").remove();\n            this._indexLine();\n            if (options.silent !== true) {\n                this._trigger(\"lineRemoved\", {}, {line: line});\n            }\n            this.redrawLabel();\n            this._activateRowLimits();\n        },\n\n        _destroy: function dcpArray_destroy() {\n            var tbody = this.element.find('tbody');\n            if (tbody && tbody.data(\"kendoDropTargetArea\")) {\n                tbody.data(\"kendoDropTargetArea\").destroy();\n            }\n            if (tbody && tbody.data(\"kendoDraggable\")) {\n                tbody.data(\"kendoDraggable\").destroy();\n            }\n            this.element.empty();\n            this._super();\n        },\n\n        _indexLine: function dcpArray_indexLine() {\n            var i = 0;\n            this.element.find(\".dcpArray__content__line\").each(\n                function numeroteLine() {\n                    $(this).attr(\"data-line\", i).data(\"line\", i);\n                    i += 1;\n                }\n            );\n            this.options.nbLines = i;\n        },\n\n        _unSelectLines: function dcpArray_unSelectLines() {\n            this.element.find(\".dcpArray__content__toolCell__check .fa-check\").hide();\n            this.element.find(\".dcpArray__content__line--selected\").removeClass(\"dcpArray__content__line--selected active\");\n        },\n        /**\n         * Display tooltip an error message\n         *\n         * @param message string or array of [{message:, index:}, ...]\n         */\n        setError: function dcpArray_SetError(message) {\n            var scope = this;\n            var $target = this.element.find(\".dcpArray__content table.table\");\n            if (message) {\n                $target.tooltip({\n                    placement: \"top\",\n                    trigger: \"manual\",\n                    animation: false,\n                    html: true,\n                    title: function dcpArray_computeTitleError()\n                    {\n                        var rawMessage = $('<div/>').text(message).html();\n                        return '<div>' + '<span title=\"' + scope.options.labels.closeErrorMessage + '\" class=\"btn fa fa-times button-close-error\"> XY &nbsp;</span>' + scope.options.id +  rawMessage + '</div>';\n                    }\n\n                }).one(\"shown.bs.tooltip\", function wErrorTooltip () {\n                    var tipElement = $(this).data(\"bs.tooltip\").tip;\n                    if (tipElement) {\n                        $(tipElement).addClass(\"has-error\");\n                    }\n                }).tooltip(\"show\").addClass(\"dcpArray--error\");\n            } else {\n                $target.tooltip(\"hide\").removeClass(\"dcpArray--error\");\n\n            }\n        },\n        /**\n         * Get the template of the current attribute\n         *\n         * The template can be in the options or in a global var of dcp namespace (initiated by require for widget)\n         *\n         * @param key\n         * @returns string\n         * @private\n         */\n        _getTemplate: function dcpArray_getTemplate(key) {\n            if (this.options.templates && this.options.templates[key]) {\n                return this.options.templates[key];\n            }\n            if (window.dcp && window.dcp.templates && window.dcp.templates[this.getType()] && window.dcp.templates[this.getType()][key]) {\n                return window.dcp.templates[this.getType()][key];\n            }\n            if (window.dcp && window.dcp.templates && window.dcp.templates[\"default\"] && window.dcp.templates[\"default\"][key]) {\n                return window.dcp.templates[\"default\"][key];\n            }\n            throw new Error(\"Unknown template  \" + key + \"/\" + this.options.type);\n\n        },\n\n        getType: function dcpArray_getType() {\n            return \"array\";\n        }\n\n    });\n\n    return $.fn.dcpArray;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/array/wArray.js","define([\n    'jquery',\n    'underscore',\n    'mustache',\n    'dcpDocument/widgets/window/wWindow'\n], function wConfirm($, _, Mustache) {\n    'use strict';\n\n    $.widget(\"dcp.dcpConfirm\", $.dcp.dcpWindow, {\n\n        options: {\n            modal: true,\n            templateData: {\n                templates: {\n                    window: {\n                        confirm:'<div class=\"confirm--body\"> <div class=\"confirm--content\">  <div>{{messages.textMessage}}</div><div>{{{messages.htmlMessage}}}</div> </div> <div class=\"confirm--buttons\"> <button class=\"button--cancel\" type=\"button\">{{messages.cancelMessage}}</button> <button class=\"button--ok k-primary\" type=\"button\">{{messages.okMessage}}</button> </div> </div>'\n                    }\n                }\n            },\n            messages: {\n                textMessage: 'Are you sure ?',\n                htmlMessage: '',\n                okMessage: \"Ok\",\n                cancelMessage: \"Cancel\"\n            },\n            cancel: function wConfirmCancel() {\n            },\n\n            confirm: function wConfirmConfirm() {\n\n            },\n            actions: [\n                \"Close\"\n            ],\n            height: \"150px\"\n\n        },\n\n        _create: function wConfirmCreate() {\n            var scope = this;\n            var scoppedCancel = _.bind(this.options.cancel, this);\n            this.options.close = scoppedCancel;\n            this.options.templateData.messages = this.options.messages || [];\n            this.currentWidget = $(Mustache.render(this._getWindowTemplate('confirm') || \"\", this.options.templateData));\n            this.element.append(this.currentWidget);\n            this.currentWidget.kendoWindow(this.options);\n            this.currentWidget.data(\"kendoWindow\").center();\n\n            this.currentWidget.find('.button--cancel').kendoButton({\n                click: function wConfirmCancelClick() {\n                    scoppedCancel();\n                    scope.destroy();\n                }\n            });\n\n            var scoppedConfirm = _.bind(this.options.confirm, this);\n\n            this.currentWidget.find('.button--ok').kendoButton({\n                click: function wConfirmOkClick() {\n                    scoppedConfirm();\n                    scope.destroy();\n                }\n            });\n\n            this.element.data(\"dcpWindow\", this);\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/window/wConfirm.js","/*global define*/\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'dcpDocument/widgets/attributes/text/wText'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._);\n    }\n}(window,  function requireDcpLongText($, _) {\n    'use strict';\n\n    $.widget(\"dcp.dcpLongtext\", $.dcp.dcpText, {\n\n        options: {\n            type: \"longtext\",\n            renderOptions: {\n                displayedLineNumber: 5\n            }\n        },\n\n        _initDom: function dcpLongtext_initDom() {\n            var maxDisplayedLine = this.options.renderOptions.displayedLineNumber;\n\n            this._super();\n            this._maxLinesNumber(maxDisplayedLine);\n\n        },\n\n        _initEvent: function dcpLongtext_initEvent() {\n            if (this.getMode() === \"write\") {\n                this._initAutoFit();\n            }\n            this._super();\n        },\n\n        _maxLinesNumber: function dcpLongtext_maxLinesNumber(lineNumber) {\n            lineNumber = parseInt(lineNumber, 10);\n            if (lineNumber > 0) {\n                var scope = this;\n                _.defer(function dcpLongtext_deferComputeSize() {\n                    var $element = scope.getContentElements();\n                    var delta = parseFloat($element.css(\"padding-top\")) + parseFloat($element.css(\"padding-bottom\"));\n                    var lineH = $element.css(\"line-height\");\n                    // In IE9 , the result is just a number without unit\n                    if (lineH) {\n                        if (lineH.indexOf(\"px\") > 0) {\n                            $element.css(\"max-height\", (lineNumber * parseFloat(lineH) + delta) + \"px\");\n                        } else {\n                            $element.css(\"max-height\", (lineNumber * 1.1) + \"em\");\n                        }\n                    }\n                });\n            }\n        },\n        /**\n         * Define inputs for focus\n         * @protected\n         */\n        _getFocusInput: function dcpLongtext_getFocusInput() {\n            return this.element.find('textarea[name=\"' + this.options.id + '\"]');\n        },\n\n        _fitToContent: function dcpLongtext_fitToContent($element) {\n\n            var delta = parseFloat($element.css(\"padding-top\")) + parseFloat($element.css(\"padding-bottom\")),\n                element = $element.get(0),\n                maxHeight = parseFloat($element.css(\"max-height\"));\n            if (element && element.scrollHeight > element.clientHeight) {\n\n                $element.height(element.scrollHeight  - delta +1);\n                if (maxHeight > 0) {\n                    if (element.scrollHeight > maxHeight) {\n                        $element.css(\"resize\", \"none\");\n                    } else {\n                        $element.css(\"resize\", \"\");\n                    }\n                }\n            }\n        },\n\n        _initAutoFit: function dcpLongtext_initAutoFit() {\n            var scope = this;\n            _.defer(function dcpLongtext_computeSize() {\n                scope._fitToContent(scope.getContentElements());\n            });\n            this.getContentElements()\n                .on(\"keyup\" + this.eventNamespace, function dcpLongtext_keyUpUpdateSize(event) {\n                    scope._fitToContent($(this));\n                })\n                .on(\"focus\" + this.eventNamespace, function dcpLongtext_focusUpdateSize(event) {\n                    scope._fitToContent($(this));\n                });\n\n            this.element.on(\"show\" + this.eventNamespace, function dcpLongtext_showUpdateSize(event) {\n                    scope._fitToContent(scope.getContentElements());\n                });\n        },\n\n        getType: function dcpLongtext_getType() {\n            return \"longtext\";\n        }\n\n    });\n\n    return $.fn.dcpLongtext;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/longtext/wLongtext.js","/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'mustache',\n    'dcpDocument/views/document/attributeTemplate'\n], function vTabLabel($, _, Backbone, Mustache, attributeTemplate)\n{\n    'use strict';\n\n    return Backbone.View.extend({\n\n        tagName: \"li\",\n\n        className: \"dcpTab__label dcpLabel\",\n\n        events:\n        {\n            'click a[href^=\"#action/\"], a[data-action], button[data-action]': 'externalLinkSelected'\n        },\n\n        displayLabel: true,\n\n        initialize: function vTabLabel_initialize(options)\n        {\n            if (options.displayLabel === false || this.model.getOption(\"labelPosition\") === \"none\") {\n                this.displayLabel = false;\n            }\n            this.listenTo(this.model, 'change:label', this.updateLabel);\n            this.listenTo(this.model.get(\"content\"), 'add', this.render);\n            this.listenTo(this.model.get(\"content\"), 'remove', this.render);\n            this.listenTo(this.model.get(\"content\"), 'reset', this.render);\n            this.listenTo(this.model, 'errorMessage', this.setError);\n            this.listenTo(this.model, 'change:errorMessage', this.setError);\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'cleanView', this.remove);\n            this.listenTo(this.model, 'hide', this.hide);\n            this.listenTo(this.model, 'show', this.show);\n        },\n\n        render: function vTabLabel_render()\n        {\n            var label = this.model.get(\"label\");\n            var tooltipLabel = this.model.getOption(\"tooltipLabel\");\n            var attrData = this.model.attributes;\n            var helpId = this.model.getOption(\"helpLinkIdentifier\");\n            var documentModel = this.model.getDocumentModel();\n\n            this.$el.empty();\n            if (this.displayLabel !== false) {\n                if (this.model.getOption(\"attributeLabel\")) {\n                    label = this.model.getOption(\"attributeLabel\");\n                }\n\n                if (helpId) {\n                    this.$el.append(Mustache.render('<span class=\"dcpLabel__text\">{{label}} <a class=\"dcpLabel__help__link\" href=\"#action/document.help:{{helpId}}:{{attrid}}\"><span class=\"fa fa-question-circle\"></span></a></span>', {\n                        helpId: helpId,\n                        attrid: this.model.id,\n                        label: label\n                    }));\n                } else {\n                    this.$el.html($('<span class=\"dcpLabel__text\" />').text(label));\n                }\n\n                attributeTemplate.insertDescription(this);\n                if (tooltipLabel) {\n                    tooltipLabel = Mustache.render(tooltipLabel || \"\", attrData);\n                    if (!this.model.getOption(\"tooltipHtml\")) {\n                        // Need encode itself because the dropselect tooltip also need\n                        tooltipLabel = $('<div/>').text(tooltipLabel).html();\n                    }\n                    this.$el.data(\"tooltipLabel\", Mustache.render(tooltipLabel || \"\", attrData));\n                    this.$el.tooltip({\n                        placement: \"top\",\n                        container: \".dcpDocument\",\n                        html: true,\n                        title: function vDocumentTooltipTitle()\n                        {\n                            if ($(this).find(\".k-input.dcpTab__label__select\").length > 0) {\n                                // It is a selected Tab\n                                return $(this).data(\"tooltipLabelSelect\");\n                            }\n                            return $(this).data(\"tooltipLabel\"); // set the element text as content of the tooltip\n                        }\n                    });\n                }\n            }\n\n            this.$el.attr(\"data-attrid\", this.model.id);\n\n            return this;\n        },\n\n        setError: function vTabLabel_setError(event, data)\n        {\n            if (data) {\n                this.$el.addClass(\"has-error\");\n            } else {\n                this.$el.removeClass(\"has-error\");\n            }\n        },\n\n        updateLabel: function vTabLabel_updateLabel()\n        {\n            this.$el.text(this.model.get(\"label\"));\n        },\n\n        hide: function vTabLabel_hide()\n        {\n            this.$el.hide();\n        },\n\n        show: function vTabLabel_show()\n        {\n            this.$el.show();\n        },\n\n        externalLinkSelected: function vAttributeExternalLinkSelected(event)\n        {\n            var $target = $(event.currentTarget),\n                action,\n                options,\n                eventOptions,\n                documentModel,\n                internalEvent = {\n                    prevent: false\n                };\n\n            event.preventDefault();\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n\n            action = $target.data('action') || $target.attr(\"href\");\n            options = action.substring(8).split(\":\");\n            eventOptions = {\n                target: event.target,\n                index: scopeWidget._getIndex(),\n                eventId: options.shift(),\n                options: options\n            };\n            documentModel = this.model.getDocumentModel();\n\n            this.model.trigger(\"internalLinkSelected\", internalEvent, eventOptions);\n            if (event.prevent) {\n                return this;\n            }\n\n            documentModel.trigger(\"actionAttributeLink\", internalEvent, options);\n\n            return this;\n        }\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/attributes/tab/vTabLabel.js","define([\n    \"underscore\",\n    \"dcpDocument/models/mAttribute\",\n    'dcpDocument/collections/contentAttributes'\n], function (_, AttributeModel, CollectionContentAttributes) {\n    'use strict';\n\n    return AttributeModel.extend({\n        typeModel:\"ddui:structureAttribute\",\n        defaults : {\n            content :      []\n        },\n\n        setContentCollection : function mAttributesetContentCollection(attributes) {\n            var collection = new CollectionContentAttributes();\n            _.each(attributes, function (currentChild) {\n                collection.push(currentChild);\n            });\n            this.set(\"content\", collection);\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mAttributeStructural.js","(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'dcpDocument/widgets/attributes/date/wDate'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._);\n    }\n}(window,  function ($, _) {\n    'use strict';\n\n    $.widget(\"dcp.dcpTime\", $.dcp.dcpDate, {\n\n        options: {\n            type: \"time\",\n            renderOptions: {\n                kendoTimeConfiguration: {\n                    timeDataFormat: [\"HH:mm\", \"HH:mm:ss\"]\n                }\n            }\n        },\n\n        kendoWidgetClass: \"kendoTimePicker\",\n\n        _initDom: function wTimeInitDom() {\n            if (this.options.renderOptions.kendoTimeConfiguration.format) {\n                this.options.attributeValue.displayValue = this.formatDate(this.parseDate(this.options.attributeValue.value));\n            }\n            this._super();\n        },\n\n        _activateDate: function wTimeActivateDate(inputValue) {\n            var scope = this;\n            var kOptions = this.getKendoOptions();\n\n            kOptions.change = function () {\n                // only valid date are setted\n                // wrong date are set by blur event\n                var isoDate = scope.convertDateToPseudoIsoString(this.value());\n                // Need to set by widget to use raw date\n\n                scope.setValue({value: isoDate, displayValue: inputValue.val()});\n            };\n            inputValue.kendoTimePicker(kOptions);\n            this._controlDate(inputValue);\n            if (this.options.attributeValue && this.options.attributeValue.value) {\n                this.setValue(this.options.attributeValue);\n            }\n        },\n\n        setValue: function wTimeSetValue(value) {\n            var originalValue;\n\n            value = _.clone(value);\n\n\n            if (_.has(value, \"value\") && !_.has(value, \"displayValue\")) {\n                value.displayValue = this.formatDate(this.parseDate(value.value));\n            }\n\n            $.dcp.dcpAttribute.prototype.setValue.call(this, value);\n\n            if (this.getMode() === \"write\") {\n                originalValue = this.convertDateToPseudoIsoString(this.kendoWidget.data(this.kendoWidgetClass).value());\n                // : explicit lazy equal\n                //noinspection JSHint\n                if (originalValue != value.value) {\n                    if (value.value) {\n                        this.kendoWidget.data(this.kendoWidgetClass).value(value.value);\n                    } else {\n                        this.getContentElements().val('');\n                    }\n                    // Modify value only if different\n                    this.flashElement();\n                }\n            } else if (this.getMode() === \"read\") {\n                this.getContentElements().text(value.displayValue);\n            } else {\n                throw new Error(\"Attribute \" + this.options.id + \" unkown mode \" + this.getMode());\n            }\n        },\n\n        getValue: function wTimeGetValue() {\n            var value = this._super();\n            if (value.value && _.isDate(value.value)) {\n                value.value = this.convertDateToPseudoIsoString(value.value);\n            }\n            return value;\n        },\n\n        convertDateToPseudoIsoString: function wTimeConvertDateToPseudoIsoString(date) {\n            if (_.isDate(date)) {\n                return this.padNumber(date.getHours()) + ':' +\n                this.padNumber(date.getMinutes());\n            }\n            return '';\n        },\n\n        formatDate: function wTimeFormatDate(value) {\n            if (this.options.renderOptions.kendoTimeConfiguration.format) {\n                return kendo.toString(value, this.options.renderOptions.kendoTimeConfiguration.format);\n            }\n            return kendo.toString(value, \"T\");\n        },\n\n        parseDate: function wTimeParseDate(value) {\n            return kendo.parseDate(value, this.options.renderOptions.kendoTimeConfiguration.timeDataFormat);\n        },\n\n\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoNumeric\n         * @returns {*}\n         */\n        getKendoOptions: function wTimegetKendoOptions() {\n            var scope = this,\n                kendoOptions = {},\n                defaultOptions = {\n                    min: this.options.minDate\n                };\n\n            if (_.isObject(scope.options.renderOptions.kendoTimeConfiguration)) {\n                kendoOptions = scope.options.renderOptions.kendoTimeConfiguration;\n            }\n\n            return _.extend(defaultOptions, kendoOptions);\n        },\n\n        getType: function () {\n            return \"time\";\n        }\n\n    });\n\n    return $.fn.dcpTime;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/time/wTime.js","define([\n    'jquery',\n    'underscore',\n    'dcpDocument/widgets/widget'\n], function ($, _)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpLoading\", {\n        pc: 0,\n        rest: 0,\n        restItem: 0,\n        currentWidget: null,\n        doneItems: 0,\n        original: null,\n\n\n        _create: function dcpLoading_create()\n        {\n            this.stack = 0;\n            this.initBar = this.element.find(\".progress\");\n            this.$title = this.element.find(\".dcpLoading--title\");\n            this.$header = this.element.find(\".dcpLoading--header\");\n\n        },\n\n        reset: function dcpLoadingReset()\n        {\n            this.initBar.show();\n        },\n\n        setTitle: function dcpLoadingsetTitle(val)\n        {\n            this.element.find('.dcpLoading--title').html(val);\n        },\n\n        isDisplayed : function dcpLoadingIsDisplayed() {\n            return this.stack > 0;\n        },\n\n        hide: function dcpLoadinghide(force)\n        {\n            this.stack -= 1;\n            if (!force && this.stack > 0) {\n                return this;\n            }\n            this.stack = 0;\n            this.element.hide();\n            this.element.removeClass(\"dcpLoading--hide\");\n            this.setPercent(0);\n        },\n\n        show: function dcpLoadingshow(text, pc)\n        {\n            this.stack += 1;\n            if (text) {\n                this.setLabel(text);\n            }\n            if (pc) {\n                this.setPercent(pc);\n            }\n            this.element.show();\n            this.$header.show().removeClass(\"dcpLoading--hide\");\n        },\n\n        setLabel: function dcpLoadingsetLabel(text)\n        {\n            if (text) {\n                this.$title.text(text);\n            } else {\n                this.$header.addClass(\"dcpLoading--hide\");\n            }\n        },\n\n        setPercent: function dcpLoadingsetPercent(pc)\n        {\n            var $initbar = this.initBar.find(\".progress-bar\");\n            var rpc = Math.round(pc);\n            this.pc = pc;\n            if (window && window.requestAnimationFrame) {\n                window.requestAnimationFrame(function ()\n                {\n                    $initbar.css(\"width\", rpc + '%');\n                });\n            }\n        },\n\n        setNbItem: function dcpLoadingSetNbItem(restItem)\n        {\n            this.rest = 100 - this.pc;\n            this.restItem = restItem;\n        },\n\n        addItem: function dcpLoadingAddItem(number)\n        {\n            number = number || 1;\n            number = parseInt(number, 10);\n            this.doneItems += number;\n            var pv = (this.rest / this.restItem) * number;\n            this.setPercent(this.pc + pv);\n        },\n\n        _destroy: function dcpLoading_destroy()\n        {\n            this._trigger(\"destroy\");\n            this._super();\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/window/wLoading.js","/*global define*/\ndefine(function attributeTemplate(require/*, exports, module*/)\n    {\n        'use strict';\n        var _ = require('underscore');\n        var $ = require('jquery');\n        var Mustache = require('mustache');\n\n        return {\n\n            customLineTemplate: '',\n\n            /**\n             * Get some data to complete custom attribute template\n             * @param documentModel document model\n             * @returns {{properties: *, attributes: {}}}\n             * @public\n             */\n            getTemplateModelInfo: function attributeTemplateGetTemplateModelInfo(documentModel)\n            {\n                var documentData = documentModel.getDocumentData();\n                var templateInfo = {\n                    properties: documentData.properties,\n                    attributes: {}\n                };\n                var currentTemplate = this;\n\n                templateInfo.properties.isWriteMode = (templateInfo.properties.renderMode === \"edit\");\n                templateInfo.properties.isReadMode = (templateInfo.properties.renderMode === \"view\");\n\n                _.each(documentData.attributeValues, function associateValue(attributeValue, attributeId)\n                {\n                    templateInfo.attributes[attributeId] = {attributeValue: attributeValue};\n                });\n                _.each(documentData.attributeLabels, function attributeTemplategetTemplateModelInfoEach(attributeLabel, attributeId)\n                {\n                    var currentAttributeModel = documentModel.get('attributes').get(attributeId);\n                    if (currentAttributeModel.getOption(\"attributeLabel\")) {\n                        attributeLabel = currentAttributeModel.getOption(\"attributeLabel\");\n                    }\n\n                    if (templateInfo.attributes[attributeId]) {\n                        templateInfo.attributes[attributeId].label = attributeLabel;\n                    } else {\n                        templateInfo.attributes[attributeId] = {label: attributeLabel};\n                    }\n\n                    templateInfo.attributes[attributeId].id = attributeId;\n                    templateInfo.attributes[attributeId].isEmpty = currentTemplate._isEmptyAttribute(currentAttributeModel);\n\n                    templateInfo.attributes[attributeId].htmlContent = _.bind(currentTemplate.getCustomTemplate, currentTemplate, currentAttributeModel, false, false);\n                    templateInfo.attributes[attributeId].htmlView = _.bind(currentTemplate.getCustomTemplate, currentTemplate, currentAttributeModel, true, false);\n                    templateInfo.attributes[attributeId].htmlDefaultContent = _.bind(currentTemplate.getCustomTemplate, currentTemplate, currentAttributeModel, false, true);\n                    templateInfo.attributes[attributeId].htmlDefaultView = _.bind(currentTemplate.getCustomTemplate, currentTemplate, currentAttributeModel, true, true);\n                    templateInfo.attributes[attributeId].isReadMode = (currentAttributeModel.get(\"mode\") === \"read\");\n                    templateInfo.attributes[attributeId].isWriteMode = (currentAttributeModel.get(\"mode\") === \"write\");\n                    templateInfo.attributes[attributeId].renderOptions =  currentAttributeModel.getOptions();\n                    if (currentAttributeModel.get(\"type\") === \"array\") {\n                        templateInfo.attributes[attributeId].toolsEnabled = templateInfo.attributes[attributeId].isWriteMode &&\n                            (currentAttributeModel.get(\"visibility\") !== \"U\") &&\n                            (currentAttributeModel.getOption(\"rowAddDisable\") !== true ||\n                            currentAttributeModel.getOption(\"rowDelDisable\") !== true ||\n                            currentAttributeModel.getOption(\"rowMoveDisable\") !== true);\n                        templateInfo.attributes[attributeId].rows = _.bind(currentTemplate.getArrayRowInfo, currentTemplate, currentAttributeModel);\n                        templateInfo.attributes[attributeId].tableTools = _.bind(currentTemplate.getArrayTools, currentTemplate, currentAttributeModel);\n                    }\n                });\n                return templateInfo;\n            },\n\n            _isEmptyAttribute: function attributeTemplate_isEmptyAttribute(attributeModel)\n            {\n                var currentTemplate = this;\n                if (attributeModel.get(\"isValueAttribute\")) {\n                    var attrValue = attributeModel.get(\"attributeValue\");\n                    return _.isEmpty(attrValue) || ( attrValue.value === \"\" || attrValue.value === null);\n                }\n                if ((!attributeModel.get(\"content\")) || attributeModel.get(\"content\").length === 0) {\n                    return true;\n                }\n                if (attributeModel.get(\"content\").some) {\n                    return !attributeModel.get(\"content\").some(function attributeTemplate_isEmptyAttribute_checkEmpty(value)\n                    {\n                        return !currentTemplate._isEmptyAttribute(value);\n                    });\n                }\n            },\n\n            /**\n             * Get some data to complete custom attribute template\n             * @returns {{properties: *, attributes: {}}}\n             * @private\n             */\n            getTemplateInfo: function attributeTemplateGetTemplateInfo(attributeModel)\n            {\n                var templateInfo = this.getTemplateModelInfo(attributeModel.getDocumentModel());\n                var attributeId = attributeModel.id;\n                var extraKeys = attributeModel.getOption(\"templateKeys\");\n\n                templateInfo.attribute = templateInfo.attributes[attributeId];\n                if (extraKeys) {\n                    var copyextraKeys = _.clone(extraKeys);\n                    if (copyextraKeys.attribute && copyextraKeys.attribute.rows) {\n                        copyextraKeys.attribute = _.clone(extraKeys.attribute);\n                        delete copyextraKeys.attribute.rows;\n                    }\n                    templateInfo = this._deepExtend(templateInfo, copyextraKeys);\n                }\n                return templateInfo;\n            },\n\n            /**\n             * Recursively extend data\n             *\n             * @param target\n             * @param source\n             * @returns {*}\n             */\n            _deepExtend: function attributeTemplate_deepExtend(target, source)\n            {\n                for (var prop in source) {\n                    if (source.hasOwnProperty(prop)) {\n                        if (prop in target) {\n                            this._deepExtend(target[prop], source[prop]);\n                        } else {\n                            target[prop] = source[prop];\n                        }\n                    }\n                }\n                return target;\n            },\n\n            /**\n             * Construct custom view based on template options\n             *\n             * @param attrModel Attribute model\n             * @param callBackView Callback to call after\n             * @returns {*|HTMLElement}\n             * @param config\n             */\n            renderCustomView: function attributeTemplateCustomView(attrModel, callBackView, config)\n            {\n                var customTemplate = '<div class=\"dcpCustomTemplate\" data-attrid=\"' + attrModel.id + '\">' +\n                    attrModel.getOption(\"template\") + '</div>';\n                var templateInfo = this.getTemplateInfo(attrModel);\n                var $render;\n                var completePromise;\n\n                if (config && !_.isUndefined(config.index) && config.index >= 0) {\n                    templateInfo.attribute.attributeValue = templateInfo.attribute.attributeValue[config.index];\n                }\n                $render = $(Mustache.render(customTemplate || \"\", templateInfo));\n                completePromise = this.completeCustomContent($render, attrModel.getDocumentModel(), callBackView, config);\n                return {\"$el\" : $render, \"promise\": completePromise} ;\n            },\n\n            /**\n             *\n             * Render the custom element of the template\n             *\n             * @param $el\n             * @param documentModel\n             * @param callBackView\n             * @param config\n             */\n            completeCustomContent: function attributeTemplateCompleteCustomContent($el, documentModel, callBackView, config)\n            {\n                var renderElementPromises = [];\n                $el.find(\".dcpCustomTemplate--content\").each(function attributeTemplatecompleteCustomContentEach()\n                {\n                    var attrId = $(this).data(\"attrid\"),\n                        displayLabel = ($(this).data(\"displaylabel\") === true),\n                        currentAttributeModel = documentModel.get('attributes').get(attrId),\n                        attrContent = \"NO VIEW FOR \" + attrId,\n                        view = '',\n                        BackView = null,\n                        // guess if the template is the true version (without template, only the widget)\n                        originalView = ($(this).data(\"originalview\") === true);\n\n                    if (currentAttributeModel) {\n\n                        if (_.isFunction(callBackView)) {\n                            // When called from vColumn to render widget in a cell\n                            callBackView.apply($(this));\n                            attrContent = '';\n                        } else {\n                            try {\n                                switch (currentAttributeModel.get(\"type\")) {\n                                    case \"array\":\n                                        BackView = require(\"dcpDocument/views/attributes/array/vArray\") ;\n                                        break;\n                                    case \"tab\":\n                                        BackView = require('dcpDocument/views/attributes/tab/vTabContent');\n                                        break;\n                                    case \"frame\":\n                                        BackView = require('dcpDocument/views/attributes/frame/vFrame');\n                                        break;\n                                    default:\n                                        BackView = require('dcpDocument/views/attributes/vAttribute');\n                                }\n\n                                //If the attribute has no template, so it's the view with the widget, we annotate it to bind the events\n                                if (!currentAttributeModel.getOption(\"template\")) {\n                                    originalView = true;\n                                }\n\n                                if (originalView === false && currentAttributeModel.customViewRended === true) {\n                                    throw new Error(\"Cannot use \\\"htmlView\\\" / \\\"htmlContent\\\" for itself on own custom view for \" + currentAttributeModel.id+ \". Use \\\"htmlDefaultView\\\" / \\\"htmlDefaultContent\\\" instead\");\n                                }\n                                if (originalView === false) {\n                                    currentAttributeModel.customViewRended = true;\n                                }\n\n                                view = new BackView({\n                                    model: currentAttributeModel,\n                                    originalView: originalView,\n                                    initializeContent: (config && config.initializeContent) || false,\n                                    displayLabel: displayLabel\n                                });\n                                renderElementPromises.push(view.render());\n                                attrContent = view.$el;\n                            } catch (e) {\n                                attrContent= $(\"<div/>\").addClass(\"bg-danger\").text(e.message);\n                            }\n                        }\n                    }\n                    $(this).append(attrContent);\n                });\n                return Promise.all(renderElementPromises);\n            },\n\n            /**\n             * Information used when add new line\n             * @param attributeModel\n             * @param index line index\n             * @private\n             * @returns {{properties: *, attributes: {}}}\n             */\n            getLineInfo: function attributeTemplategetLineInfo(attributeModel, index)\n            {\n                var documentData = attributeModel.getDocumentModel().getDocumentData();\n                var templateInfo = this.getTemplateInfo(attributeModel);\n                var extraKeys = attributeModel.getOption(\"templateKeys\");\n\n                _.each(documentData.attributeLabels, function attributeTemplate_eachLabel(attributeLabel, attributeId)\n                {\n                    var currentAttributeModel = attributeModel.getDocumentModel().get('attributes').get(attributeId);\n                    // Reset some special keys which are not allowed here\n                    if (currentAttributeModel.get(\"type\") === \"array\") {\n                        templateInfo.attributes[attributeId].rows = [];\n                        templateInfo.attributes[attributeId].tableTools = 'NO TABLE TOOL ALLOWED HERE';\n                    }\n                });\n\n                templateInfo.rowTools = this.getRowTool(attributeModel);\n                templateInfo.content = {};\n                attributeModel.get(\"content\").each(function attributeTemplate_eachContent(currentAttribute)\n                {\n                    var attributeId = currentAttribute.id;\n                    var attributeLabel = currentAttribute.get('label');\n\n                    if (!currentAttribute.isDisplayable()) {\n                        return;\n                    }\n\n                    if (currentAttribute.getOption(\"attributeLabel\")) {\n                        attributeLabel = currentAttribute.getOption(\"attributeLabel\");\n                    }\n                    templateInfo.content[attributeId] = {};\n                    templateInfo.content[attributeId].attributeValue = {\n                        value: null, // No value for the moment. Value will be set by array view with default values\n                        displayValue: \"\"\n                    };\n                    templateInfo.content[attributeId].label = attributeLabel;\n                    templateInfo.content[attributeId].htmlContent = '<div class=\"dcpCustomTemplate--row dcpArray__content__cell dcpAttribute__content\" data-displaylabel=\"false\" data-attrid=\"' + attributeId + '\"/>';\n\n                });\n\n                if (extraKeys && extraKeys.attribute && extraKeys.attribute.rows) {\n                    _.each(extraKeys.attribute.rows, function attributeTemplategetLineInfoEach(extraValues, extraKey)\n                    {\n                        templateInfo[extraKey] = extraValues[index];\n                    });\n                }\n\n                return templateInfo;\n            },\n\n            /**\n             * Extract rows template line to customLineTemplate\n             * @param attrModel\n             * @private\n             * @returns {{attribute: {rows: Function}}}\n             */\n            extractRow: function attributeTemplateExtractRow(attrModel)\n            {\n                var scope = this;\n                var info;\n\n                info = {\n                    attribute: {\n                        rows: function attributeTemplateExtractRowContent()\n                        {\n                            return function attributeTemplate_getRowContent(text)\n                            {\n                                scope.customLineTemplate = text.trim();\n                            };\n                        }\n                    }\n                };\n                info.attributes = {};\n                info.attributes[attrModel.id] = info.attributes;\n                return info;\n            },\n\n            /**\n             * Construct custom line (declared in vArray::render and used in wArray::_getLineContent)\n             * @param index\n             * @param attrModel\n             * @returns {*|HTMLElement}\n             */\n            customArrayRowView: function attributeTemplateCustomArrayRowView(index, attrModel)\n            {\n\n                var $render;\n\n                // Extract line to customLineTemplate variable\n                Mustache.render(attrModel.getOption(\"template\") || \"\", this.extractRow(attrModel));\n                $render = $(Mustache.render(\n                    this.customLineTemplate || \"\",\n                    this.getLineInfo(attrModel, index)));\n\n                return $render;\n            },\n\n            /**\n             * Get element where custom template will be inserted (htmlContent and htmlView)\n             * @param attributeModel\n             * @param displayLabel\n             * @param originalView\n             * @private\n             * @returns {string}\n             */\n            getCustomTemplate: function attributeTemplategetCustomTemplate(attributeModel, displayLabel, originalView)\n            {\n                return '<div class=\"dcpCustomTemplate--content '+(displayLabel ? \"dcpCustomTemplate--content--view\" : \"dcpCustomTemplate--content--value\")+\n                    '\" data-displaylabel=\"' + (displayLabel ? \"true\" : \"false\") +\n                    '\" data-originalview=\"' + (originalView ? \"true\" : \"false\") +\n                    '\" data-attrid=\"' + attributeModel.id + '\"/>';\n            },\n\n            /**\n             * Extract dcpArray__tools from content array template\n             * @param attributeModel\n             * @private\n             * @returns {*}\n             */\n            getArrayTools: function attributeTemplateGetArrayTools(attributeModel)\n            {\n                var tpls = attributeModel.getTemplates().attribute[attributeModel.get(\"type\")];\n                if (tpls && tpls.content) {\n                    return $(Mustache.render(tpls.content || \"\", {tools: true})).find(\".dcpArray__tools\").get(0).outerHTML;\n\n                }\n                return 'no tools';\n            },\n\n            /**\n             * Extract dcpArray__content__toolCell from line array template\n             * @param attributeModel\n             * @private\n             * @returns {*}\n             */\n            getRowTool: function attributeTemplateGetRowTool(attributeModel)\n            {\n                var templates = attributeModel.getTemplates().attribute[attributeModel.get(\"type\")];\n                var tool = '';\n                if (templates && templates.line) {\n                    tool = $(Mustache.render(templates.line || \"\",\n                        {\n                            tools: true,\n                            lineCid:_.uniqueId(attributeModel.id)\n                        })).find(\".dcpArray__toolCell\").html();\n                }\n                return tool;\n            },\n\n            /**\n             * Get data for mustache \"rows\" variable\n             * @param attributeModel\n             * @private\n             * @returns {Array}\n             */\n            getArrayRowInfo: function attributeTemplategetArrayRowInfo(attributeModel)\n            {\n\n                var rows = [];\n                var line = this.getRowTool(attributeModel);\n\n                attributeModel.get(\"content\").each(function attributeTemplate_eachContent(currentAttribute)\n                {\n                    var values;\n                    var attributeId = currentAttribute.id;\n                    var attributeLabel = currentAttribute.get('label');\n                    if (!currentAttribute.isDisplayable()) {\n                        return;\n                    }\n\n                    if (currentAttribute.getOption(\"attributeLabel\")) {\n                        attributeLabel = currentAttribute.getOption(\"attributeLabel\");\n                    }\n                    values = currentAttribute.get('attributeValue');\n                    _.each(values, function attributeTemplategetArrayRowInfoEach(singleValue, index)\n                    {\n                        if (_.isUndefined(rows[index])) {\n                            rows[index] = {content: {}};\n                        }\n                        rows[index].index=index;\n                        rows[index].content[attributeId] = {\n                            label: attributeLabel,\n                            attributeValue: singleValue,\n                            htmlContent: '<div class=\"dcpCustomTemplate--row dcpArray__content__cell dcpAttribute__content\"  data-attrid=\"' + currentAttribute.id + '\"/>'\n                        };\n\n                        rows[index].rowTools = line;\n\n                    });\n                });\n\n                return rows;\n            },\n\n            renderClickDesc: function ($tip, nsOn) {\n                $tip.on(\"click\" + nsOn, function vAttributeShowDesc(event)\n                {\n                    event.stopPropagation();\n                    $(this).tooltip(\"toggle\");\n                }).one(\"show.bs.tooltip\", function wDescTooltip () {\n                    var tipElement = $(this).data(\"bs.tooltip\").tip;\n                    if (tipElement) {\n                        $(tipElement).addClass(\"dcpAttribute__description-info\");\n                    }\n                }).one(\"shown.bs.tooltip\", function wDescTooltip () {\n                    var tipElement = $(this).data(\"bs.tooltip\").tip;\n                    if (tipElement) {\n                        $(tipElement).find(\".tooltip-inner\").prepend('<span class=\"btn btn-secondary button-close-error\"><span class=\"fa fa-times\" />&nbsp;</span>');\n\n                        $(tipElement).on(\"click\" + nsOn, \".button-close-error\", function vAttributeCloseDesc(event)\n                        {\n                            event.stopPropagation();\n                            $(tipElement).tooltip(\"hide\");\n                        });\n                    }\n                });\n            },\n\n            /**\n             * Insert attribute description\n             * @param attributeView Backbone view\n             * @param $customElement specific other DOM element instead of default element view\n             */\n            insertDescription: function attributeTemplateInsertDescription(attributeView, $customElement)\n            {\n                var data = attributeView.model.toData(null, true);\n\n                if (!data.renderOptions.description) {\n                    return;\n                }\n                var descriptionTemplate;\n                var $tip;\n                var nsOn = \".v\" + attributeView.model.cid;\n                var $viewElement = $customElement ? $customElement : attributeView.$el;\n                var isFrame = $viewElement.hasClass(\"dcpFrame\");\n                var isArray = $viewElement.hasClass(\"dcpArray\");\n                var isArrayHead = $viewElement.hasClass(\"dcpArray__head__cell\");\n                var isArrayCell = $viewElement.hasClass(\"dcpArray__cell\");\n                var isAttribute = $viewElement.hasClass(\"dcpAttribute\");\n                var isTabContent = $viewElement.hasClass(\"dcpTab__content\");\n                var isTabLabel = $viewElement.hasClass(\"dcpTab__label\");\n                var $descriptionElement;\n\n                descriptionTemplate = attributeView.model.getTemplates().attribute.description;\n                data.renderOptions.description.htmlContentRender = Mustache.render(data.renderOptions.description.htmlContent, data);\n                data.renderOptions.description.htmlTitleRender = Mustache.render(data.renderOptions.description.htmlTitle, data);\n\n                $descriptionElement = $(Mustache.render(descriptionTemplate || \"\", data));\n\n                if (isFrame) {\n                    switch (data.renderOptions.description.position) {\n                        case \"bottom\":\n                            $viewElement.append($descriptionElement);\n                            break;\n                        case \"top\":\n                        case \"topLabel\":\n                            $viewElement.prepend($descriptionElement);\n                            break;\n                        case \"left\":\n                            $viewElement.find(\".dcpFrame__content\").addClass(\"dcpFrame__content--left-description\");\n                            $descriptionElement.insertAfter($viewElement.find(\".dcpFrame__label\"));\n                            break;\n                        case \"right\":\n                            // Need to add class because no have css selector\n                            $viewElement.append($descriptionElement);\n                            $viewElement.find(\".dcpFrame__content\").addClass(\"dcpFrame__content--right-description\");\n                            break;\n                        case \"bottomLabel\":\n                            $descriptionElement.insertAfter($viewElement.find(\".dcpFrame__label\"));\n                            break;\n                        case \"topValue\":\n                            $viewElement.find(\".dcpFrame__content\").prepend($descriptionElement);\n                            break;\n                        case \"bottomValue\":\n                            $viewElement.find(\".dcpFrame__content\").append($descriptionElement);\n                            break;\n                        case \"click\":\n                            $viewElement.append($descriptionElement);\n                            $viewElement.find(\".dcpFrame__label\").prepend('<a class=\"dcpAttribute__label_description\"><span class=\"fa fa-info-circle\"></span></a>');\n                            $tip = $viewElement.find(\".dcpFrame__label > .dcpAttribute__label_description\").tooltip({\n                                html: true,\n                                container: $viewElement,\n                                title: $descriptionElement,\n                                placement: \"auto\",\n                                trigger: \"manual\"\n                            });\n\n                            this.renderClickDesc($tip, nsOn);\n\n\n\n\n                    }\n                }\n                if (isTabContent || isTabLabel) {\n                    switch (data.renderOptions.description.position) {\n                        case \"top\":\n                        case \"topValue\":\n                            if (isTabContent) {\n                                $viewElement.prepend($descriptionElement);\n                            }\n                            break;\n                        case \"bottom\":\n                        case \"bottomValue\":\n                            if (isTabContent) {\n                                $viewElement.append($descriptionElement);\n                            }\n                            break;\n                        case \"click\":\n                            if (isTabLabel) {\n                                $viewElement.append($descriptionElement);\n                                $viewElement.find(\".dcpLabel__text\").prepend('<a class=\"dcpAttribute__label_description\"><span class=\"fa fa-info-circle\"></span></a>');\n\n                                $tip = $viewElement.find(\".dcpAttribute__label_description\").tooltip({\n                                    html: true,\n                                    container: \".dcpDocument\",\n                                    title: $descriptionElement,\n                                    placement: \"auto\",\n                                    trigger: \"manual\"\n                                });\n\n                                this.renderClickDesc($tip, nsOn);\n\n\n                            }\n                            break;\n\n                        case \"bottomLabel\":\n                        case \"topLabel\":\n                        case \"left\":\n                        case \"right\":\n                            console.error(\"Cannot use \\\"\" + data.renderOptions.description.position + \"\\\" description position in tab attribute : \" + data.id);\n                    }\n                }\n                if (isArray) {\n                    switch (data.renderOptions.description.position) {\n                        case \"top\":\n                            $viewElement.prepend($descriptionElement);\n                            break;\n                        case \"topLabel\":\n                            $viewElement.find(\".dcpArray__label\").prepend($descriptionElement);\n                            break;\n                        case \"bottomLabel\":\n                            $viewElement.find(\".dcpArray__label\").append($descriptionElement);\n                            break;\n                        case \"topValue\":\n                            $viewElement.find(\".dcpArray__content\").prepend($descriptionElement);\n                            break;\n                        case \"bottomValue\":\n                            $descriptionElement.insertAfter($viewElement.find(\".dcpArray__table\"));\n                            break;\n                        case \"bottom\":\n                            $viewElement.append($descriptionElement);\n                            break;\n                        case \"click\":\n                            $viewElement.append($descriptionElement);\n                            $viewElement.find(\".dcpArray__label\").prepend('<a class=\"dcpAttribute__label_description\"><span class=\"fa fa-info-circle\"></span></a>');\n\n                            $tip = $viewElement.find(\".dcpArray__label > .dcpAttribute__label_description\").tooltip({\n                                html: true,\n                                container: $viewElement,\n                                title: $descriptionElement,\n                                placement: \"auto\",\n                                trigger: \"manual\"\n                            });\n\n                            this.renderClickDesc($tip, nsOn);\n\n                            break;\n\n                        case \"left\":\n                        case \"right\":\n                            console.error(\"Cannot use \\\"\" + data.renderOptions.description.position + \"\\\" description position in array attribute : \" + data.id);\n                            break;\n                    }\n                }\n                if (isAttribute) {\n                    switch (data.renderOptions.description.position) {\n                        case \"bottom\":\n                            $viewElement.append($descriptionElement);\n                            break;\n                        case \"top\":\n                            $viewElement.prepend($descriptionElement);\n                            break;\n                        case \"left\":\n                            $viewElement.find(\".dcpAttribute__label\").append($descriptionElement);\n                            break;\n                        case \"right\":\n                            $viewElement.find(\".dcpAttribute__content\").append($descriptionElement);\n                            break;\n                        case \"topValue\":\n                            $viewElement.prepend($descriptionElement);\n                            $descriptionElement.addClass(\"dcpAttribute__right\");\n                            break;\n                        case \"topLabel\":\n                            $viewElement.prepend($descriptionElement);\n                            $descriptionElement.addClass(\"dcpAttribute__left\");\n                            break;\n                        case \"bottomValue\":\n                            $viewElement.append($descriptionElement);\n                            $descriptionElement.addClass(\"dcpAttribute__right\");\n                            break;\n                        case \"bottomLabel\":\n                            $viewElement.append($descriptionElement);\n                            $descriptionElement.addClass(\"dcpAttribute__left\");\n                            break;\n                        case \"click\":\n                            $viewElement.append($descriptionElement);\n                            $viewElement.find(\".dcpAttribute__label\").append('<a class=\"dcpAttribute__label_description\"><span class=\"fa fa-info-circle\"></span></a>');\n\n                            $tip = $viewElement.find(\".dcpAttribute__label_description\").tooltip({\n                                html: true,\n                                container: $viewElement,\n                                placement: \"auto\",\n                                title: $descriptionElement,\n                                trigger: \"manual\"\n                            });\n\n                            this.renderClickDesc($tip, nsOn);\n\n\n                    }\n                }\n\n                if (isArrayCell || isArrayHead) {\n                    switch (data.renderOptions.description.position) {\n                        case \"topLabel\":\n                        case \"top\":\n                            if (isArrayHead) {\n                                $viewElement.prepend($descriptionElement);\n                            }\n                            break;\n                        case \"topValue\":\n                            if (isArrayCell) {\n                                $viewElement.prepend($descriptionElement);\n                            }\n                            break;\n                        case \"bottomValue\":\n                            if (isArrayCell) {\n                                $viewElement.append($descriptionElement);\n                            }\n                            break;\n                        case \"bottom\":\n                        case \"bottomLabel\":\n                            if (isArrayHead) {\n                                $viewElement.append($descriptionElement);\n                            }\n                            break;\n                        case \"click\":\n                            if (isArrayHead) {\n                                $viewElement.append($descriptionElement);\n                                $viewElement.prepend('<a class=\"dcpAttribute__label_description\"><span class=\"fa fa-info-circle\"></span></a>');\n\n                                $tip = $viewElement.find(\".dcpAttribute__label_description\").tooltip({\n                                    html: true,\n                                    container: $viewElement,\n                                    placement: \"auto\",\n                                    title: $viewElement.find(\"> .dcpAttribute__description\"),\n                                    trigger: \"manual\"\n                                });\n\n                                this.renderClickDesc($tip, nsOn);\n\n                            }\n                            break;\n                        case \"left\":\n                        case \"right\":\n                            // No use in column context\n                            console.error(\"Cannot use \\\"\" + data.renderOptions.description.position + \"\\\" description position in column attribute : \" + data.id);\n                            break;\n                    }\n                }\n                if (data.renderOptions.description.htmlContent) {\n                    $viewElement.on(\"click\" + nsOn, \".dcpAttribute__description__title\", function vAttribute_descToggle()\n                    {\n                        var $contentElement = $(this).closest(\".dcpAttribute__description\").find(\".dcpAttribute__description__content\");\n                        $(this).find(\".dcpAttribute__description__title__expand\").toggleClass(\"fa-caret-right fa-caret-down\");\n                        $contentElement.slideToggle(200);\n\n                    });\n                    if (data.renderOptions.description.collapsed === true) {\n                        $viewElement.find(\".dcpAttribute__description__title__expand\").toggleClass(\"fa-caret-right fa-caret-down\");\n                        $viewElement.find(\".dcpAttribute__description__content\").hide();\n\n                    }\n                }\n\n            }\n        };\n\n    }\n);\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/document/attributeTemplate.js","define([\n    'jquery',\n    'underscore',\n    'mustache',\n    'dcpDocument/widgets/widget',\n    'dcpDocument/widgets/window/wDialog'\n], function require_revisiondiff($, _, Mustache) {\n    'use strict';\n\n    $.widget(\"dcp.dcpRevisionDiff\",  $.dcp.dcpDialog, {\n        options :        {\n            documentId :     0,\n            firstRevision :  0,\n            secondRevision : 0,\n            window :         {\n                modal :     true,\n                animation : {\n                    open :     {\n                        effects :  \"fade:in\",\n                        duration : 1000\n                    }, close : {\n                        effects :  \"fade:out\",\n                        duration : 1000\n                    }\n                },\n                actions :   [\n                    \"Maximize\",\n                    \"Close\"\n                ],\n                visible :   false,\n                height :    \"300px\",\n                width :     \"500px\",\n                title :     \"Document difference\"\n            },\n            labels :         {\n                \"first\" :          \"First document\",\n                \"second\" :         \"Second document\",\n                \"attributeId\" :    \"Attribute id\",\n                \"attributeLabel\" : \"Attribute label\",\n                \"documentHeader\" : '\"{{title}}\"  (Revision : {{revision}}). <br/>Created on <em>{{revdate}}</em>',\n                \"filterMessages\" : \"Filter data\",\n                \"showOnlyDiff\" :   \"Show only differences\",\n                \"showAll\" :        \"Show all\"\n            }\n        },\n        firstDocument :  null,\n        secondDocument : null,\n\n        _create :        function dcpRevisionDiff__create() {\n            var currentWidget = this, $widget = $(this);\n\n            this.element.html(this.htmlCaneva());\n            require(['datatables'], function dcpDocumentWHistory_initTable()\n            {\n                require('datatables.net-bs4/css/dataTables.bootstrap4.css');\n                require('datatables');\n                currentWidget._initDatatable();\n            }, \"ensureDatatables\");\n\n            this.element.data(\"dcpRevisionDiff\", this);\n\n            this._super();\n\n            this.element.on(\"click\" + this.eventNamespace, \".revision-diff-button-showonlydiff\", function dcpRevisionDiff_showDiff() {\n                if ($widget.data(\"showOnlyDiff\")) {\n                    $widget.data(\"showOnlyDiff\", false);\n                    $(this).text(currentWidget.options.labels.showOnlyDiff).removeClass(\"btn-primary\");\n                    currentWidget.element.find(\".revision-diff-equal\").show();\n                } else {\n                    $widget.data(\"showOnlyDiff\", true);\n                    currentWidget.element.find(\".revision-diff-equal\").hide();\n                    $(this).text(currentWidget.options.labels.showAll).addClass(\"btn-primary\");\n                }\n            });\n\n        },\n\n\n\n        htmlCaneva :            function dcpRevisionDiff_htmlCaneva() {\n            return '<table class=\"revision-diff-main\"><thead>' +\n            '<tr class=\"revision-diff-header\">' +\n            '<th class=\"revision-diff-header--attribute-id\"/>' +\n            '<th class=\"revision-diff-header--attribute-label\"/>' +\n            '<th class=\"revision-diff-header--first\"/>' +\n            '<th class=\"revision-diff-header--second\"/>' +\n            '</tr>' +\n            '</thead></table>';\n        },\n        _initDatatable :        function dcpRevisionDiff__initDatatable() {\n\n            var revisionDiffWidget = this;\n            this.element.find('.revision-diff-main').dataTable({\n                \"autoWidth\" :      false,\n                \"ordering\" :       false,\n                \"paging\" :         false,\n                \"dom\": \"<'revision-head'<'revision-diff-buttons'>f>rtip\",\n                // \"scrollY\": \"200px\",\n                \"scrollCollapse\" : false,\n                \"info\" :           false,\n                \"language\" :       {\n                    \"search\" : \" \"\n                },\n                \"columns\" :        [\n                    {\n                        data :      \"attributeId\",\n                        name :      \"attributeId\",\n                        title :     revisionDiffWidget.options.labels.attributeId,\n                        className : \"revision-diff-attributeid\",\n                        visible :   false\n                    },\n                    {\n                        data :      \"attributeLabel\",\n                        name :      \"attributeLabel\",\n                        title :     revisionDiffWidget.options.labels.attributeLabel,\n                        className : \"revision-diff-attributelabel\"\n\n                    },\n                    {\n                        data :      \"first\",\n                        name :      \"first\",\n                        title :     revisionDiffWidget.options.labels.first,\n                        className : \"revision-diff-first\",\n                        render :    function dcpRevisionDiff_renderFirst(data) {\n                            if (_.isArray(data)) {\n                                return _.pluck(data, 'displayValue').join(', ');\n                            } else {\n                                return data.displayValue;\n                            }\n                        }\n                    },\n                    {\n                        data :      \"second\",\n                        name :      \"second\",\n                        title :     revisionDiffWidget.options.labels.second,\n                        className : \"revision-diff-second\",\n                        render :    function dcpRevisionDiff_renderSecond(data) {\n                            if (_.isArray(data)) {\n                                return _.pluck(data, 'displayValue').join(', ');\n                            } else {\n                                return data.displayValue;\n                            }\n                        }\n                    }\n                ],\n\n                \"initComplete\" : function dcpRevisionDiff_initComplete() {\n                    var api = this.api();\n                    // var data = api.rows({page: 'current'}).data();\n                    // Output the data for the visible rows to the browser's console\n                    $(api.columns('first:name').header()).html(revisionDiffWidget._getDocHeader(revisionDiffWidget.firstDocument));\n                    $(api.columns('second:name').header()).html(revisionDiffWidget._getDocHeader(revisionDiffWidget.secondDocument));\n                    revisionDiffWidget.element.find(\".dataTables_filter input\").attr(\"placeholder\", revisionDiffWidget.options.labels.filterMessages);\n\n                    revisionDiffWidget.element.find(\".dataTables_filter input\").addClass(\"form-control form-control-sm\");\n\n                    var firstHeadCell = revisionDiffWidget.element.find(\".revision-diff-buttons\");\n                    if (firstHeadCell.find('.revision-diff-button-showonlydiff').length === 0) {\n                        firstHeadCell.append($('<button class=\"revision-diff-button-showonlydiff btn btn-secondary btn-sm\" >' + revisionDiffWidget.options.labels.showOnlyDiff + '</button>'));\n                    }\n                },\n\n                \"ajax\" : function dcpRevisionDiff_getData(data, callback) {\n                    var myData = [];\n\n                    $.getJSON(\"api/v1/documents/\" + revisionDiffWidget.options.documentId +\n                    \"/revisions/\" + revisionDiffWidget.options.firstRevision +\n                    \".json?fields=family.structure,document.properties.revdate,document.properties.revision,document.attributes\").\n                        done(function dcpRevisionDiff_getDataDone(data1) {\n                            revisionDiffWidget.firstDocument = data1.data.revision;\n                            $.getJSON(\"api/v1/documents/\" + revisionDiffWidget.options.documentId +\n                            \"/revisions/\" + revisionDiffWidget.options.secondRevision +\n                            \".json?fields=document.properties.revdate,document.properties.revision,document.attributes\").\n                                done(function dcpRevisionDiff_getRevisionDone(data2) {\n                                    revisionDiffWidget.secondDocument = data2.data.revision;\n                                    _.each(data1.data.revision.attributes, function dcpRevisionDiff_analyzeAttribute(firstValue, index) {\n                                        var secondValue = data2.data.revision.attributes[index];\n                                        myData.push({\n                                            attributeId :    index,\n                                            attributeLabel : revisionDiffWidget._findAttributeLabel(data1.data.family.structure, index),\n                                            first :          firstValue,\n                                            second :         secondValue,\n                                            \"DT_RowClass\" :  (revisionDiffWidget.isEqualAttributeValue(firstValue, secondValue)) ? \"revision-diff-equal\" : \"revision-diff-not-equal\"\n                                        });\n\n                                    });\n                                    callback(\n                                        {data : myData}\n                                    );\n                                }).fail(function dcpRevisionDiff_getRevisionFail(xhr) {\n                                    var result = JSON.parse(xhr.responseText);\n                                    window.alert(result.exceptionMessage);\n                                });\n                        }).fail(function dcpRevisionDiff_getDataFail(xhr) {\n                            var result = JSON.parse(xhr.responseText);\n                            window.alert(result.exceptionMessage);\n                        });\n                }\n\n            }).addClass('table table-condensed table-bordered table-hover');\n\n        },\n\n        isEqualAttributeValue : function dcpRevisionDiff_isEqualAttributeValue(v1, v2) {\n            if (_.isEqual(v1, v2)) {\n                return true;\n            }\n\n            if (_.isArray(v1) && _.isArray(v2)) {\n                var values1 = _.pluck(v1, \"value\");\n                var values2 = _.pluck(v2, \"value\");\n                return _.isEqual(values1, values2);\n            }\n            return false;\n        },\n\n        _findAttributeLabel : function wRevisionDiffFindAttributeLabel(structure, aid) {\n            var scope = this;\n            var label = null;\n            _.some(structure, function dcpRevisionDiff_analyzeAttribute(attributInfo, attributId) {\n                if (attributId === aid) {\n                    label = attributInfo.label;\n                    return true;\n                }\n                if (_.isObject(attributInfo.content)) {\n                    var contentLabel = scope._findAttributeLabel(attributInfo.content, aid);\n\n                    if (contentLabel !== null) {\n                        label = contentLabel;\n                        return true;\n                    }\n                }\n                return false;\n\n            });\n            return label;\n        },\n\n        _getDocHeader : function wRevisionDiffGetDocHeader(documentStructure) {\n            var documentHeader = this.options.labels.documentHeader;\n            return Mustache.render(documentHeader || \"\", documentStructure.properties);\n        },\n\n        _destroy : function _destroy() {\n            var $history = this.element.find('.revision-diff-main');\n\n            if ($history.DataTable) {\n                $history.DataTable().destroy();\n            }\n            this._super();\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/history/wRevisionDiff.js","(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/attributes/wAttribute'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function wText($, _, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpText\", $.dcp.dcpAttribute, {\n\n        options: {\n            type: \"text\",\n            renderOptions: {\n                maxLength: 0, // char max length\n                placeHolder: '',\n                format: \"\",\n                kendoAutoCompleteConfiguration: {\n                    filter: \"contains\",\n                    minLength: 1,\n                    template: '<div class=\"dcpAutocomplete\"><span class=\"k-state-default\">#= data.title#</span>' +\n                    '#if (data.message) {#' +\n                    '<div class=\"dcpAutocomplete--#= data.message.type#\">#: data.message.contentText# #= data.message.contentHtml#</div>' +\n                    '#}# </div>'\n                }\n            }\n        },\n\n        kendoWidget: null,\n\n        _initDom: function wTextInitDom()\n        {\n            if (this.getMode() === \"read\") {\n                if (this.options.renderOptions.format) {\n                    this.options.attributeValue.formatValue = Mustache.render(this.options.renderOptions.format || \"\",\n                        this.options.attributeValue);\n                }\n            }\n\n            this._super();\n            this.kendoWidget = this.element.find(\".dcpAttribute__value--edit\");\n            if (this.kendoWidget && this.options.hasAutocomplete) {\n                this.activateAutocomplete(this.kendoWidget);\n            } else {\n                if (this.getType() === \"text\") {\n                    this.kendoWidget.addClass(\"k-textbox\");\n                }\n            }\n        },\n\n        _initEvent: function wTextInitEvent()\n        {\n            if (this.getMode() === \"write\") {\n                this._initChangeEvent();\n            }\n            this._super();\n        },\n\n        _initChangeEvent: function wTextInitChangeEvent()\n        {\n            var currentWidget = this;\n            if (this.getMode() === \"write\") {\n                this.getContentElements().on(\"change\" + this.eventNamespace, function wTextChangeElement()\n                {\n                    var newValue = _.clone(currentWidget.options.attributeValue);\n                    newValue.value = $(this).val();\n                    newValue.displayValue = newValue.value;\n                    currentWidget.setValue(newValue);\n                });\n            }\n        },\n\n        /**\n         * Just to be apply in normal input help\n         * @param inputValue\n         */\n        activateAutocomplete: function activateAutocomplete(inputValue)\n        {\n            var currentWidget = this;\n            var systemOption = {\n                dataTextField: \"title\",\n                dataSource: {\n                    // type: \"json\",\n\n                    serverFiltering: true,\n                    transport: {\n                        read: function mapAutoActivated(options)\n                        {\n                            options.data.index = currentWidget._getIndex();\n                            return currentWidget.options.autocompleteRequest.call(null, options);\n                        }\n                    }\n                },\n                filtering: function wTextFiltering(e)\n                {\n                    // space search is used to force new search\n                    if (e.filter.value === \" \") {\n                        e.filter.value = '';\n                    }\n                },\n                select: function kendoAutocompleteSelect(event)\n                {\n                    var valueIndex = currentWidget._getIndex();\n                    var dataItem = this.dataSource.at(event.item.index());\n                    //The object returned by dataSource.at are internal kendo object so I clean it with toJSON\n                    if (dataItem.toJSON) {\n                        dataItem = dataItem.toJSON();\n                    }\n                    event.preventDefault(); // no fire change event\n                    currentWidget._trigger(\"changeattrsvalue\", event, {dataItem: dataItem, valueIndex: valueIndex});\n                }\n            };\n\n            inputValue.kendoAutoComplete(_.extend({}, this.options.renderOptions.kendoAutoCompleteConfiguration, systemOption));\n            this.element.on(\"click\" + this.eventNamespace, '.dcpAttribute__value--autocomplete--button', function wTextClickAutoComplete(event)\n            {\n                event.preventDefault();\n                inputValue.data(\"kendoAutoComplete\").search(' '); // use space search\n            });\n            this.element.find('.dcpAttribute__value--autocomplete--button[title]').tooltip({\n                html: true,\n                container: this.element\n            }).each(function wTextInitLinkTooltip()\n            {\n                $(this).data(\"bs.tooltip\").tip().addClass(\"dcpAttribute__autocomplete\");\n            });\n\n        },\n\n        /**\n         * Modify value to widget and send notification to the view\n         * @param value\n         */\n        setValue: function wTextSetValue(value)\n        {\n\n            var originalValue;\n\n            value = _.clone(value);\n\n            if (_.has(value, \"value\") && !_.has(value, \"displayValue\")) {\n                value.displayValue = value.value;\n            }\n            this._super(value);\n\n            originalValue = this.getWidgetValue();\n\n            if (this.getMode() === \"write\") {\n                // : explicit lazy equal\n                if (value.value === null && originalValue === '') {\n                    originalValue = null;\n                }\n                if (originalValue !== value.value) {\n                    // Modify value only if different\n                    this.getContentElements().val(value.value);\n                    this.flashElement();\n                }\n            } else\n                if (this.getMode() === \"read\") {\n                    this.redraw();\n                } else {\n                    throw new Error(\"Attribute \" + this.options.id + \" unkown mode \" + this.getMode());\n                }\n        },\n\n        getType: function getType()\n        {\n            return \"text\";\n        },\n\n        _destroy: function _destroy()\n        {\n            //Destroy autocomplete if activated\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoAutoComplete\")) {\n                this.kendoWidget.data(\"kendoAutoComplete\").destroy();\n            }\n            this._super();\n        }\n\n    });\n\n    return $.fn.dcpText;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/text/wText.js","/* global define, console */\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'dcpDocument/routers/router',\n    'dcpDocument/models/mDocument',\n    'dcpDocument/controllerObjects/attributeInterface',\n    'dcpDocument/controllerObjects/menuInterface',\n    'dcpDocument/controllerObjects/transitionInterface',\n    'dcpDocument/views/document/vDocument',\n    'dcpDocument/models/mTransition',\n    'dcpDocument/views/workflow/vTransition',\n    'dcpDocument/models/mMenu',\n    'dcpDocument/i18n/documentCatalog',\n    'dcpDocument/widgets/widget',\n    'dcpDocument/widgets/window/wConfirm',\n    'dcpDocument/widgets/window/wLoading',\n    'dcpDocument/widgets/window/wNotification'\n], function documentController($, _, Backbone, Router, DocumentModel,\n                               AttributeInterface, MenuInterface, TransitionInterface,\n                               DocumentView, TransitionModel, TransitionView, MenuModel, i18n)\n{\n    'use strict';\n\n    var ErrorModelNonInitialized = function ErrorModelNonInitialized(message)\n    {\n        this.name = \"ErrorModelNonInitialized\";\n        this.message = message || \"The widget model is not initialized, use fetchDocument to initialise it.\";\n        this.stack = (new Error()).stack;\n    };\n    ErrorModelNonInitialized.prototype = Object.create(Error.prototype);\n    ErrorModelNonInitialized.prototype.constructor = ErrorModelNonInitialized;\n\n    var eventList = [\"beforeRender\", \"ready\", \"change\", \"displayMessage\", \"displayError\", \"validate\",\n        \"attributeBeforeRender\", \"attributeReady\",\n        \"attributeHelperSearch\", \"attributeHelperResponse\", \"attributeHelperSelect\",\n        \"attributeArrayChange\", \"actionClick\",\n        \"attributeAnchorClick\",\n        \"beforeClose\", \"close\",\n        \"beforeSave\", \"afterSave\", \"attributeDownloadFile\", \"attributeUploadFile\", \"attributeUploadFileDone\",\n        \"beforeDelete\", \"afterDelete\",\n        \"beforeRestore\", \"afterRestore\",\n        \"failTransition\", \"successTransition\",\n        \"beforeDisplayTransition\", \"afterDisplayTransition\",\n        \"beforeTransition\", \"beforeTransitionClose\",\n        \"destroy\", \"attributeCreateDialogDocumentBeforeSetFormValues\",\n        \"attributeCreateDialogDocumentBeforeSetTargetValue\", \"attributeCreateDialogDocumentReady\",\n        \"attributeCreateDialogDocumentBeforeClose\", \"attributeCreateDialogDocumentBeforeDestroy\"\n    ];\n\n    $.widget(\"dcp.documentController\", {\n\n        options: {\n            eventPrefix: \"document\",\n            initid: null,\n            viewId: undefined,\n            revision: undefined,\n            constraintList: [],\n            eventListener: [],\n            _model: null,\n            activatedConstraint: {},\n            activatedEventListener: {},\n            _initializedModel: false,\n            _initializedView: false\n        },\n\n        /**\n         * Create widget\n         * @private\n         */\n        _create: function documentController_create()\n        {\n            this.options.constraintList = {};\n            this.options.eventListener = {};\n            this.activatedConstraint = {};\n            this.activatedEventListener = {};\n            this._initializedModel = false;\n            this._initializedView = false;\n            this._customClientData = {};\n            if (!this.options.initid) {\n                console.log(\"Widget initialised without document\");\n                return;\n            }\n            this._initializeWidget({}, this.options.customClientData);\n            this._super();\n        },\n        /**\n         * tryToDestroy the widget\n         *\n         * @return Promise\n         */\n        tryToDestroy: function documentController_tryToDestroy()\n        {\n            var currentWidget = this;\n            return new Promise(function documentController_promiseDestroy(resolve, reject)\n            {\n                var event = {prevent: false};\n                if (!currentWidget._model) {\n                    resolve();\n                    return;\n                }\n                if (currentWidget._model\n                    && currentWidget._model.isModified()\n                    && !window.confirm(currentWidget._model.get(\"properties\").get(\"title\") + \"\\n\" + i18n.___(\"The form has been modified without saving, do you want to close it ?\", \"ddui\"))) {\n                    reject(\"Unable to destroy because user refuses it\");\n                    return;\n                }\n                currentWidget._triggerControllerEvent(\"beforeClose\", event, currentWidget._model.getServerProperties());\n                if (event.prevent) {\n                    reject(\"Unable to destroy because before close refuses it\");\n                    return;\n                }\n                resolve();\n            });\n        },\n        /**\n         * Delete the widget\n         * @private\n         */\n        _destroy: function documentController_destroy()\n        {\n            this._triggerControllerEvent(\"destroy\", this.getProperties());\n            this.options.constraintList = {};\n            this.options.eventListener = {};\n            this.activatedConstraint = {};\n            this.activatedEventListener = {};\n            this._initializedModel = false;\n            this._initializedView = false;\n            this.element.removeData(\"document\");\n            if (this._model) {\n                this._model.trigger(\"destroy\");\n            }\n            this._trigger(\"destroy\");\n            this._super();\n        },\n\n        /**\n         * Initialize the widget\n         *\n         * Create Model, initView\n         *\n         * @param options object {\"success\": fct, \"error\", fct}\n         * @param customClientData object\n         *\n         * @private\n         */\n        _initializeWidget: function documentController_initializeWidget(options, customClientData)\n        {\n            var promise,\n                currentWidget = this,\n                initializeSuccess = function documentController_initializeSuccess()\n                {\n                    currentWidget._initializedModel = true;\n                };\n            options = options || {};\n            this._initExternalElements();\n            this._initModel(this._getModelValue());\n            this._initView();\n            if (options.success) {\n                options.success = _.wrap(options.success, function documentController_fetchSuccess(success)\n                {\n                    initializeSuccess.apply(this, _.rest(arguments));\n                    return success.apply(this, _.rest(arguments));\n                });\n            }\n            if (customClientData) {\n                this._model._customClientData = customClientData;\n            }\n            promise = this._model.fetchDocument(this._getModelValue(), options);\n            if (!options.success) {\n                promise.then(initializeSuccess);\n            }\n\n            this._initRouter({useHistory: !this.options.noRouter});\n\n            return promise;\n        },\n\n        /**\n         * Return essential element of the current document\n         *\n         * @returns {Object}\n         * @private\n         */\n        _getModelValue: function documentController_getModelValue()\n        {\n            return _.pick(this.options, \"initid\", \"viewId\", \"revision\");\n        },\n\n        /**\n         * Generate the dom where the view is inserted\n         * @private\n         */\n        _initDom: function documentController_initDom()\n        {\n            var $document = this.element.find(\".dcpDocument\");\n            if (!this.$document || $document.length === 0) {\n                this.element.append('<div class=\"dcpDocument\"></div>');\n                this.$document = this.element.find(\".dcpDocument\");\n            }\n        },\n\n        /**\n         * Init the model and bind the events\n         *\n         * @param initialValue\n         * @returns DocumentModel\n         * @private\n         */\n        _initModel: function documentController_initModel(initialValue)\n        {\n            var model;\n\n            //Don't reinit the model\n            if (!this._model) {\n                model = new DocumentModel(initialValue);\n                this._model = model;\n                this._initModelEvents();\n            } else {\n                this._reinitModel();\n            }\n            return model;\n        },\n\n        /**\n         * Init the view and bind the events\n         *\n         * @returns {DocumentView}\n         * @private\n         */\n        _initView: function documentController_initView()\n        {\n            var documentView;\n            ///Don't reinit view\n            if (!this.view) {\n                this._initDom();\n                documentView = new DocumentView({model: this._model, el: this.$document[0]});\n                this.view = documentView;\n                this._initViewEvents();\n            }\n            return this.view;\n        },\n\n        /**\n         * Clear and reinit the model with current widget values\n         *\n         * @private\n         */\n        _reinitModel: function documentController_reinitModel()\n        {\n            this._model.set(this._getModelValue());\n        },\n\n        /**\n         * Init the external elements (loading bar and notification widget)\n         * @private\n         */\n        _initExternalElements: function documentController_initExternalElements()\n        {\n            this.$loading = $(\".dcpLoading\").dcpLoading();\n            this.$notification = $('body').dcpNotification(\n                window.dcp.notifications\n            ); // active notification\n        },\n\n        /**\n         * Bind the model event\n         *\n         * Re-trigger the event\n         *\n         * @private\n         */\n        _initModelEvents: function documentController_initEvents()\n        {\n            var currentWidget = this;\n            this._model.listenTo(this._model, \"invalid\", function documentController_triggerShowInvalid(model, error)\n            {\n                var result = currentWidget._triggerControllerEvent(\"displayError\",\n                    currentWidget.getProperties(), error);\n                if (result) {\n                    currentWidget.$notification.dcpNotification(\"showError\", error);\n                }\n            });\n            this._model.listenTo(this._model, \"showError\", function documentController_triggerShowError(error)\n            {\n                var result = currentWidget._triggerControllerEvent(\"displayError\",\n                    currentWidget.getProperties(), error);\n                if (result) {\n                    currentWidget.$notification.dcpNotification(\"showError\", error);\n                }\n            });\n            this._model.listenTo(this._model, \"showMessage\", function documentController_triggerShowMessage(msg)\n            {\n                var result = currentWidget._triggerControllerEvent(\"displayMessage\",\n                    currentWidget.getProperties(), msg);\n                if (result) {\n                    currentWidget.$notification.dcpNotification(\"show\", msg.type, msg);\n                }\n            });\n            this._model.listenTo(this._model, \"sync\", function documentController_triggerSync()\n            {\n                currentWidget._initializedModel = true;\n                currentWidget.options.initid = currentWidget._model.id;\n                currentWidget.options.viewId = currentWidget._model.get(\"viewId\");\n                currentWidget.options.revision = currentWidget._model.get(\"revision\");\n                currentWidget.element.data(\"document\", currentWidget._getModelValue());\n                currentWidget._initActivatedConstraint();\n                currentWidget._initActivatedEventListeners({launchReady: false});\n            });\n            this._model.listenTo(this._model, \"beforeRender\", function documentController_triggerBeforeRender(event)\n            {\n                event.prevent = !currentWidget._triggerControllerEvent(\"beforeRender\",\n                    currentWidget.getProperties(), currentWidget._model.getModelProperties());\n            });\n            this._model.listenTo(this._model, \"beforeClose\", function documentController_triggerBeforeClose(event,\n                                                                                                            nextDocument, customClientData)\n            {\n                if (currentWidget._initializedView !== false) {\n                    event.prevent = !currentWidget._triggerControllerEvent(\"beforeClose\",\n                        currentWidget.getProperties(), nextDocument, customClientData);\n                }\n            });\n            this._model.listenTo(this._model, \"close\", function documentController_triggerClose(oldProperties)\n            {\n                if (currentWidget._initializedView !== false) {\n                    currentWidget._triggerControllerEvent(\"close\",\n                        currentWidget.getProperties(), oldProperties);\n                }\n                currentWidget._initializedView = false;\n            });\n            this._model.listenTo(this._model, \"getCustomClientData\", function documentController_triggerAddCustomData()\n            {\n                try {\n                    currentWidget._model._customClientData = currentWidget.getCustomClientData();\n                } catch (e) {\n\n                }\n            });\n            this._model.listenTo(this._model, \"beforeSave\", function documentController_triggerBeforeSave(event, customClientData)\n            {\n                event.prevent = !currentWidget._triggerControllerEvent(\"beforeSave\",\n                    currentWidget.getProperties(), currentWidget._model.getModelProperties(), customClientData);\n            });\n            this._model.listenTo(this._model, \"afterSave\", function documentController_triggerAfterSave(oldProperties)\n            {\n                currentWidget._triggerControllerEvent(\"afterSave\",\n                    currentWidget.getProperties(), oldProperties);\n            });\n            this._model.listenTo(this._model, \"beforeRestore\", function documentController_triggerBeforeRestore(event)\n            {\n                event.prevent = !currentWidget._triggerControllerEvent(\"beforeRestore\",\n                    currentWidget.getProperties());\n            });\n            this._model.listenTo(this._model, \"afterRestore\", function documentController_triggerAfterRestore(oldProperties)\n            {\n                currentWidget._triggerControllerEvent(\"afterRestore\",\n                    currentWidget.getProperties(), oldProperties);\n            });\n            this._model.listenTo(this._model, \"beforeDelete\", function documentController_triggerBeforeDelete(event, customClientData)\n            {\n                event.prevent = !currentWidget._triggerControllerEvent(\"beforeDelete\",\n                    currentWidget.getProperties(), currentWidget._model.getModelProperties(), customClientData);\n            });\n            this._model.listenTo(this._model, \"afterDelete\", function documentController_triggerAfterDelete(oldProperties)\n            {\n                currentWidget._triggerControllerEvent(\"afterDelete\",\n                    currentWidget.getProperties(), oldProperties);\n            });\n            this._model.listenTo(this._model, \"validate\", function documentController_triggerValidate(event)\n            {\n                event.prevent = !currentWidget._triggerControllerEvent(\"validate\", currentWidget.getProperties());\n            });\n            this._model.listenTo(this._model, \"changeValue\", function documentController_triggerChangeValue(options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(options.attributeId),\n                        index = 0, values = currentAttribute.getValue(\"all\"),\n                        mAttribute = currentWidget._getAttributeModel(options.attributeId);\n                    if (mAttribute.getParent().get(\"type\") !== \"array\") {\n                        index = -1;\n                    } else {\n                        _.find(values.current, function documentController_valueIsModified(currentValue)\n                        {\n                            var result, previous = values.previous[index];\n                            if (!previous) {\n                                index++;\n                                return true;\n                            }\n                            if (_.isArray(currentValue)) {\n                                currentValue = currentValue.join(\",\");\n                            }\n                            currentValue = _.has(currentValue, \"value\") ? currentValue.value : currentValue;\n                            if (_.isArray(previous)) {\n                                previous = previous.join(\",\");\n                            }\n                            previous = _.has(previous, \"value\") ? previous.value : previous;\n                            result = previous !== currentValue;\n                            index++;\n                            return result;\n                        });\n                        index--;\n                    }\n                    currentWidget._triggerAttributeControllerEvent(\"change\", currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        currentAttribute.getValue(\"all\"),\n                        index\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n\n            });\n            this._model.listenTo(this._model, \"beforeAttributeRender\", function documentController_triggerAttributeRender(event, attributeId, $el, index)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attributeId);\n                    event.prevent = !currentWidget._triggerAttributeControllerEvent(\"attributeBeforeRender\", currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        $el,\n                        index\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n            });\n            this._model.listenTo(this._model, \"attributeRender\", function documentController_triggerAttributeRender(attributeId, $el, index)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attributeId);\n                    currentWidget._triggerAttributeControllerEvent(\"attributeReady\", currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        $el,\n                        index\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n\n            });\n            this._model.listenTo(this._model, \"arrayModified\", function documentController_triggerArrayModified(options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(options.attributeId);\n                    currentWidget._triggerAttributeControllerEvent(\"attributeArrayChange\", currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options.type,\n                        options.options\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n\n            });\n            this._model.listenTo(this._model, \"internalLinkSelected\", function documentController_triggerInternalLinkSelected(event, options)\n            {\n                event.prevent = !currentWidget._triggerControllerEvent(\"actionClick\",\n                    currentWidget.getProperties(),\n                    options\n                );\n            });\n            this._model.listenTo(this._model, \"downloadFile\", function documentController_triggerDownloadFile(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    event.prevent = !currentWidget._triggerControllerEvent(\"attributeDownloadFile\",\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options.$el,\n                        options.index\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n\n            });\n            this._model.listenTo(this._model, \"uploadFile\", function documentController_triggerUploadFile(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    event.prevent = !currentWidget._triggerControllerEvent(\"attributeUploadFile\",\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options.$el,\n                        options.index,\n                        {\n                            file: options.file,\n                            hasUploadingFiles: currentWidget._model.hasUploadingFile()\n\n                        }\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n            });\n            this._model.listenTo(this._model, \"uploadFileDone\", function documentController_triggerUploadFile(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    event.prevent = !currentWidget._triggerControllerEvent(\"attributeUploadFileDone\",\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options.$el,\n                        options.index,\n                        {\n                            file: options.file,\n                            hasUploadingFiles: currentWidget._model.hasUploadingFile()\n                        }\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n            });\n            this._model.listenTo(this._model, \"helperSearch\", function documentController_triggerHelperSearch(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    event.prevent = !currentWidget._triggerAttributeControllerEvent(\"attributeHelperSearch\", currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n            });\n            this._model.listenTo(this._model, \"helperResponse\", function documentController_triggerHelperResponse(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    event.prevent = !currentWidget._triggerAttributeControllerEvent(\"attributeHelperResponse\", currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n\n            });\n            this._model.listenTo(this._model, \"helperSelect\", function documentController_triggerHelperSelect(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    event.prevent = !currentWidget._triggerAttributeControllerEvent(\"attributeHelperSelect\", currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n            });\n\n            // listener to prevent default actions when anchorClick is triggered\n            this._model.listenTo(this._model, \"anchorClick\", function documentController_triggerHelperSelect(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    event.prevent = !currentWidget._triggerAttributeControllerEvent(\"attributeAnchorClick\",\n                        currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options.$el,\n                        options.index,\n                        options.options\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n            });\n\n            // Generic listener for addCreateDocumentButton docid render option\n            this._model.listenTo(this._model, \"createDialogListener\", function documentController_triggercreateDialogDocumentOpen(event, attrid, options)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attrid);\n                    var triggername = \"attributeCreateDialogDocument\";\n                    // Uppercase first letter\n                    triggername += options.triggerId.charAt(0).toUpperCase() + options.triggerId.slice(1);\n\n                    event.prevent = !currentWidget._triggerAttributeControllerEvent(triggername,\n                        currentAttribute,\n                        currentWidget.getProperties(),\n                        currentAttribute,\n                        options\n                    );\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n            });\n            this._model.listenTo(this._model, \"constraint\", function documentController_triggerConstraint(attribute, constraintController)\n            {\n                try {\n                    var currentAttribute = currentWidget.getAttribute(attribute),\n                        currentModel = currentWidget.getProperties(),\n                        $element = $(currentWidget.element),\n                        addConstraint = function documentController_addConstraint(currentConstraint)\n                        {\n                            if (_.isString(currentConstraint)) {\n                                constraintController.addConstraintMessage(currentConstraint);\n                            }\n                            if (_.isObject(currentConstraint) && currentConstraint.message && _.isNumber(currentConstraint.index)) {\n                                constraintController.addConstraintMessage(currentConstraint.message, currentConstraint.index);\n                            }\n                        };\n                    _.each(currentWidget.activatedConstraint, function triggerCurrentConstraint(currentConstraint)\n                    {\n                        try {\n                            if (currentConstraint.attributeCheck.apply($element, [currentAttribute, currentModel])) {\n                                var response = currentConstraint.constraintCheck.call($element,\n                                    currentModel,\n                                    currentAttribute,\n                                    currentAttribute.getValue(\"all\")\n                                );\n                                if (_.isArray(response)) {\n                                    _.each(response, addConstraint);\n                                } else {\n                                    addConstraint(response);\n                                }\n                            }\n                        } catch (e) {\n                            console.error(e);\n                        }\n\n                    });\n                } catch (error) {\n                    if (!(error instanceof ErrorModelNonInitialized)) {\n                        console.error(error);\n                    }\n                }\n\n            });\n            this._model.listenTo(this._model, \"showTransition\", _.bind(currentWidget._initAndDisplayTransition, this));\n            this._model.listenTo(this._model, \"beforeParse\", _.bind(function deleteCustomClient()\n            {\n                //Suppress customClientData after a sucessful transaction\n                try {\n                    currentWidget.getCustomClientData(true);\n                } catch (e) {\n\n                }\n            }, this));\n        },\n\n        /**\n         * Bind the view\n         * Re-trigger the events\n         *\n         * @private\n         */\n        _initViewEvents: function documentController_initViewEvents()\n        {\n            var currentWidget = this;\n            this.view.on(\"cleanNotification\", function documentController_triggerCleanNotification()\n            {\n                currentWidget.$notification.dcpNotification(\"clear\");\n            });\n            this.view.on('loading', function documentController_triggerLoading(data, nbItem)\n            {\n                currentWidget.$loading.dcpLoading('setPercent', data);\n                if (nbItem) {\n                    currentWidget.$loading.dcpLoading('setNbItem', nbItem);\n                }\n            });\n            this.view.on('loaderShow', function documentController_triggerLoaderShow(text, pc)\n            {\n                console.time(\"xhr+render document view\");\n                currentWidget.$loading.dcpLoading('show', text, pc);\n            });\n            this.view.on('loaderHide', function documentController_triggerHide()\n            {\n                currentWidget.$loading.dcpLoading('hide');\n            });\n            this.view.on('partRender', function documentController_triggerPartRender()\n            {\n                currentWidget.$loading.dcpLoading('addItem');\n            });\n            this.view.on('renderDone', function documentController_triggerRenderDone()\n            {\n                console.timeEnd(\"xhr+render document view\");\n                currentWidget.$loading.dcpLoading(\"setPercent\", 100);\n                currentWidget.$loading.dcpLoading(\"setLabel\", null);\n                currentWidget._initializedView = true;\n                currentWidget._triggerControllerEvent(\"ready\", currentWidget.getProperties());\n                _.delay(function documentController_endRender()\n                {\n                    currentWidget.$loading.dcpLoading(\"hide\", true);\n                    console.timeEnd('main');\n                });\n            });\n            this.view.on(\"showMessage\", function documentController_triggerShowMessage(message)\n            {\n                var result = currentWidget._triggerControllerEvent(\"displayMessage\",\n                    currentWidget.getProperties(), message);\n                if (result) {\n                    currentWidget.$notification.dcpNotification(\"show\", message.type, message);\n                }\n            });\n            this.view.on(\"showSuccess\", function documentController_triggerShowSuccess(message)\n            {\n                var result = currentWidget._triggerControllerEvent(\"displayMessage\",\n                    currentWidget.getProperties(), message);\n                if (result) {\n                    currentWidget.$notification.dcpNotification(\"showSuccess\", message);\n                }\n            });\n            this.view.on(\"reinit\", function documentController_triggerReinit()\n            {\n                currentWidget._initModel(currentWidget._getModelValue());\n                currentWidget._initView();\n                currentWidget._model.fetchDocument();\n            });\n        },\n\n        /**\n         * Init the pushstate router\n         *\n         * @private\n         */\n        _initRouter: function documentController_initRouter(config)\n        {\n            if (this.router) {\n                return this.router;\n            }\n            try {\n                if (window.history && history.pushState) {\n                    Backbone.history.start({pushState: true});\n                } else {\n                    //For browser without API history\n                    Backbone.history.start();\n                }\n            } catch (e) {\n                console.error(e);\n            }\n            this.router = new Router({\n                document: this._model,\n                useHistory: (!config || config.useHistory)\n            });\n        },\n\n        /**\n         * Init and display the change state pop-up\n         *\n         * @param nextState\n         * @param transition\n         * @param values\n         * @param withoutInterface\n         * @param reinitOptions\n         */\n        _initAndDisplayTransition: function documentController_initAndDisplayTransition(nextState, transition, values, withoutInterface, reinitOptions)\n        {\n            var $target = $('<div class=\"dcpTransition\"/>'), transitionElements = {}, currentWidget = this, result,\n                transitionInterface,\n                documentServerProperties = this.getProperties();\n\n            return new Promise(function documentController_changeStatePromise(resolve, reject)\n            {\n                result = !currentWidget._triggerControllerEvent(\"beforeDisplayChangeState\",\n                    currentWidget.getProperties(), new TransitionInterface(null, $target, nextState, transition));\n                if (result) {\n                    reject();\n                    return this;\n                }\n\n                //Init transition model\n                transitionElements.model = new TransitionModel({\n                    documentId: currentWidget._model.id,\n                    documentModel: currentWidget._model,\n                    state: nextState,\n                    transition: transition\n                });\n\n                //Init transition view\n                if (withoutInterface !== true) {\n                    transitionElements.view = new TransitionView({\n                        model: transitionElements.model,\n                        el: $target\n                    });\n                }\n\n                transitionInterface = new TransitionInterface(transitionElements.model, $target, nextState, transition);\n\n                if (transitionElements.view) {\n                    //Propagate afterDisplayChange on renderDone\n                    transitionElements.view.once(\"renderTransitionWindowDone\", function documentController_propagateAfter()\n                    {\n                        currentWidget._triggerControllerEvent(\"afterDisplayTransition\",\n                            currentWidget.getProperties(), transitionInterface);\n                    });\n                }\n\n                //Propagate the beforeTransition\n                transitionElements.model.listenTo(transitionElements.model, \"beforeChangeState\", function documentController_propagateBeforeTransition(event)\n                {\n                    event.prevent = !currentWidget._triggerControllerEvent(\"beforeTransition\",\n                        currentWidget.getProperties(), transitionInterface);\n                });\n\n                //Propagate the beforeTransitionClose\n                transitionElements.model.listenTo(transitionElements.model, \"beforeChangeStateClose\", function documentController_propagateTransitionClose(event)\n                {\n                    event.prevent = !currentWidget._triggerControllerEvent(\"beforeTransitionClose\",\n                        currentWidget.getProperties(), transitionInterface);\n                });\n\n                transitionElements.model.listenTo(transitionElements.model, \"showError\", function documentController_propagateTransitionError(error)\n                {\n                    event.prevent = !currentWidget._triggerControllerEvent(\"failTransition\",\n                        currentWidget.getProperties(), transitionInterface, error);\n                    reject({documentProperties: documentServerProperties});\n                });\n\n                transitionElements.model.listenTo(transitionElements.model, 'success', function documentController_TransitionSuccess(messages)\n                {\n                    if (transitionElements.view) {\n                        transitionElements.view.$el.hide();\n                        currentWidget.view.once(\"renderDone\", function documentController_transitionRender()\n                        {\n                            transitionElements.view.remove();\n                            _.each(messages, function documentController_parseMessage(message)\n                            {\n                                currentWidget.view.trigger(\"showMessage\", message);\n                            });\n                        });\n                    }\n\n                    //delete the pop up when the render of the pop up is done\n                    currentWidget._triggerControllerEvent(\"successTransition\",\n                        currentWidget.getProperties(), transitionInterface);\n\n                    reinitOptions = reinitOptions || {revision: -1};\n                    if (!_.has(reinitOptions, \"revision\")) {\n                        reinitOptions.revision = -1;\n                    }\n\n                    //Reinit the main model with last revision\n                    currentWidget.reinitDocument(reinitOptions).then(function documentController_reinitDone()\n                    {\n                        resolve({documentProperties: documentServerProperties});\n                    }, function documentController_reinitFail()\n                    {\n                        reject({documentProperties: documentServerProperties});\n                    });\n\n                });\n\n                transitionElements.model.listenTo(currentWidget._model, \"sync\", function documentController_TransitionClose()\n                {\n                    this.trigger(\"close\");\n                });\n\n                transitionElements.model.fetch({\n                    \"success\": function transitionModel_setDefaultValues()\n                    {\n                        if (values) {\n                            transitionElements.model.setValues(values);\n                        }\n                        if (withoutInterface === true) {\n                            transitionElements.model._loadDocument(transitionElements.model).then(function documentController_TransitionSave()\n                            {\n                                transitionElements.model.save({}, {\n                                    success: function transitionModel_afterSave()\n                                    {\n                                        transitionElements.model.trigger(\"success\");\n                                        resolve({documentProperties: documentServerProperties});\n                                    },\n                                    error: function transitionModel_error()\n                                    {\n                                        reject({documentProperties: documentServerProperties});\n                                    }\n                                });\n                            }).catch(function transitionModel_error()\n                            {\n                                reject({documentProperties: documentServerProperties});\n                            });\n                        } else {\n                            transitionElements.model._loadDocument(transitionElements.model).then(function documentController_TransitionDisplay()\n                            {\n                                transitionElements.model.trigger(\"dduiDocumentReady\");\n                            }).catch(function transitionModel_error()\n                            {\n                                reject({documentProperties: documentServerProperties});\n                            });\n                        }\n                    },\n                    \"error\": function transitionModel_error(theModel, response, options)\n                    {\n                        var errorTxt = {title: \"Transition Error\"};\n                        if (options && options.errorThrown) {\n                            errorTxt.message = options.errorThrown;\n                        }\n                        currentWidget.$notification.dcpNotification(\"showError\", errorTxt);\n                        transitionElements.model.trigger(\"showError\", errorTxt);\n                    }\n                });\n            });\n\n        },\n\n        /**\n         * Get a backbone model of an attribute\n         *\n         * @param attributeId\n         * @returns {*}\n         */\n        _getAttributeModel: function documentController_getAttributeModel(attributeId)\n        {\n            var attributes = this._model.get(\"attributes\");\n            var attribute;\n            if (!attributes) {\n                throw new Error('Attribute models not initialized yet : The attribute \"' + attributeId + '\" cannot be found.');\n            }\n            attribute = this._model.get(\"attributes\").get(attributeId);\n            if (!attribute) {\n                return undefined;\n            }\n            return attribute;\n        },\n\n        _getMenuModel: function documentController_getMenuModel(menuId)\n        {\n            var menus = this._model.get(\"menus\");\n            ;\n            var menu = menus.get(menuId);\n            if (!menu && menus) {\n                menus.each(function documentControllerGetMenuIterate(itemMenu)\n                {\n                    if (itemMenu.get(\"content\")) {\n                        _.each(itemMenu.get(\"content\"), function documentControllerGetSubMenuIterate(subMenu)\n                        {\n                            if (subMenu.id === menuId) {\n                                menu = new MenuModel(subMenu);\n                            }\n                        });\n                    }\n                });\n            }\n            return menu;\n        },\n\n        /**\n         * Get all rendered attributes with their root dom node\n         *\n         * @returns {*}\n         */\n        _getRenderedAttributes: function documentController_getRenderedAttributes()\n        {\n            return this._model.get(\"attributes\").chain().map(function documentController_getRenderedAttribute(currentAttribute)\n            {\n                return {\n                    \"view\": currentAttribute.haveView(),\n                    \"id\": currentAttribute.id\n                };\n            }).filter(function documentController_suppressNoView(currentAttribut)\n            {\n                return currentAttribut.view.haveView;\n            }).value();\n        },\n\n        /**\n         * Get max index of an array\n         *\n         * @param attributeArray\n         * @returns {*}\n         */\n        _getMaxIndex: function documentController_getMaxIndex(attributeArray)\n        {\n            return _.size(attributeArray.get(\"content\").max(function documentController_getMax(currentAttr)\n            {\n                return _.size(currentAttr.get(\"attributeValue\"));\n            }).get(\"attributeValue\"));\n        },\n\n        /**\n         * Activate constraint on the current document\n         * Used on the fetch of a new document\n         *\n         */\n        _initActivatedConstraint: function documentController_initActivatedConstraint()\n        {\n            var currentDocumentProperties = this.getProperties(), currentWidget = this;\n            this.activatedConstraint = {};\n            _.each(this.options.constraintList, function documentController_getActivatedConstraint(currentConstraint)\n            {\n                if (currentConstraint.documentCheck.call($(currentWidget.element), currentDocumentProperties)) {\n                    currentWidget.activatedConstraint[currentConstraint.name] = currentConstraint;\n                }\n            });\n        },\n\n        /**\n         * Activate events on the current document\n         * Used on the fetch of a new document\n         */\n        _initActivatedEventListeners: function documentController_initActivatedEvents(options)\n        {\n            var currentDocumentProperties = this.getProperties(), currentWidget = this;\n            options = options || {};\n            this.activatedEventListener = {};\n            _.each(this.options.eventListener, function documentController_getActivatedEvent(currentEvent)\n            {\n                if (!_.isFunction(currentEvent.documentCheck)) {\n                    currentWidget.activatedEventListener[currentEvent.name] = currentEvent;\n                    return;\n                }\n                if (currentEvent.documentCheck.call($(currentWidget.element), currentDocumentProperties)) {\n                    currentWidget.activatedEventListener[currentEvent.name] = currentEvent;\n                }\n            });\n            //Trigger new added ready event\n            if (this._initializedView !== false && options.launchReady !== false) {\n                this._triggerControllerEvent(\"ready\", currentDocumentProperties);\n                _.each(this._getRenderedAttributes(), function documentController_triggerRenderedAttributes(currentAttribute)\n                {\n                    var objectAttribute = currentWidget.getAttribute(currentAttribute.id);\n                    currentWidget._triggerAttributeControllerEvent(\"attributeReady\", currentAttribute,\n                        currentDocumentProperties,\n                        objectAttribute,\n                        currentAttribute.view.elements\n                    );\n                });\n            }\n        },\n\n        /**\n         * Add new event and autotrigger already done event for ready\n         *\n         * @param newEvent\n         */\n        _addAndInitNewEvents: function documentController_addAndInitNewEvents(newEvent)\n        {\n            var currentDocumentProperties, currentWidget = this, event, uniqueName, $element = $(currentWidget.element);\n            uniqueName = (newEvent.externalEvent ? \"external_\" : \"internal_\") + newEvent.name;\n            this.options.eventListener[uniqueName] = newEvent;\n\n            if (!this._initializedModel) {\n                //early event model is not ready (no trigger, or current register possible)\n                return this;\n            }\n            currentDocumentProperties = this.getProperties();\n            // Check if the event is for the current document\n            if (!_.isFunction(newEvent.documentCheck) || newEvent.documentCheck.call($element, currentDocumentProperties)) {\n                this.activatedEventListener[newEvent.name] = newEvent;\n                // Check if we need to manually trigger this callback (late registered : only for ready events)\n                if (this._initializedView !== false) {\n                    if (newEvent.eventType === \"ready\") {\n                        event = $.Event(newEvent.eventType);\n                        event.target = currentWidget.element;\n                        try {\n                            // add element as function context\n                            newEvent.eventCallback.call($element, event, currentDocumentProperties);\n                        } catch (e) {\n                            console.error(e);\n                        }\n                    }\n                    if (newEvent.eventType === \"attributeReady\") {\n                        event = $.Event(newEvent.eventType);\n                        event.target = currentWidget.element;\n                        _.each(this._getRenderedAttributes(), function documentController_triggerRenderedAttributes(currentAttribute)\n                        {\n                            var objectAttribute = currentWidget.getAttribute(currentAttribute.id);\n                            if (!_.isFunction(newEvent.attributeCheck) || newEvent.attributeCheck.apply($element, [objectAttribute])) {\n                                try {\n                                    // add element as function context\n                                    newEvent.eventCallback.call($element,\n                                        event,\n                                        currentDocumentProperties,\n                                        objectAttribute,\n                                        currentAttribute.view.elements);\n                                } catch (e) {\n                                    console.error(e);\n                                }\n                            }\n                        });\n                    }\n                }\n            }\n        },\n\n        /**\n         * Trigger attribute event\n         *\n         * Similar at trigger document event with a constraint on attribute\n         *\n         * @param eventName\n         * @param attributeInternalElement\n         * @returns {boolean}\n         */\n        _triggerAttributeControllerEvent: function documentController_triggerAttributeControllerEvent(eventName, attributeInternalElement)\n        {\n            var currentWidget = this, args = Array.prototype.slice.call(arguments, 2), event = $.Event(eventName),\n                externalEventArgument,\n                $element = $(currentWidget.element);\n            event.target = currentWidget.element;\n            // internal event trigger\n            args.unshift(event);\n            _.chain(this.activatedEventListener).filter(function documentController__filterUsableEvents(currentEvent)\n            {\n                // Check by eventType (only call callback with good eventType)\n                if (currentEvent.eventType === eventName) {\n                    //Check with attributeCheck if the function exist\n                    if (!_.isFunction(currentEvent.attributeCheck)) {\n                        return true;\n                    }\n                    return currentEvent.attributeCheck.apply($element, [attributeInternalElement, currentWidget.getProperties()]);\n                }\n                return false;\n            }).each(function documentController_applyCallBack(currentEvent)\n            {\n                try {\n                    currentEvent.eventCallback.apply($element, args);\n                } catch (e) {\n                    if (window.dcp && window.dcp.logger) {\n                        window.dcp.logger(e);\n                    } else {\n                        console.error(e);\n                    }\n                }\n            });\n            externalEventArgument = Array.prototype.slice.call(arguments, 0);\n            externalEventArgument.splice(1, 1);\n            currentWidget._triggerExternalEvent.apply(currentWidget, externalEventArgument);\n            return !event.isDefaultPrevented();\n        },\n\n        /**\n         * Trigger a controller event\n         * That kind of event are only for this widget\n         *\n         * @param eventName\n         * @returns {boolean}\n         */\n        _triggerControllerEvent: function documentController_triggerControllerEvent(eventName)\n        {\n            var currentWidget = this, args = Array.prototype.slice.call(arguments, 1), event = $.Event(eventName);\n            event.target = currentWidget.element;\n            // internal event trigger\n            args.unshift(event);\n            _.chain(this.activatedEventListener).filter(function documentController_getEventName(currentEvent)\n            {\n                return currentEvent.eventType === eventName;\n            }).each(function documentController_triggerAnEvent(currentEvent)\n            {\n                try {\n                    currentEvent.eventCallback.apply($(currentWidget.element), args);\n                } catch (e) {\n                    if (window.dcp.logger) {\n                        window.dcp.logger(e);\n                    } else {\n                        console.error(e);\n                    }\n                }\n            });\n            currentWidget._triggerExternalEvent.apply(currentWidget, arguments);\n            return !event.isDefaultPrevented();\n        },\n\n        /**\n         * Trigger event as jQuery standard events (all events are prefixed by document)\n         *\n         * @param type\n         */\n        _triggerExternalEvent: function documentController_triggerExternalEvent(type)\n        {\n            var currentWidget = this, args = Array.prototype.slice.call(arguments, 1), event = $.Event(type);\n            //prepare argument for widget event trigger (we want type, event, data)\n            // add the eventObject\n            args.unshift(event);\n            // add the type\n            args.unshift(type);\n            // concatenate other argument in one element (to respect widget pattern)\n            args[2] = args.slice(2);\n            // suppress other arguments (since they have been concatened)\n            args = args.slice(0, 3);\n            //trigger external event\n            currentWidget._trigger.apply(currentWidget, args);\n        },\n\n        /**\n         * Check if event name is valid\n         *\n         * @param eventName string\n         * @private\n         */\n        _checkEventName: function documentController_checkEventName(eventName)\n        {\n            if (_.isString(eventName) &&\n                (eventName.indexOf(\"custom:\") === 0 ||\n                    _.find(eventList, function documentController_CheckEventType(currentEventType)\n                    {\n                        return currentEventType === eventName;\n                    })\n                )) {\n                return true;\n            }\n            throw new Error(\"The event type \" + eventName + \" is not known. It must be one of \" + eventList.sort().join(\" ,\"));\n        },\n\n        /**\n         * Check if the view is initialized\n         *\n         * @private\n         */\n        _checkInitialisedView: function documentController_checkInitialised()\n        {\n            if (!this._initializedView) {\n                throw new ErrorModelNonInitialized(\"The widget view is not initialized, use fetchDocument to initialise it.\");\n            }\n        },\n\n        /**\n         * Check if the model is initialized\n         *\n         * @private\n         */\n        _checkInitialisedModel: function documentController_checkInitialisedModel()\n        {\n            if (!this._initializedModel) {\n                throw new ErrorModelNonInitialized();\n            }\n        },\n\n        _registerOutputPromise: function documentController_registerOutputPromise(documentPromise, options)\n        {\n            var currentWidget = this;\n            return new Promise(function documentController_reinitPromise(resolve, reject)\n            {\n                documentPromise.then(function documentController_reinitDone(values)\n                    {\n                        if (options && _.isFunction(options.success)) {\n                            try {\n                                if (window.console.warn) {\n                                    window.console.warn(\"Callback \\\"success\\\" is deprecated use promise instead\");\n                                }\n                                options.success.call($(currentWidget.element),\n                                    values.documentProperties || {},\n                                    currentWidget.getProperties());\n                            } catch (exception) {\n                                if (window.dcp.logger) {\n                                    window.dcp.logger(exception);\n                                } else {\n                                    console.error(exception);\n                                }\n                            }\n                        }\n                        resolve({\n                            element: $(currentWidget.element),\n                            previousDocument: values.documentProperties || {},\n                            nextDocument: currentWidget.getProperties()\n                        });\n                    }, function documentController_reinitFail(values)\n                    {\n                        var errorArguments = values.arguments;\n                        var errorMessage = {contentText: \"Undefined error\"};\n\n                        if (values.arguments) {\n                            try {\n                                if (errorArguments && errorArguments[1] && errorArguments[1].responseJSON) {\n                                    errorMessage = errorArguments[1].responseJSON.messages[0];\n                                }\n                            } catch (e) {\n\n                            }\n                            if (errorArguments && errorArguments[0] && errorArguments[0].eventPrevented) {\n                                errorMessage = {contentText: \"Event prevented\"};\n                            }\n                            if (errorArguments && errorArguments[0] && errorArguments[0].errorMessage) {\n                                errorMessage = errorArguments[0].errorMessage;\n                            }\n                        }\n                        if (options && _.isFunction(options.error)) {\n                            try {\n                                if (window.console.warn) {\n                                    window.console.warn(\"Callback \\\"error\\\" is deprecated use promise instead\");\n                                }\n                                options.error.call(\n                                    $(currentWidget.element),\n                                    values.documentProperties || {},\n                                    null, errorMessage);\n                            } catch (exception) {\n                                window.dcp.logger(exception);\n                            }\n                        }\n                        reject({\n                            element: $(currentWidget.element),\n                            previousDocument: values.documentProperties || {},\n                            nextDocument: null,\n                            errorMessage: errorMessage\n                        });\n                    }\n                );\n            });\n        },\n\n        /***************************************************************************************************************\n         * External function\n         **************************************************************************************************************/\n        /**\n         * Reinit the current document (close it and re-open it) : keep the same view, revision, etc...\n         *\n         * @param values object {\"initid\" : int, \"revision\" : int, \"viewId\" : string, \"customClientData\" : mixed}\n         * @param options object {\"success\": fct, \"error\", fct}\n         */\n        reinitDocument: function documentControllerReinitDocument(values, options)\n        {\n            var properties = this.getProperties();\n            this._checkInitialisedModel();\n            values = values || {};\n\n            //Reinit model with server values\n            _.defaults(values, {revision: properties.revision, viewId: properties.viewId, initid: properties.initid});\n\n            return this.fetchDocument(values, options);\n        },\n\n        /**\n         * Fetch a new document\n         * @param values object {\"initid\" : int, \"revision\" : int, \"viewId\" : string, \"customClientData\" : mixed}\n         * @param options object {\"success\": fct, \"error\", fct}\n         */\n        fetchDocument: function documentControllerFetchDocument(values, options)\n        {\n            var documentPromise, callBackPromise;\n            var currentWidget = this;\n            values = _.isUndefined(values) ? {} : values;\n            options = options || {};\n\n            if (!_.isObject(values)) {\n                throw new Error('Fetch argument must be an object {\"initid\":, \"revision\": , \"viewId\": }');\n            }\n\n            if (!values.initid) {\n                throw new Error('initid argument is mandatory');\n            }\n\n            if (!isNaN(values.initid)) {\n                // Convert to numeric initid is possible\n                values.initid = parseInt(values.initid);\n            }\n\n            // Use default values when fetch another document\n            _.defaults(values, {revision: -1, viewId: \"!defaultConsultation\"});\n            _.defaults(options, {force: false});\n\n            _.each(_.pick(values, \"initid\", \"revision\", \"viewId\"), function dcpDocument_setNewOptions(value, key)\n            {\n                currentWidget.options[key] = value;\n            });\n\n            if (!this._model) {\n                documentPromise = this._initializeWidget(options, values.customClientData);\n            } else {\n                if (values.customClientData) {\n                    this._model._customClientData = values.customClientData;\n                }\n\n                if (this._model.isModified() && options.force === false) {\n                    callBackPromise = this._model._promiseCallback();\n                    this._model.trigger(\"loadDocument\",\n                        this._getModelValue(),\n                        {\n                            success: callBackPromise.success,\n                            error: callBackPromise.error\n                        }\n                    );\n                    documentPromise = callBackPromise.promise;\n                } else {\n                    documentPromise = this._model.fetchDocument(this._getModelValue());\n                }\n            }\n            return this._registerOutputPromise(documentPromise, options);\n\n        },\n\n        /**\n         * Save the current document\n         * Reload the interface in the same mode\n         * @param options object {\"success\": fct, \"error\", fct, \"customClientData\" : mixed}\n         *\n         */\n        saveDocument: function documentControllerSave(options)\n        {\n            var documentPromise;\n            options = options || {};\n            this._checkInitialisedModel();\n            if (options.customClientData) {\n                this._model._customClientData = options.customClientData;\n            }\n            documentPromise = this._model.saveDocument();\n            return this._registerOutputPromise(documentPromise, options);\n        },\n\n        /**\n         * Change the workflow state of the document\n         *\n         * @param parameters\n         * @param reinitOptions\n         * @param options\n         */\n        changeStateDocument: function documentController_changeStateDocument(parameters, reinitOptions, options)\n        {\n            var documentPromise;\n            this._checkInitialisedModel();\n            if (!_.isObject(parameters)) {\n                throw new Error('changeStateDocument first argument must be an object {\"nextState\":, \"transition\": , \"values\":, \"unattended\":, \"\" }');\n            }\n            if (!_.isString(parameters.nextState) || !_.isString(parameters.transition)) {\n                throw new Error('nextState and transition arguments are mandatory');\n            }\n            documentPromise = this._initAndDisplayTransition(parameters.nextState, parameters.transition, parameters.values || null,\n                parameters.unattended || false, reinitOptions);\n            return this._registerOutputPromise(documentPromise, options);\n        },\n\n        /**\n         * Delete the current document\n         * Reload the interface in the same mode\n         * @param options object {\"success\": fct, \"error\", fct, \"customClientData\" : mixed}\n         */\n        deleteDocument: function documentControllerDelete(options)\n        {\n            var documentPromise;\n            options = options || {};\n            this._checkInitialisedModel();\n            if (options.customClientData) {\n                this._model._customClientData = options.customClientData;\n            }\n            documentPromise = this._model.deleteDocument();\n            return this._registerOutputPromise(documentPromise, options);\n        },\n\n        /**\n         * Restore the current document\n         * Reload the interface in the same mode\n         * @param options object {\"success\": fct, \"error\", fct, \"customClientData\" : mixed}\n         */\n        restoreDocument: function documentControllerRestore(options)\n        {\n            var documentPromise;\n            options = options || {};\n            this._checkInitialisedModel();\n            if (options.customClientData) {\n                this._model._customClientData = options.customClientData;\n            }\n            documentPromise = this._model.restoreDocument();\n            return this._registerOutputPromise(documentPromise, options);\n        },\n\n        /**\n         * Get a property value\n         *\n         * @param property\n         * @returns {*}\n         */\n        getProperty: function documentControllerGetDocumentProperty(property)\n        {\n            this._checkInitialisedModel();\n            if (property === \"isModified\") {\n                return this._model.isModified();\n            }\n            return this._model.getServerProperties()[property];\n        },\n\n        /**\n         * Get all the properties\n         * @returns {*}\n         */\n        getProperties: function documentControllerGetDocumentProperties()\n        {\n            var properties, ready = true;\n            try {\n                this._checkInitialisedModel();\n            } catch (e) {\n                ready = false;\n                properties = {\n                    \"notLoaded\": true\n                };\n            }\n            if (ready) {\n                properties = this._model.getServerProperties();\n                properties.isModified = this._model.isModified();\n                properties.url = window.location.href;\n            }\n\n            return properties;\n        },\n\n        /**\n         * Check if an attribute exist\n         *\n         * @param attributeId\n         * @return {boolean}\n         */\n        hasAttribute: function documentController_hasAttribute(attributeId)\n        {\n            this._checkInitialisedModel();\n            var attribute = this._model.get(\"attributes\").get(attributeId);\n            return !!attribute;\n        },\n\n        /**\n         * Get the attribute interface object\n         *\n         * @param attributeId\n         * @returns AttributeInterface\n         */\n        getAttribute: function documentControllerGetAttribute(attributeId)\n        {\n            this._checkInitialisedModel();\n            var attributeModel = this._getAttributeModel(attributeId);\n            if (!attributeModel) {\n                return undefined;\n            }\n            return new AttributeInterface(this._getAttributeModel(attributeId));\n        },\n\n        /**\n         * Get all the attributes of the current document\n         *\n         * @returns [AttributeInterface]\n         */\n        getAttributes: function documentControllerGetAttributes()\n        {\n            this._checkInitialisedModel();\n            return this._model.get(\"attributes\").map(function documentController_mapAttribute(currentAttribute)\n                {\n                    return new AttributeInterface(currentAttribute);\n                }\n            );\n        },\n\n        /**\n         * Check if a menu exist\n         *\n         * @param menuId\n         * @return {boolean}\n         */\n        hasMenu: function documentController_hasMenu(menuId)\n        {\n            this._checkInitialisedModel();\n            var menu = this._getMenuModel(menuId);\n            return !!menu;\n        },\n\n        /**\n         * Get the menu interface object\n         *\n         * @param menuId\n         * @returns MenuInterface\n         */\n        getMenu: function documentControllerGetMenu(menuId)\n        {\n            this._checkInitialisedModel();\n            var menu = this._getMenuModel(menuId);\n            if (!menu) {\n                return null;\n            }\n            return new MenuInterface(menu);\n        },\n\n        /**\n         * Get all the menu of the current document\n         *\n         * @returns [MenuInterface]\n         */\n        getMenus: function documentControllerGetMenus()\n        {\n            this._checkInitialisedModel();\n            return this._model.get(\"menus\").map(function documentController_mapMenu(currentMenu)\n                {\n                    return new MenuInterface(currentMenu);\n                }\n            );\n        },\n\n        /**\n         * Get an attribute value\n         *\n         * @param attributeId\n         * @param type string (current|previous|initial|all) what kind of value (default : current)\n         * @returns {*}\n         */\n        getValue: function documentControllerGetValue(attributeId, type)\n        {\n            var attribute;\n            this._checkInitialisedModel();\n            var attributeModel = this._getAttributeModel(attributeId);\n            if (!attributeModel) {\n                return null;\n            }\n            attribute = new AttributeInterface(attributeModel);\n            return attribute.getValue(type);\n        },\n\n        /**\n         * Get all the values\n         *\n         * @returns {*|{}}\n         */\n        getValues: function documentControllerGetValues()\n        {\n            this._checkInitialisedModel();\n            return this._model.getValues();\n        },\n\n        /**\n         * Get customData from render view model\n         * @returns {*}\n         */\n        getCustomServerData: function documentControllerGetServerCustomData()\n        {\n            this._checkInitialisedModel();\n            return this._model.get(\"customServerData\");\n        },\n        /**\n         * Add customData from render view model\n         * @returns {*}\n         */\n        addCustomClientData: function documentControllerAddCustomClientData(documentCheck, value)\n        {\n            var currentWidget = this;\n            this._checkInitialisedModel();\n            //First case no data, so documentCheck is data\n            if (_.isUndefined(value)) {\n                value = documentCheck;\n                documentCheck = {};\n            }\n            //Second case documentCheck is a function and data is object\n            if (_.isFunction(documentCheck) && _.isObject(value)) {\n                documentCheck = {\"documentCheck\": documentCheck};\n            }\n            //Third case documentCheck is an object and data is object => check if documentCheck property exist\n            if (_.isObject(value) && _.isObject(documentCheck)) {\n                documentCheck = _.defaults(documentCheck, {\n                    \"documentCheck\": function clientCustomOK()\n                    {\n                        return true;\n                    },\n                    once: true\n                });\n            } else {\n                throw new Error(\"Constraint must be an value or a function and a value\");\n            }\n            //Register the customClientData\n            _.each(value, function documentControllerAddCustomClientDataEach(currentValue, currentKey)\n            {\n                currentWidget._customClientData[currentKey] = {\n                    \"value\": currentValue,\n                    \"documentCheck\": documentCheck.documentCheck,\n                    \"once\": documentCheck.once\n                };\n            });\n        },\n        /**\n         * Get customData from render view model\n         * @returns {*}\n         */\n        setCustomClientData: function documentControllerSetCustomClientData(documentCheck, value)\n        {\n            console.error(\"this function (setCustomClientData) is deprecated\");\n            return this.addCustomClientData(documentCheck, value);\n        },\n        /**\n         * Get customData from render view model\n         * @returns {*}\n         */\n        getCustomClientData: function documentControllerSetCustomClientData(deleteOnce)\n        {\n            var values = {}, currentWidget = this, $element, properties, newCustomData = {};\n            this._checkInitialisedModel();\n            properties = this.getProperties();\n            $element = $(currentWidget.element);\n            _.each(currentWidget._customClientData, function analyzeCustomClient(currentCustom, key)\n            {\n                if (currentCustom.documentCheck.call($element, properties)) {\n                    values[key] = currentCustom.value;\n                    if (deleteOnce === true && !currentCustom.once) {\n                        newCustomData[key] = currentCustom;\n                    }\n                } else {\n                    if (deleteOnce === true) {\n                        newCustomData[key] = currentCustom;\n                    }\n                }\n            });\n            if (deleteOnce === true) {\n                currentWidget._customClientData = newCustomData;\n            }\n            return values;\n        },\n\n        /**\n         * Delete a custom data\n         * @returns {*}\n         */\n        removeCustomClientData: function documentControllerRemoveCustomClientData(key)\n        {\n            if (this._customClientData[key]) {\n                delete this._customClientData[key];\n            }\n            return this;\n        },\n        /**\n         * Set a value\n         * Trigger a change event\n         *\n         * @param attributeId string attribute identifier\n         * @param value object { \"value\" : *, \"displayValue\" : *}\n         * @returns {*}\n         */\n        setValue: function documentControllerSetValue(attributeId, value)\n        {\n            this._checkInitialisedModel();\n            var attributeModel = this._getAttributeModel(attributeId);\n            if (!attributeModel) {\n                throw new Error(\"Unable to find attribute \" + attributeId);\n            }\n            var attributeInterface = new AttributeInterface(attributeModel);\n            var index;\n            var currentValueLength;\n            var i;\n\n            if (attributeModel.getParent().get(\"type\") === \"array\") {\n                attributeInterface.setValue(value, true); // Just verify value conditions\n                if (!_.isArray(value)) {\n                    index = value.index;\n                } else {\n                    index = value.length - 1;\n                }\n                currentValueLength = attributeInterface.getValue().length;\n\n                // Add new necessary rows before set value\n                for (i = currentValueLength; i <= index; i++) {\n                    this.appendArrayRow(attributeModel.getParent(), {});\n                }\n\n            }\n            return attributeInterface.setValue(value);\n        },\n\n        /**\n         * Add a row to an array\n         *\n         * @param attributeId string attribute array\n         * @param values object { \"attributeId\" : { \"value\" : *, \"displayValue\" : * }, ...}\n         */\n        appendArrayRow: function documentControllerAddArrayRow(attributeId, values)\n        {\n            this._checkInitialisedModel();\n            var attribute = this._getAttributeModel(attributeId);\n\n            if (!attribute) {\n                throw new Error(\"Unable to find attribute \" + attributeId);\n            }\n\n            if (attribute.get(\"type\") !== \"array\") {\n                throw new Error(\"Attribute \" + attributeId + \" must be an attribute of type array\");\n            }\n            if (!_.isObject(values)) {\n                throw new Error(\"Values must be an object where each properties is an attribute of the array for \" + attributeId);\n            }\n            attribute.get(\"content\").each(function documentController_addACell(currentAttribute)\n            {\n                var newValue = values[currentAttribute.id];\n                var currentValue = currentAttribute.getValue();\n                if (_.isUndefined(newValue)) {\n                    // Set default value if no value defined\n                    currentAttribute.createIndexedValue(currentValue.length, false, ( _.isEmpty(values)));\n                } else {\n                    newValue = _.defaults(newValue, {value: \"\", displayValue: newValue.value});\n                    currentAttribute.addValue(newValue);\n                }\n            });\n        },\n\n        /**\n         * Add a row before another row\n         *\n         * @param attributeId string attribute array\n         * @param values object { \"attributeId\" : { \"value\" : *, \"displayValue\" : * }, ...}\n         * @param index int index of the row\n         */\n        insertBeforeArrayRow: function documentControllerInsertBeforeArrayRow(attributeId, values, index)\n        {\n            this._checkInitialisedModel();\n            var attribute = this._getAttributeModel(attributeId), maxValue;\n            if (!attribute) {\n                throw new Error(\"Unable to find attribute \" + attributeId);\n            }\n            if (attribute.get(\"type\") !== \"array\") {\n                throw new Error(\"Attribute \" + attributeId + \" must be an attribute of type array\");\n            }\n            if (!_.isObject(values)) {\n                throw new Error(\"Values must be an object where each properties is an attribute of the array for \" + attributeId);\n            }\n            maxValue = this._getMaxIndex(attribute);\n            if (index < 0 || index > maxValue) {\n                throw new Error(\"Index must be between 0 and \" + maxValue);\n            }\n            attribute.get(\"content\").each(function documentController_addACell(currentAttribute)\n            {\n                var currentValue = values[currentAttribute.id];\n                if (!_.isUndefined(currentValue)) {\n                    currentValue = _.defaults(currentValue, {value: \"\", displayValue: currentValue.value});\n                } else {\n                    currentValue = currentAttribute.attributes.defaultValue;\n                    if (!currentValue) {\n                        currentValue = {value: \"\", displayValue: \"\"};\n                    }\n                }\n                currentAttribute.addIndexedValue(currentValue, index);\n            });\n        },\n\n        /**\n         * Remove an array row\n         * @param attributeId string attribute array\n         * @param index int index of the row\n         */\n        removeArrayRow: function documentControllerRemoveArrayRow(attributeId, index)\n        {\n            this._checkInitialisedModel();\n            var attribute = this._getAttributeModel(attributeId), maxIndex;\n            if (!attribute) {\n                throw new Error(\"Unable to find attribute \" + attributeId);\n            }\n            if (attribute.get(\"type\") !== \"array\") {\n                throw Error(\"Attribute \" + attributeId + \" must be an attribute of type array\");\n            }\n            maxIndex = this._getMaxIndex(attribute) - 1;\n            if (index < 0 || index > maxIndex) {\n                throw Error(\"Index must be between 0 and \" + maxIndex + \" for \" + attributeId);\n            }\n            attribute.get(\"content\").each(function documentController_removeACell(currentAttribute)\n            {\n                currentAttribute.removeIndexValue(index);\n            });\n            attribute.removeIndexedLine(index);\n        },\n\n        /**\n         * Add a constraint to the widget\n         *\n         * @param options object { \"name\" : string, \"documentCheck\": function}\n         * @param callback function callback called when the event is triggered\n         * @returns {*}\n         */\n        addConstraint: function documentControlleraddConstraint(options, callback)\n        {\n            var currentConstraint, currentWidget = this, uniqueName;\n            if (_.isUndefined(callback) && _.isFunction(options)) {\n                callback = options;\n                options = {};\n            }\n            if (_.isObject(options) && _.isUndefined(callback)) {\n                if (!options.name) {\n                    throw new Error(\"When a constraint is initiated with a single object, this object needs to have the name property \".JSON.stringify(options));\n                }\n            } else {\n                _.defaults(options, {\n                    \"documentCheck\": function documentController_defaultDocumentCheck()\n                    {\n                        return true;\n                    },\n                    \"attributeCheck\": function documentController_defaultAttributeCheck()\n                    {\n                        return true;\n                    },\n                    \"constraintCheck\": callback,\n                    \"name\": _.uniqueId(\"constraint\"),\n                    \"externalConstraint\": false,\n                    \"once\": false\n                });\n            }\n            currentConstraint = options;\n            if (!_.isFunction(currentConstraint.constraintCheck)) {\n                throw new Error(\"An event need a callback\");\n            }\n            //If constraint is once : wrap it an callback that execute callback and delete it\n            if (currentConstraint.once === true) {\n                currentConstraint.eventCallback = _.wrap(currentConstraint.constraintCheck, function documentController_onceWrapper(callback)\n                {\n                    try {\n                        callback.apply(this, _.rest(arguments));\n                    } catch (e) {\n                        console.error(e);\n                    }\n                    currentWidget.removeConstraint(currentConstraint.name, currentConstraint.externalConstraint);\n                });\n            }\n            uniqueName = (currentConstraint.externalConstraint ? \"external_\" : \"internal_\") + currentConstraint.name;\n            this.options.constraintList[uniqueName] = currentConstraint;\n            this._initActivatedConstraint();\n            return currentConstraint.name;\n        },\n\n        /**\n         * List the constraint of the widget\n         *\n         * @returns {*}\n         */\n        listConstraints: function documentControllerListConstraint()\n        {\n            return this.options.constraintList;\n        },\n\n        /**\n         * Remove a constraint of the widget\n         *\n         * @param constraintName\n         * @param allKind\n         * @returns {*}\n         */\n        removeConstraint: function documentControllerRemoveConstraint(constraintName, allKind)\n        {\n            var removed = [], newConstraintList, constraintList,\n                testRegExp = new RegExp(\"\\\\\" + constraintName + \"$\");\n// jscs:disable disallowImplicitTypeConversion\n            allKind = !!allKind;\n// jscs:enable disallowImplicitTypeConversion\n            newConstraintList = _.filter(this.options.constraintList, function documentController_removeConstraint(currentConstrait)\n            {\n                if ((allKind || !currentConstrait.externalConstraint) && (currentConstrait.name === constraintName || testRegExp.test(currentConstrait.name))) {\n                    removed.push(currentConstrait);\n                    return false;\n                }\n                return true;\n            });\n            constraintList = {};\n            _.each(newConstraintList, function documentController_rebuildConstraintList(currentConstraint)\n            {\n                var uniqueName = (currentConstraint.externalConstraint ? \"external_\" : \"internal_\") + currentConstraint.name;\n                constraintList[uniqueName] = currentConstraint;\n            });\n            this.options.constraintList = constraintList;\n            this._initActivatedConstraint();\n            return removed;\n        },\n\n        /**\n         * Add an event to the widget\n         *\n         * @param eventType string kind of event\n         * @param options object { \"name\" : string, \"documentCheck\": function}\n         * @param callback function callback called when the event is triggered\n         * @returns {*|Window.options.name}\n         */\n        addEventListener: function documentControllerAddEvent(eventType, options, callback)\n        {\n            var currentEvent, currentWidget = this;\n            //options is not mandatory and the callback can be the second parameters\n            if (_.isUndefined(callback) && _.isFunction(options)) {\n                callback = options;\n                options = {};\n            }\n            // the first parameters can be the final object (chain removeEvent and addEvent)\n            if (_.isObject(eventType) && _.isUndefined(options) && _.isUndefined(callback)) {\n                currentEvent = eventType;\n                if (!currentEvent.name) {\n                    throw new Error(\"When an event is initiated with a single object, this object needs to have the name property \" + JSON.stringify(currentEvent));\n                }\n            } else {\n                currentEvent = _.defaults(options, {\n                    \"name\": _.uniqueId(\"event_\" + eventType),\n                    \"eventType\": eventType,\n                    \"eventCallback\": callback,\n                    \"externalEvent\": false,\n                    \"once\": false\n                });\n            }\n            // the eventType must be one the list\n            this._checkEventName(currentEvent.eventType);\n            // callback is mandatory and must be a function\n            if (!_.isFunction(currentEvent.eventCallback)) {\n                throw new Error(\"An event needs a callback that is a function\");\n            }\n            //If event is once : wrap it an callback that execute event and delete it\n            if (currentEvent.once === true) {\n                currentEvent.eventCallback = _.wrap(currentEvent.eventCallback, function documentController_onceWrapper(callback)\n                {\n                    currentWidget.removeEventListener(currentEvent.name, currentEvent.externalEvent);\n                    try {\n                        callback.apply(this, _.rest(arguments));\n                    } catch (e) {\n                        console.error(e);\n                    }\n                });\n            }\n            this._addAndInitNewEvents(currentEvent);\n            // return the name of the event\n            return currentEvent.name;\n        },\n\n        /**\n         * List of the events of the current widget\n         *\n         * @returns {*}\n         */\n        listEventListeners: function documentControllerListEvents()\n        {\n            return this.options.eventListener;\n        },\n\n        /**\n         * Remove an event of the current widget\n         *\n         * @param eventName string can be an event name or a namespace\n         * @param allKind remove internal/external events\n         * @returns {*}\n         */\n        removeEventListener: function documentControllerRemoveEvent(eventName, allKind)\n        {\n            var removed = [],\n                testRegExp = new RegExp(\"\\\\\" + eventName + \"$\"), newList, eventList;\n// jscs:disable\n            allKind = !!allKind;\n// jscs:enable\n            newList = _.filter(this.options.eventListener, function documentController_removeCurrentEvent(currentEvent)\n            {\n                if ((allKind || !currentEvent.externalEvent) && (currentEvent.name === eventName || testRegExp.test(currentEvent.name))) {\n                    removed.push(currentEvent);\n                    return false;\n                }\n                return true;\n            });\n            eventList = {};\n            _.each(newList, function documentController__rebuildEventList(currentEvent)\n            {\n                var uniqueName = (currentEvent.externalEvent ? \"external_\" : \"internal_\") + currentEvent.name;\n                eventList[uniqueName] = currentEvent;\n            });\n            this.options.eventListener = eventList;\n            this._initActivatedEventListeners({\"launchReady\": false});\n            return removed;\n        },\n\n        /**\n         * Trigger an event\n         *\n         * @param eventName\n         */\n        triggerEvent: function documentController_triggerEvent(eventName)\n        {\n            this._checkInitialisedModel();\n            this._checkEventName(eventName);\n            return this._triggerControllerEvent.apply(this, arguments);\n        },\n\n        /**\n         * Hide a visible attribute\n         *\n         * @param attributeId\n         */\n        hideAttribute: function documentControllerHideAttribute(attributeId)\n        {\n            this._checkInitialisedView();\n            var attributeModel = this._getAttributeModel(attributeId);\n            if (!attributeModel) {\n                console.log(\"Unable find and hide the attribute \" + attributeId);\n                return;\n            }\n            attributeModel.trigger(\"hide\");\n        },\n        /**\n         * show a visible attribute (previously hidden)\n         *\n         * @param attributeId\n         */\n        showAttribute: function documentControllerShowAttribute(attributeId)\n        {\n            this._checkInitialisedView();\n            var attributeModel = this._getAttributeModel(attributeId);\n            if (!attributeModel) {\n                console.log(\"Unable find and show the attribute \" + attributeId);\n                return;\n            }\n            attributeModel.trigger(\"show\");\n        },\n\n        /**\n         * Display a message to the user\n         *\n         * @param message\n         */\n        showMessage: function documentControllerShowMessage(message)\n        {\n            this._checkInitialisedView();\n            if (_.isString(message)) {\n                message = {\n                    type: \"info\",\n                    message: message\n                };\n            }\n            if (_.isObject(message)) {\n                message = _.defaults(message, {\n                    type: \"info\"\n                });\n            }\n            this.$notification.dcpNotification(\"show\", message.type, message);\n        },\n\n        /**\n         * Display loading bar\n         *\n         * @param message\n         * @param px\n         */\n        maskDocument: function documentController(message, px)\n        {\n            this.$loading.dcpLoading('show');\n            if (message) {\n                this.$loading.dcpLoading('setTitle', message);\n            }\n            if (px) {\n                this.$loading.dcpLoading('setPercent', px);\n            }\n        },\n\n        /**\n         * Hide loading bar\n         */\n        unmaskDocument: function documentController_unmaskDocument(force)\n        {\n            this.$loading.dcpLoading('hide', force);\n        },\n\n        /**\n         * Add an error message to an attribute\n         *\n         * @param attributeId\n         * @param message\n         * @param index\n         */\n        setAttributeErrorMessage: function documentControllersetAttributeErrorMessage(attributeId, message, index)\n        {\n            this._checkInitialisedView();\n            var attributeModel = this._getAttributeModel(attributeId);\n            if (!attributeModel) {\n                console.log(\"Unable find and show the attribute \" + attributeId);\n                return;\n            }\n            attributeModel.setErrorMessage(message, index);\n        },\n\n        /**\n         * Clean the error message of an attribute\n         *\n         * @param attributeId\n         * @param index\n         */\n        cleanAttributeErrorMessage: function documentControllercleanAttributeErrorMessage(attributeId, index)\n        {\n            this._checkInitialisedView();\n            var attributeModel = this._getAttributeModel(attributeId);\n            if (!attributeModel) {\n                console.log(\"Unable find and show the attribute \" + attributeId);\n                return;\n            }\n            attributeModel.setErrorMessage(null, index);\n        },\n\n        injectCSS: function documentController_injectCSS(cssToInject)\n        {\n            this._checkInitialisedView();\n            if (!_.isArray(cssToInject) && !_.isString(cssToInject)) {\n                throw new Error(\"The css to inject must be an array string or a string\");\n            }\n            if (_.isString(cssToInject)) {\n                cssToInject = [cssToInject];\n            }\n\n            this._model.injectCSS(cssToInject);\n        },\n\n        injectJS: function documentController_injectCSS(jsToInject)\n        {\n            this._checkInitialisedView();\n            if (!_.isArray(jsToInject) && !_.isString(jsToInject)) {\n                throw new Error(\"The js to inject must be an array string or a string\");\n            }\n            if (_.isString(jsToInject)) {\n                jsToInject = [jsToInject];\n            }\n\n            return this._model.injectJS(jsToInject);\n        }\n\n    });\n\n    return $.fn.documentController;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/documentController/documentController.js","/*global define*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'mustache'\n], function require_vheader($, _, Backbone, Mustache)\n{\n    'use strict';\n\n    return Backbone.View.extend({\n\n        className: \"dcpDocument\",\n\n        /**\n         * The current model is the document model\n         * The header template comes from template \"sections/header\"\n         */\n        headerTemplate: null,\n\n        initialize: function vHeaderInitialize()\n        {\n            this.listenTo(this.model.get(\"properties\"), 'change', this.updateHeader);\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'cleanView', this.remove);\n            this.listenTo(this.model, 'changeValue', this.documentHasChanged);\n            this.headerTemplate = this.getTemplates(\"sections\").header;\n        },\n\n        /**\n         * apply mustache template to inner content\n         * @returns {*}\n         */\n        render: function vheaderRender()\n        {\n            var currentView = this;\n            return (new Promise(_.bind(function vheaderRenderPromise(resolve, reject) {\n                var data = currentView.model.toData(), properties = currentView.model.getModelProperties(),\n                    security = properties.security || false;\n\n                data.document.properties = properties;\n\n                data.document.properties.security = security || {lock: {lockedBy: null}};\n                data.document.properties.security.lock.isLocked = (data.document.properties.security.lock.lockedBy && data.document.properties.security.lock.lockedBy.id > 0);\n\n                var headerRender = $(Mustache.render(currentView.headerTemplate || \"\", data));\n                var $header = currentView.$el;\n                $header.empty();\n                _.each(headerRender.children(), (function eachChildren(elt)\n                {\n                    $header.append(elt);\n                }));\n\n                $header.find(\".dcpDocument__header__lock, .dcpDocument__header__readonly, .dcpDocument__header__modified\").tooltip({\n                    placement: \"bottom\",\n                    html: true\n                });\n\n                return resolve(currentView);\n            }, this)));\n\n        },\n\n        /**\n         * reset mustache template\n         * update window title also\n         * @returns {*}\n         */\n        updateHeader: function vheaderUpdateHeader()\n        {\n            var doctitle = this.model.get(\"properties\").get('title');\n            if (doctitle) {\n                window.document.title = doctitle;\n            }\n            return this.render();\n        },\n\n        getTemplates: function vheadergetTemplates(key)\n        {\n            var templates = {};\n            if (this.model && this.model.get(\"templates\")) {\n                templates = this.model.get(\"templates\");\n            }\n            if (templates[key]) {\n                return templates[key];\n            }\n            if (window.dcp && window.dcp.templates && window.dcp.templates[key]) {\n                return window.dcp.templates[key];\n            }\n            throw new Error(\"Unknown template  \" + key);\n        },\n        documentHasChanged: function vheaderdocumentHasChanged()\n        {\n            var wTitle = window.document.title.replace(/^\\*+/g, \"\");\n\n            if (this.model.hasAttributesChanged()) {\n                this.$el.find(\".dcpDocument__header__modified\").show();\n                window.document.title = \"*\" + wTitle;\n            } else {\n                this.$el.find(\".dcpDocument__header__modified\").hide();\n                window.document.title = wTitle;\n            }\n            if (this.model.hasUploadingFile()) {\n                this.$el.find(\".dcpDocument__header__modified\").addClass(\"fa-spin\");\n            } else {\n                this.$el.find(\".dcpDocument__header__modified\").removeClass(\"fa-spin\");\n            }\n        }\n\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/document/header/vHeader.js","define([\n    'jquery',\n    'underscore',\n    'mustache',\n    'dcpDocument/widgets/widget',\n    'dcpDocument/widgets/history/wRevisionDiff',\n    'dcpDocument/widgets/window/wDialog'\n], function require_whistory($, _, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpDocumentHistory\", $.dcp.dcpDialog, {\n        options: {\n            documentId: 0,\n            window: {\n                modal: true,\n                title: \"Document history\"\n            },\n            labels: {\n                version: \"Version\",\n                revision: \"Rev\",\n                state: \"State\",\n                activity: \"Activity\",\n                owner: \"Owner\",\n                code: \"Code\",\n                date: \"Date\",\n                diff: \"Diff\",\n                level: \"Level\",\n                message: \"Message\",\n                pastRevision: \"\",\n                showDetail: \"Show details\",\n                hideDetail: \"Hide details\",\n                showNotice: \"Show notices\",\n                hideNotice: \"Hide notices\",\n                noOneNotice: \"No one notices\",\n                filterMessages: \"Filter messages\",\n                linkRevision: \"See revision number #\",\n                historyTitle: \"History for {{title}}\",\n                loading: \"Loading ...\",\n                revisionDiffLabels: {}\n            }\n        },\n        htmlCaneva: function dcpDocumentHistoryhtmlCaneva()\n        {\n            return '<table class=\"history-main\"><thead>' +\n                '<tr class=\"history-header\">' +\n                '<th class=\"history-header--date\"/>' +\n                '<th class=\"history-header--message\"/>' +\n                '<th class=\"history-header--owner\"/>' +\n                '<th class=\"history-header--version\"/>' +\n                '<th class=\"history-header--revision\"/>' +\n                '<th class=\"history-header--code\"/>' +\n                '<th class=\"history-header--level\"/>' +\n                '<th class=\"history-header--diff\"/>' +\n                '</tr>' +\n                '</thead></table>';\n        },\n\n        element: null,\n        _create: function dcpDocumentHistory_create()\n        {\n            var widget = this, $widget = $(this);\n\n            this.element.html(this.htmlCaneva());\n            require.ensure(['datatables'], function dcpDocumentWHistory_initTable()\n            {\n                require('datatables.net-bs4/css/dataTables.bootstrap4.css');\n                require('datatables');\n                widget._initDatatable();\n            }, \"ensureDatatables\");\n\n            this.element.data(\"dcpDocumentHistory\", this);\n\n            this._super();\n\n            this.element.on(\"click\" + this.eventNamespace, \".history-button-showdetail\", function whistoryShowDetail()\n            {\n                var noticeButton = widget.element.find(\".history-button-shownotice\");\n                var noticeShowed = noticeButton.data(\"showNotice\");\n                if ($widget.data(\"showDetail\")) {\n                    $widget.data(\"showDetail\", false);\n                    $widget.data(\"showNotice\", false);\n                    $(this).text(widget.options.labels.showDetail).removeClass(\"btn-primary\");\n                    widget.element.find(\".history-comment\").hide();\n\n                    noticeButton.attr(\"disabled\", \"disabled\").removeClass(\"btn-primary\").text(widget.options.labels.showNotice);\n                } else {\n                    $widget.data(\"showDetail\", true);\n                    widget.element.find(\".history-comment\").show();\n                    if (!noticeShowed) {\n                        widget.element.find(\".history-level--notice\").hide();\n                    }\n                    $(this).text(widget.options.labels.hideDetail).addClass(\"btn-primary\");\n                    noticeButton.removeAttr(\"disabled\");\n                }\n            });\n            this.element.on(\"click\" + this.eventNamespace, \".history-button-shownotice\", function whistoryShowNotice()\n            {\n                var $notices = widget.element.find(\".history-level--notice\");\n                if ($widget.data(\"showNotice\")) {\n                    $widget.data(\"showNotice\", false);\n                    $(this).text(widget.options.labels.showNotice).removeClass(\"btn-primary\");\n                    widget.element.find(\".history-level--notice\").hide();\n                } else {\n                    $widget.data(\"showNotice\", true);\n                    if ($notices.length > 0) {\n                        $notices.show();\n                        $(this).text(widget.options.labels.hideNotice).addClass(\"btn-primary\");\n                    } else {\n\n                        $(this).text(widget.options.labels.noOneNotice);\n                    }\n\n                }\n            });\n            this.element.on(\"click\" + this.eventNamespace, \".history-diff-input\", function whistoryShowDiff()\n            {\n                var selectedDiff = widget.element.find(\".history-diff-input:checked\");\n\n                if (selectedDiff.length === 2) {\n                    widget.element.find(\".history-diff-input:not(:checked)\").attr(\"disabled\", \"disabled\");\n                    var $diffTarget = $('<div class=\"revision-diff\"/>');\n                    var diffWidget = $diffTarget.dcpRevisionDiff({\n                        documentId: widget.options.documentId,\n                        firstRevision: $(selectedDiff.get(1)).data(\"revision\"),\n                        secondRevision: $(selectedDiff.get(0)).data(\"revision\"),\n                        window: {\n                            width: \"70%\",\n                            height: \"70%\",\n                            title: widget.options.labels.revisionDiffLabels.title\n                        },\n                        labels: widget.options.labels.revisionDiffLabels\n                    }).data(\"dcpRevisionDiff\");\n\n                    diffWidget.open();\n\n                } else\n                    if (selectedDiff.length < 2) {\n                        widget.element.find(\".history-diff-input\").removeAttr(\"disabled\", \"disabled\");\n                    }\n            });\n\n            this.element.on(\"click\" + this.eventNamespace, \"a[data-document-id]\", function whistoryShowDocument(event)\n            {\n                var docid = $widget.data(\"document-id\");\n                if (docid) {\n                    event.preventDefault();\n                    widget.element.trigger(\"viewRevision\", {\n                        initid: docid,\n                        revision: parseInt($widget.data(\"revision\"))\n                    });\n                }\n            });\n        },\n\n        _fillDataTable: function dcpDocumentHistory_fillDataTable(data)\n        {\n            var myData = [];\n\n            this.dialogWindow.setOptions({\n                title:Mustache.render(this.options.labels.historyTitle,data.data.history[0].properties)\n            });\n\n            _.each(data.data.history, function whistoryFillRevision(revisionInfo)\n            {\n                myData.push({\n                    \"version\": revisionInfo.properties.version,\n                    \"revision\": revisionInfo.properties.revision,\n                    \"code\": '',\n                    \"level\": 'revision',\n                    \"message\": revisionInfo.properties,\n                    \"owner\": revisionInfo.properties.owner.title,\n                    \"date\": revisionInfo.properties.revisionDate,\n                    \"diff\": 1,\n                    \"color\": revisionInfo.properties.state.color,\n                    \"DT_RowClass\": \"history-level--revision\"\n                });\n                _.each(revisionInfo.messages, function whistoryFillMessage(message)\n                {\n                    myData.push({\n                        \"version\": '',\n                        \"revision\": '',\n                        \"code\": message.code,\n                        \"level\": message.level,\n                        \"message\": message.comment,\n                        \"owner\": message.uname,\n                        \"date\": message.date,\n                        \"diff\": 0,\n                        \"DT_RowClass\": \"history-comment history-level--\" + message.level + (revisionInfo.properties.status === \"fixed\" ? \" history-comment--fixed\" : \"\")\n                    });\n                });\n            });\n\n            return myData;\n        },\n\n        _initDatatable: function dcpDocumentHistory_initDatatable()\n        {\n\n            var historyWidget = this;\n            this.element.find('.history-main').dataTable({\n                \"autoWidth\": false,\n                \"ordering\": false,\n                \"dom\": \"<'history-head'<'history-buttons'>f>rtip\",\n                \"paging\": false,\n                // \"scrollY\": \"200px\",\n                \"scrollCollapse\": false,\n                \"info\": false,\n                \"language\": {\n                    \"search\": \" \",\n                    \"loadingRecords\": this.options.labels.loading\n                },\n                \"columns\": [\n                    {\n                        data: \"date\",\n                        name: \"date\",\n                        title: historyWidget.options.labels.date,\n                        className: \"history-date\",\n                        \"render\": function whistoryRenderDate(data)\n                        {\n                            var theDate = new Date(data.substr(0, 10));\n                            // The time is not manage by date because each navigator defer with timezone\n                            return kendo.toString(theDate, \"D\") + ' ' + data.substr(11, 8);\n                        }\n                    },\n                    {\n                        data: \"message\",\n                        name: \"message\",\n                        title: historyWidget.options.labels.message,\n                        className: \"history-message\",\n                        render: function whistoryRenderMessage(data)\n                        {\n                            if (_.isObject(data)) {\n                                if (data.state.reference) {\n\n                                    return '<div class=\"history-state\"><span class=\"history-state-color\" style=\"background-color:' + data.state.color + '\" >&nbsp;</span>' + '<span class=\"history-state-label\">' +\n                                        (data.status === \"fixed\" ? data.state.stateLabel : data.state.activity) +\n                                        '</span></div>';\n                                }\n                                return $(\"<div/>\").text(data.title).html();\n                            } else {\n                                return $(\"<div/>\").text(data).html();\n                            }\n                        }\n                    },\n                    {\n                        data: \"owner\",\n                        name: \"owner\",\n                        title: historyWidget.options.labels.owner,\n                        className: \"history-owner\",\n                        render: function whistoryEncodeMessage(data) {\n                             return $(\"<div/>\").text(data).html();\n                        }\n                    },\n                    {\n                        data: \"version\",\n                        name: \"version\",\n                        title: historyWidget.options.labels.version,\n                        className: \"history-version\",\n                        visible: false,\n                        render: function whistoryEncodeMessage(data) {\n                            return $(\"<div/>\").text(data).html();\n                        }\n                    },\n                    {\n                        data: \"revision\",\n                        name: \"revision\",\n                        title: historyWidget.options.labels.revision,\n                        className: \"history-revision\",\n                        render: function whistoryRenderRevision(data)\n                        {\n                            if (data !== '') {\n                                return '<a class=\"history-revision-link btn btn-default\" href=\"api/v1/documents/' +\n                                    historyWidget.options.documentId +\n                                    '/revisions/' + data + '.html\"' +\n                                    'data-document-id=\"' + historyWidget.options.documentId + '\" ' +\n                                    'data-revision=\"' + data + '\"' +\n                                    '>' +\n                                    historyWidget.options.labels.linkRevision.replace('#', data) + '</a>';\n                            } else {\n                                return data;\n                            }\n                        }\n                    },\n                    {\n                        data: \"code\",\n                        name: \"code\",\n                        title: historyWidget.options.labels.code,\n                        className: \"history-code\",\n                        visible: false,\n                        render: function whistoryEncodeMessage(data) {\n                            return $(\"<div/>\").text(data).html();\n                        }\n                    },\n                    {\n                        data: \"level\",\n                        name: \"level\",\n                        title: historyWidget.options.labels.level,\n                        className: \"history-level\",\n                        visible: false,\n                        render: function whistoryEncodeMessage(data) {\n                            return $(\"<div/>\").text(data).html();\n                        }\n                    },\n                    {\n                        data: \"diff\",\n                        name: \"diff\",\n                        title: historyWidget.options.labels.diff,\n                        className: \"history-diff\",\n                        render: function whistoryRenderDiff(data, renderType, allData)\n                        {\n\n                            if (data === 1) {\n                                return '<input class=\"history-diff-input\" data-revision=\"' + allData.revision + '\" type=\"checkbox\"/>';\n                            } else {\n                                return '';\n                            }\n                        }\n                    }\n                ],\n\n                \"drawCallback\": function whistorydrawCallback()\n                {\n\n                    var noticeShowed = historyWidget.element.find(\".history-button-shownotice\").data(\"showNotice\");\n                    var detailShowed = historyWidget.element.find(\".history-button-showdetail\").data(\"showDetail\");\n\n                    if (detailShowed) {\n                        historyWidget.element.find(\".history-comment\").show();\n                        if (!noticeShowed) {\n                            historyWidget.element.find(\".history-level--notice\").hide();\n                        }\n                    } else {\n                        historyWidget.element.find(\".history-comment\").hide();\n\n                    }\n                },\n\n                \"initComplete\": function whistoryinitComplete()\n                {\n                    var api = this.api();\n                    var data = api.rows({page: 'current'}).data();\n                    // Output the data for the visible rows to the browser's console\n\n                    // show version if not null in one row\n                    var showVersion = false;\n                    var showState = false;\n                    var onlyOneRevision = true;\n                    for (var i = 0; i < data.length; i++) {\n                        if (data[i].version) {\n                            showVersion = true;\n                        }\n                        if (data[i].revision > 0) {\n                            onlyOneRevision = false;\n\n                        }\n                        if (data[i].message && data[i].message.state && data[i].message.state.reference) {\n                            showState = true;\n                        }\n                    }\n                    if (onlyOneRevision) {\n                        //api.column(\"revision:name\").visible(!onlyOneRevision);\n                        historyWidget.element.find(\".history-diff-input\").attr(\"disabled\", \"disabled\");\n                    }\n\n                    if (showVersion) {\n                        api.column(\"version:name\").visible(true);\n                    }\n                    if (showState) {\n                        // Change Label\n                        historyWidget.element.find(\".history-header--message\").html(historyWidget.options.labels.activity);\n                    }\n                    var fixedRevisionRow = historyWidget.element.find(\".history-level--revision\").get(1);\n                    if (fixedRevisionRow) {\n                        var trHead = historyWidget.element.find(\".history-header\").clone();\n                        $('<tr class=\"history-separator\"><td class=\"history-separator-cell\" colspan=\"' + $(trHead).find('th').length + '\"><span>' +\n                            historyWidget.options.labels.pastRevision +\n                            '</span>' +\n                            '</td></tr>').insertBefore(fixedRevisionRow);\n                        $(trHead).insertBefore(fixedRevisionRow);\n                        if (showState) {\n                            $($(\".history-header--message\").get(1)).html(historyWidget.options.labels.state);\n                        }\n                    }\n                    historyWidget.element.find(\".history-comment\").hide();\n                    historyWidget.element.find(\".odd\").removeClass(\"odd\");\n                    historyWidget.element.find(\".even\").removeClass(\"even\");\n                    historyWidget.element.find(\".dataTables_filter input\").addClass(\"form-control form-control-sm\");\n\n                    if (historyWidget.element.find('.history-button-shownotice').length === 0) {\n                        var $buttons=historyWidget.element.find(\".history-buttons\");\n\n                            $buttons.append($('<button class=\"history-button-showdetail btn btn-secondary btn-sm\" >' + historyWidget.options.labels.showDetail + '</button>'));\n                            $buttons.append($('<button disabled=\"disabled\" class=\"history-button-shownotice btn btn-outline-secondary btn-sm\" >' + historyWidget.options.labels.showNotice + '</button>'));\n\n\n                        historyWidget.element.find(\".dataTables_filter input\").attr(\"placeholder\", historyWidget.options.labels.filterMessages);\n                    }\n\n\n\n                },\n\n                \"ajax\": function whistory_getData(data, callback)\n                {\n\n                    $.getJSON(\"api/v1/documents/\" + historyWidget.options.documentId + '/history/').\n                    done(function whistory_getDataDone(response)\n                    {\n                        var tableData = historyWidget._fillDataTable(response);\n                        callback(\n                            {data: tableData}\n                        );\n                    }).fail(function whistory_getDataFail(response)\n                    {\n                        var result = JSON.parse(response.responseText);\n                        _.each(result.messages, function whistory_getDataParseMessage(error)\n                        {\n                            if (error.code === \"CRUD0219\" && error.uri) {\n                                // redirect with the good trash uri\n                                $.getJSON(error.uri.replace('.json', '') + '/history/').\n                                done(function whistory_getDataRedirect(response)\n                                {\n                                    var tableData = historyWidget._fillDataTable(response);\n                                    callback(\n                                        {data: tableData}\n                                    );\n                                }).fail(function whistory_getDataFail(response)\n                                {\n                                    var result = JSON.parse(response.responseText);\n                                    _.each(result.messages, function whistory_getDataFailParseMessage(error)\n                                    {\n                                        if (error.type === \"error\") {\n                                            $('body').trigger(\"notification\", {\n                                                type: error.type,\n                                                message: error.contentText\n                                            });\n                                        }\n                                    });\n                                    console.error(\"fail\", response);\n                                });\n                            } else\n                                if (error.type === \"error\") {\n                                    $('body').trigger(\"notification\", {\n                                        type: error.type,\n                                        message: error.contentText\n                                    });\n                                }\n                        });\n                        console.error(\"fail\", response);\n                    });\n                }\n            }).addClass('table table-condensed table-bordered table-hover');\n\n        },\n\n        _destroy: function dcpDocumentHistory_destroy()\n        {\n            var $history = this.element.find('.history-main');\n\n            if ($history.DataTable) {\n                $history.DataTable().destroy();\n            }\n            this._super();\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/history/wHistory.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'mustache',\n            'dcpDocument/widgets/attributes/file/wFile'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window.Mustache);\n    }\n}(window, function wImageWidget($, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpImage\", $.dcp.dcpFile, {\n\n        options: {\n            type: \"image\",\n            labels: {\n                dropFileHere: \"Drop image here\",\n                placeHolder: \"Click to upload an image\",\n                tooltipLabel: \"Choose image\",\n                downloadLabel: \"Download the image\"\n            },\n            renderOptions: {\n                thumbnailSize: \"100x100\"\n            }\n        },\n\n        _initDom: function wImageInitDom()\n        {\n            if (this.getMode() === \"read\") {\n                if (this.options.attributeValue.url) {\n                    if (!this.options.renderOptions.htmlLink.url) {\n                        if (this.options.renderOptions.thumbnailSize ) {\n                            var reSize = /sizes\\/([^\\/]+)/;\n                            this.options.attributeValue.thumbnail=this.options.attributeValue.thumbnail.replace(reSize,\"sizes/\"+this.options.renderOptions.thumbnailSize)+\".png\";\n\n                        } else\n                            if (!this.options.renderOptions.thumbnailSize) {\n                                this.options.attributeValue.thumbnail = this.options.attributeValue.url;\n                            }\n                    }\n\n                }\n            }\n            if (this.options.attributeValue.thumbnail) {\n                this.options.attributeValue.hash = this.options.attributeValue.creationDate.replace(/[ :-]/g, \"\");\n                this.options.attributeValue.thumbnail+='?c='+this.options.attributeValue.hash ;\n            }\n            this._super();\n        },\n\n        _initEvent: function wFileInitEvent()\n        {\n            this._super();\n            if (this.getMode() === \"read\") {\n                this._initDisplayEvent();\n            }\n\n        },\n\n        _initDisplayEvent: function wImageinitDisplayEvent()\n        {\n            var scope = this;\n            var htmlLink = this.getLink();\n            this.element.off(\"click\");\n            this.element.on(\"click\" + this.eventNamespace, '.dcpAttribute__content__link', function wImageClick(event)\n            {\n\n                if (htmlLink.target === \"_dialog\") {\n                    event.preventDefault();\n                    var index = $(this).data(\"index\");\n                    var bdw = $('<div class=\"dcpImage-window\"><img class=\"img-responsive\" src=\"' + $(this).attr(\"href\") + '\"/></div>');\n                    $('body').append(bdw);\n                    // $(this).attr(\"href\"),\n                    var dw = bdw.kendoWindow({\n                        title: scope.options.attributeValue.displayValue,\n                        width: htmlLink.windowWidth,\n                        height: htmlLink.windowHeight,\n                        iframe: false,\n                        actions: [\n                            \"Maximize\",\n                            \"Close\"\n                        ]\n                    });\n\n                    dw.data(\"kendoWindow\").center().open();\n                }\n            });\n        },\n\n        /**\n         * Condition before upload file\n         * @returns {boolean}\n         */\n        uploadCondition: function wImageUploadCondition(file)\n        {\n            if (file.type.substr(0, 5) !== \"image\") {\n                this.setError(\"Invalid image file\");\n                return false;\n            }\n            this.setError(null);\n            return true;\n        },\n\n        getType: function wImageGetType()\n        {\n            return \"image\";\n        }\n\n    });\n\n    return $.fn.dcpImage;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/image/wImage.js","/*global define*/\n// use \"text!dcpContextRoot/api/v1/i18n/DOCUMENT\" to get only DDUI translation\n\nwindow.dcp = window.dcp || {};\n\n(function umdRequire(root, requireFunction)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([], requireFunction);\n    }\n    root.dcp.translatorFactory = requireFunction([]);\n}(window, function require_translatorFactory()\n{\n    \"use strict\";\n\n    var isString = function isString(obj)\n    {\n        return typeof obj === 'string';\n    };\n\n    return function catalog(translation)\n    {\n        if (isString(translation)) {\n            try {\n                translation = JSON.parse(translation);\n            } catch (e) {\n                translation = {data: {catalog: {}}};\n                console.error(\"Locale catalog error : \" + e.message);\n            }\n        }\n\n        return {\n            _catalog: translation.data.catalog,\n            _locale: translation.data.locale,\n\n            /**\n             * Return key translation\n             * @param key text to translate\n             * @returns string\n             */\n            _: function i18n_gettext(key)\n            {\n                if (key && this._catalog[key]) {\n                    return this._catalog[key];\n                }\n                return key;\n            },\n            /**\n             * Return key translation in context\n             * @param key text to translate\n             * @param ctxt context\n             * @returns {*}\n             */\n            ___: function i18n_pgettext(key, ctxt)\n            {\n                if (key && this._catalog && this._catalog._msgctxt_ && this._catalog._msgctxt_[ctxt] && this._catalog._msgctxt_[ctxt][key]) {\n                    return this._catalog._msgctxt_[ctxt][key];\n                }\n                return key;\n            },\n            /**\n             * Return some info on the current locale\n             * \n             * @returns {locale|{culture}|*|string|string}\n             */\n            getLocale: function i18n_getLocale()\n            {\n                return this._locale;\n            }\n        };\n    };\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/i18n/translatorFactory.js","(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'dcpDocument/widgets/attributes/date/wDate'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery);\n    }\n}(window,  function requireTimestamp($) {\n    'use strict';\n\n    $.widget(\"dcp.dcpTimestamp\", $.dcp.dcpDate, {\n\n        options: {\n            type: \"timestamp\",\n            minDate: new Date(1700, 0, 1),\n            renderOptions: {\n                kendoDateConfiguration: {\n                    timeFormat: \"HH:mm\", //24 hours format\n                    parseFormats: [\"yyyy-MM-dd HH:mm:ss\", \"yyyy-MM-ddTHH:mm:ss\", \"yyyy-MM-ddTHH:mm\"],\n                    format:null\n                }\n            }\n        },\n\n        kendoWidgetClass: \"kendoDateTimePicker\",\n\n        _initDom: function wTimeStampInitDom() {\n            if (this.options.attributeValue.value) {\n                // Add T (iso date) if not set\n\n                this.options.attributeValue.value= this.replaceAt(this.options.attributeValue.value, 10, 'T');\n\n            }\n            this._super();\n        },\n\n        replaceAt : function wTimeStampReplaceAt(s, n, t) {\n            return s.substring(0, n) + t + s.substring(n + 1);\n        },\n\n        setValue: function wTimeStampSetValue(value) {\n            if (value.value) {\n                // Add T (iso date) if not set\n                value.value= this.replaceAt(value.value, 10, 'T');\n            }\n            this._super(value);\n        },\n\n        _activateDate: function wTimeStamp_activateDate(inputValue) {\n            var currentWidget = this;\n            var kendoOptions = this.getKendoOptions();\n            kendoOptions.change = function wTimeStamp_onChange() {\n                if (this.value() !== null) {\n                    // only valid date are setted\n                    // wrong date are set by blur event\n                    var isoDate = currentWidget.convertDateToPseudoIsoString(this.value());\n                    // Need to set by widget to use raw date\n                    currentWidget.setValue({value: isoDate, displayValue: inputValue.val()});\n                }\n            };\n            inputValue.kendoDateTimePicker(kendoOptions);\n\n            this._controlDate(inputValue);\n        },\n\n        convertDateToPseudoIsoString: function wTimeStamp_convertDateToPseudoIsoString(dateObject) {\n            if (dateObject && typeof dateObject === \"object\") {\n                return dateObject.getFullYear() + '-' +\n                    this.padNumber(dateObject.getMonth() + 1) + '-' +\n                    this.padNumber(dateObject.getDate()) + 'T' +\n                    this.padNumber(dateObject.getHours()) + ':' +\n                    this.padNumber(dateObject.getMinutes()) + ':' +\n                    this.padNumber(dateObject.getSeconds());\n            }\n            return '';\n        },\n\n        formatDate: function wTimeStamp_formatDate(value) {\n            if (this.options.renderOptions.kendoDateConfiguration.format) {\n                return kendo.toString(value, this.options.renderOptions.kendoDateConfiguration.format);\n            }\n            return kendo.toString(value, \"g\");\n        },\n\n        getType: function wTimeStamp_getType() {\n            return \"timestamp\";\n        }\n\n    });\n\n    return $.fn.dcpTimestamp;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/timestamp/wTimestamp.js","define([\n    \"underscore\",\n    \"dcpDocument/models/mAttribute\",\n    'dcpDocument/controllerObjects/constraintHandler'\n], function require_mAttributeData(_, AttributeModel, ConstraintHandler)\n{\n    'use strict';\n\n    return AttributeModel.extend({\n        typeModel: \"ddui:attributeData\",\n        defaults: {\n            isValueAttribute: true,\n            multiple: false,\n            attributeValue: null\n        },\n\n        initialize: function mAttributeinitialize()\n        {\n            this.listenTo(this, \"change:attributeValue\", this.checkConstraint);\n            this._initialAttributeValue = this.get(\"attributeValue\") || {value: null};\n            AttributeModel.prototype.initialize.apply(this, arguments);\n        },\n\n        getValue: function mAttributegetValue()\n        {\n            return this.get(\"attributeValue\");\n        },\n        setValue: function mAttributesetValue(value, index)\n        {\n            var currentValue, idx;\n            if (this.get(\"multiple\") && !_.isNumber(index) && !_.isArray(value)) {\n                throw new Error(\"You need to add an index to set value for a multiple id \" + this.id);\n            }\n            if (this.get(\"multiple\") && index >= 0) {\n                currentValue = _.clone(this.get(\"attributeValue\"));\n                if (currentValue.length < index) {\n                    for (idx=currentValue.length; idx<index; idx++) {\n                        currentValue.push({value:null, displayValue:''});\n                    }\n                }\n                currentValue[index] = value;\n                this.set(\"attributeValue\", currentValue);\n            } else {\n                this.set(\"attributeValue\", value);\n            }\n        },\n\n        addValue: function mAttributeaddValue(value, index, options)\n        {\n            var currentValue;\n            if (this.hasMultipleOption() && !_.isNumber(index)) {\n                throw new Error(\"You need to add an index to set value for a multiple id \" + this.id);\n            }\n            // clone array references\n            currentValue = _.toArray(_.map(this.get(\"attributeValue\"), _.clone));\n\n            if (this.hasMultipleOption() && index >= 0) {\n                //Init the multiple value if void\n                if (!currentValue[index]) {\n                    currentValue[index] = [];\n                }\n                currentValue[index].push(value);\n                this.set(\"attributeValue\", currentValue, options);\n            } else {\n                currentValue.push(value);\n                this.set(\"attributeValue\", currentValue, options);\n            }\n        },\n\n        removeIndexValue: function mAttributeremoveIndexValue(index, options)\n        {\n            var currentValue, oldValue;\n            if (!this.get(\"multiple\") || !_.isNumber(index)) {\n                throw new Error(\"You need to add an index to set value for a multiple id \" + this.id);\n            }\n            oldValue = this.get(\"attributeValue\");\n            currentValue = _.clone(this.get(\"attributeValue\"));\n            _.each(currentValue, function mAttributeRemoveIndex(value, currentIndex)\n            {\n                currentIndex = parseInt(currentIndex, 10);\n                if (currentIndex === index) {\n                    delete currentValue[index];\n                }\n                if (currentIndex > index && oldValue[currentIndex]) {\n                    delete currentValue[currentIndex];\n                    currentValue[currentIndex - 1] = oldValue[currentIndex];\n                }\n            });\n            currentValue = _.filter(currentValue, function removeUndefined(currentValue)\n            {\n                return !_.isUndefined(currentValue);\n            });\n            this.set(\"attributeValue\", currentValue, {notUpdateArray: true});\n        },\n\n        /**\n         * Add an indexed value with or without default value\n         * Used by attributes in array to add new line or duplicate line\n         *\n         * @param index\n         * @param copy\n         * @param updateArray set to true to resize array widget\n         */\n        createIndexedValue: function mAttributeCreateIndexedValue(index, copy, updateArray)\n        {\n            var currentValue, defaultValue;\n            var newValue;\n            if (!this.get(\"multiple\") || !_.isNumber(index)) {\n                throw new Error(\"You need to add an index to set value for a multiple id \" + this.id);\n            }\n            currentValue = _.toArray(_.map(this.get(\"attributeValue\"), _.clone));\n            defaultValue = this.attributes.defaultValue;\n            if (copy) {\n                newValue = _.clone(currentValue[index]);\n            } else\n                if (defaultValue) {\n                    newValue = defaultValue;\n                } else\n                    if (this.hasMultipleOption()) {\n                        newValue = [];\n                    } else {\n                        newValue = {value: null, displayValue: ''};\n                    }\n\n            if (index > currentValue.length) {\n                currentValue.push(newValue);\n            } else {\n                currentValue.splice(index, 0, newValue);\n            }\n            this.set(\"attributeValue\", currentValue, {notUpdateArray: !updateArray});\n        },\n\n        /**\n         * Add values to indexed element\n         * Used by attributes in array to add new line or duplicate line\n         *\n         * @param newValue\n         * @param index\n         */\n        addIndexedValue: function mAttributeAddIndexedValue(newValue, index)\n        {\n            var currentValue;\n            if (!_.isNumber(index)) {\n                throw new Error(\"You need to add an index to set value indexed value \" + this.id);\n            }\n            currentValue = _.toArray(_.map(this.get(\"attributeValue\"), _.clone));\n\n            if (index > currentValue.length) {\n                currentValue.push(newValue);\n            } else {\n                currentValue.splice(index, 0, newValue);\n            }\n            this.set(\"attributeValue\", currentValue);\n        },\n\n        /**\n         * move a value in multiple value attribute\n         * @param fromIndex\n         * @param toIndex\n         */\n        moveIndexValue: function mAttributemoveIndexValue(fromIndex, toIndex)\n        {\n            var currentValue, fromValue;\n            if (!this.get(\"multiple\")) {\n                throw new Error(\"Move only multiple attribute : \" + this.id);\n            }\n            currentValue = _.toArray(this.get(\"attributeValue\"));\n            fromValue = _.clone(currentValue[fromIndex]);\n\n            currentValue.splice(fromIndex, 1);\n            currentValue.splice(toIndex, 0, fromValue);\n\n            this.set(\"attributeValue\", currentValue);\n            this.trigger(\"moved\", {from: fromIndex, to: toIndex});\n\n        },\n\n        getNbLines: function mAttributegetNbLines()\n        {\n            var nbLines = 0;\n            if (!this.get(\"multiple\")) {\n                return -1;\n            }\n            _.each(this.get(\"attributeValue\"), function mAttributeGetMaxLine(value, index)\n            {\n                if (index > nbLines) {\n                    nbLines = index;\n                }\n            });\n            return nbLines;\n        },\n\n        isInArray: function mAttributeisInArray()\n        {\n            var aparent = this.getParent();\n            return (aparent && aparent.attributes && aparent.attributes.type === \"array\");\n        },\n\n        checkConstraint: function mAttributecheckConstraint(config)\n        {\n            var response = new ConstraintHandler(), responseText = {};\n            var scope = this;\n            config = _.extend({clearError: this.hasInternalError, displayError: true}, config);\n            this.trigger(\"constraint\", {model: this, response: response, value: this.get(\"attributeValue\")});\n            if (response.hasConstraintMessages()) {\n\n                _.each(response.getConstraintMessages(), function mAttributeData_checkConstraintElement(currentResponse)\n                {\n                    responseText[currentResponse.index] = responseText[currentResponse.index] || '';\n                    responseText[currentResponse.index] += currentResponse.message + \" \";\n                });\n                if (config.displayError) {\n                    this.hasInternalError = true;\n                    // Force redraw\n                    scope.setErrorMessage(null); // jshint ignore:line\n\n                    _.each(responseText, function mAttributeData_checkErrorMessage(text, index)\n                    {\n                        index = parseInt(index);\n                        scope.setErrorMessage(text, index);\n                    });\n                }\n                return false;\n            } else {\n                if (config.clearError) {\n                    this.setErrorMessage(null);\n                    this.hasInternalError = false;\n                }\n                return true;\n            }\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mAttributeData.js","/*global define*/\ndefine([\n    \"underscore\"\n], function require_transitionInterface(_)\n{\n    'use strict';\n\n    var TransitionInterfacePrototype = function TransitionInterfacePrototype()\n    {\n\n    };\n\n    TransitionInterfacePrototype.prototype.getValues = function TransitionInterfacePrototype_getValues() {\n        if (!this._TransitionModel) {\n            return null;\n        }\n        return this._TransitionModel.toJSON();\n    };\n\n    TransitionInterfacePrototype.prototype.hide = function TransitionInterfacePrototype_hide()\n    {\n        if (!this._TransitionModel) {\n            return null;\n        }\n        return this._TransitionModel.trigger(\"hide\");\n    };\n\n    TransitionInterfacePrototype.prototype.show = function TransitionInterfacePrototype_show()\n    {\n        if (!this._TransitionModel) {\n            return null;\n        }\n        return this._TransitionModel.trigger(\"show\");\n    };\n\n    TransitionInterfacePrototype.prototype.close = function TransitionInterfacePrototype_close()\n    {\n        if (!this._TransitionModel) {\n            return null;\n        }\n        return this._TransitionModel.trigger(\"close\");\n    };\n\n    var TransitionInterface = function TransitionInterface(transitionModel, $el, nextState, transition)\n    {\n        this._TransitionModel = transitionModel;\n        this.$el = $el;\n        this.nextState = nextState;\n        this.transition = transition;\n        TransitionInterfacePrototype.call(this);\n    };\n\n    TransitionInterface.prototype = Object.create(TransitionInterfacePrototype.prototype);\n    TransitionInterface.prototype.constructor = TransitionInterfacePrototype;\n\n    return TransitionInterface;\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/controllerObjects/transitionInterface.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone'\n], function (_, Backbone) {\n    'use strict';\n\n    return Backbone.Collection.extend({\n\n        comparator : \"logicalOrder\",\n\n        toData : function(index, extended) {\n            var elements = [];\n            this.each(function(currentAttribute) {\n                elements.push(currentAttribute.toData(index, extended));\n            });\n            return elements;\n        },\n\n        destroy : function () {\n            var model;\n            while (model = this.first()) { // jshint ignore:line\n                model.destroy();\n            }\n        },\n\n        propageEvent : function (eventName) {\n            this.each(function (currentModel) {\n                currentModel.trigger(eventName);\n                if (currentModel.get(\"content\")) {\n                    currentModel.get(\"content\").propageEvent(eventName);\n                }\n            });\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/collections/contentAttributes.js","define([\n    'jquery',\n    'underscore',\n    'dcpDocument/widgets/widget'\n], function wNotification($, _)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpNotification\", {\n\n        options: {\n            // animation:false,\n            autoHideAfter: 5000,\n            appendTo: \"#dcpNotificationContainer\",\n            position: {\n                top: 60, // override by notification.less\n                right: 100\n            },\n            templates: [\n                {\n                    type: \"error\",\n                    template: '<div class=\"dcpNotification--content dcpNotification--error\">' +\n                    '<span class=\"dcpNotification--symbol fa-stack fa-lg\"><span class=\"fa fa-bolt\"></span></span>' +\n                    '<div class=\"dcpNotification--message\"><h1>#: title #</h1>' +\n                    '<p>#: message #</p><p> #= htmlMessage #</p></div></div>'\n                },\n                {\n                    type: \"warning\",\n                    template: '<div class=\"dcpNotification--content dcpNotification--warning\">' +\n                    '<span class=\"dcpNotification--symbol fa-stack fa-lg\"><span class=\"fa fa-warning fa-inverse\"></span></span>' +\n                    '<div class=\"dcpNotification--message\"><h1>#: title #</h1>' +\n                    '<p>#: message #</p><p> #= htmlMessage #</p></div></div>'\n                },\n                {\n                    type: \"info\",\n                    template: '<div class=\"dcpNotification--content dcpNotification--info\">' +\n                    '<span class=\"dcpNotification--symbol fa-stack fa-lg\"><span class=\"fa fa-info fa-inverse fa-flip-horizontal\"></span></span>' +\n                    '<div class=\"dcpNotification--message\"><h1>#: title #</h1>' +\n                    '<p>#: message #</p><p> #= htmlMessage #</p></div></div>'\n                },\n                {\n                    type: \"notice\",\n                    template: '<div class=\"dcpNotification--content dcpNotification--notice\">' +\n                    '<span class=\"dcpNotification--symbol fa-stack fa-lg\"><span class=\"fa fa-info fa-inverse fa-flip-horizontal\"></span></span>' +\n                    '<div class=\"dcpNotification--message\"><h1>#: title #</h1>' +\n                    '<p>#: message #</p><p> #= htmlMessage #</p></div></div>'\n                },\n                {\n                    type: \"success\",\n                    template: '<div class=\"dcpNotification--content dcpNotification--info\">' +\n                    '<span class=\"dcpNotification--symbol fa-stack fa-lg\"><span class=\"fa fa-check fa-inverse\"></span></span>' +\n                    '<div class=\"dcpNotification--message\"><h1>#: title #</h1>' +\n                    '<p>#: message #</p><p> #= htmlMessage #</p></div></div>'\n                }\n            ],\n\n            labels: {\n                moreButton: \"View more ...\",\n                moreWindowTitle:\"Notification\"\n            }\n        },\n        notificationElement: null,\n\n        _create: function wNotificationCreate()\n        {\n            var scope = this;\n            this.notificationElement = $('<div class=\"dcpNotification--widget\" />');\n\n            this.element.append($('<div id=\"dcpNotificationContainer\" class=\"dcpNotifications\"/>'));\n            this.element.append(this.notificationElement);\n\n            this.options.show = _.bind(this.showMore, this);\n            this.notificationElement.kendoNotification(this.options);\n\n            this.element.on(\"notification\", function wNotificationOn(event, data)\n            {\n                scope.show(data.type, data);\n            });\n        },\n\n        showMore: function wNotificationShowMessage(event)\n        {\n            var $boxMessage = event.element;\n            var $message = $boxMessage.find(\".dcpNotification--message\");\n            var $more;\n            var widgetNotification = this;\n\n            if ($message.prop(\"scrollHeight\") > $message.height()) {\n                $more = $('<div class=\"dcpNotification--more\"/>').text(this.options.labels.moreButton);\n                $boxMessage.append($more);\n                $more.on(\"click\", function wNotificationClickMode(event)\n                {\n                    var $clone = $boxMessage.clone();\n                    var cloneWindow;\n\n                    if (widgetNotification.cloneWindow) {\n                        widgetNotification.cloneWindow.destroy();\n                        widgetNotification.cloneWindow = null;\n                    }\n                    $boxMessage.append($clone);\n                    $clone.find(\".dcpNotification--more\").remove();\n                    $clone.find(\".dcpNotification--message\").prepend($clone.find(\".dcpNotification--symbol\"));\n                    event.stopPropagation();\n                    cloneWindow = $clone.kendoWindow({\n                        title:widgetNotification.options.labels.moreWindowTitle,\n                        width: \"400px\"\n                    }).data(\"kendoWindow\");\n                    cloneWindow.center();\n                    widgetNotification.cloneWindow = cloneWindow;\n                });\n            }\n        },\n\n        show: function wNotificationShow(type, options)\n        {\n            options.title = options.title || '';\n            options.message = options.message || '';\n            options.htmlMessage = options.htmlMessage || '';\n            if ($.inArray(type, [\"error\", \"info\", \"warning\", \"success\", \"notice\"]) === -1) {\n                type = \"info\";\n            }\n            this.notificationElement.data(\"kendoNotification\").show({\n                title: options.title,\n                message: options.message,\n                htmlMessage: options.htmlMessage // @TODO NEED TO CLEAN HTML TO PREVENT XSS\n            }, type);\n        },\n\n        showError: function wNotificationShowError(options)\n        {\n            this.show(\"error\", options);\n        },\n\n        showInfo: function wNotificationShowInfo(options)\n        {\n            this.show(\"info\", options);\n        },\n\n        showWarning: function wNotificationShowWarning(options)\n        {\n            this.show(\"warning\", options);\n        },\n\n        showSuccess: function wNotificationShowSuccess(options)\n        {\n            this.show(\"success\", options);\n        },\n\n        clear: function wNotificationClear()\n        {\n            this.notificationElement.kendoNotification(\"hide\");\n            if (this.cloneWindow) {\n                this.cloneWindow.destroy();\n                this.cloneWindow = null;\n            }\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/window/wNotification.js","/*global define, console*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'mustache',\n    'dcpDocument/views/attributes/vAttribute',\n    'dcpDocument/views/attributes/array/vArray',\n    'dcpDocument/views/document/attributeTemplate'\n], function require_vFrame($, _, Backbone, Mustache, ViewAttribute, ViewAttributeArray, attributeTemplate)\n{\n    'use strict';\n\n    return Backbone.View.extend({\n\n        className: \"card card-default dcpFrame\",\n        customView: false,\n        displayLabel: true,\n\n        events: {\n            \"click .dcpFrame--collapsable\": \"toggle\",\n            'click a[href^=\"#action/\"], a[data-action], button[data-action]': 'externalLinkSelected'\n        },\n\n        initialize: function vFrame_initialize(options)\n        {\n\n            if (options.displayLabel === false || this.model.getOption(\"labelPosition\") === \"none\") {\n                this.displayLabel = false;\n            }\n            this.listenTo(this.model, 'change:label', this.updateLabel);\n            this.listenTo(this.model.get(\"content\"), 'add', this.render);\n            this.listenTo(this.model.get(\"content\"), 'remove', this.render);\n            this.listenTo(this.model.get(\"content\"), 'reset', this.render);\n            this.listenTo(this.model, 'errorMessage', this.setError);\n            this.listenTo(this.model, 'change:errorMessage', this.setError);\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'resize', this.setResponsiveClasse);\n            this.listenTo(this.model, 'cleanView', this.remove);\n            this.listenTo(this.model, 'hide', this.hide);\n            this.listenTo(this.model, 'show', this.show);\n            this.listenTo(this.model, 'haveView', this._identifyView);\n\n            this.options = options;\n        },\n\n        render: function vFrame_render() {\n            var currentView = this;\n            return (new Promise(_.bind(function vFrame_renderPromise(resolve, reject) {\n                var customRender,\n                    $content,\n                    labelElement,\n                    contentElement = '',\n                    customView = null,\n                    event = {prevent: false},\n                    contentData,\n                    promiseAttributes = [];\n\n                currentView.model.trigger(\"beforeRender\", event, {model: currentView.model, $el: currentView.$el});\n                if (event.prevent) {\n                    resolve(currentView);\n                    return currentView;\n                }\n\n                if (currentView.options.originalView !== true) {\n                    if (currentView.model.getOption(\"template\")) {\n                        customRender = attributeTemplate.renderCustomView(currentView.model);\n                        currentView.customView = customRender.$el;\n                        promiseAttributes.push(customRender.promise);\n                    }\n                }\n\n                contentData = currentView.model.toData(null, true);\n                if (currentView.model.getOption(\"attributeLabel\")) {\n                    contentData.label = currentView.model.getOption(\"attributeLabel\");\n                }\n                contentData.collapsable = (contentData.renderOptions.collapse !== \"none\");\n\n                currentView.templateLabel = currentView.model.getTemplates().attribute.frame.label;\n                labelElement = $(Mustache.render(currentView.templateLabel || \"\", contentData));\n\n                if (currentView.customView) {\n                    contentElement = currentView.customView;\n                    contentElement.addClass(\"dcpFrame__content dcpFrame__content--open\");\n                } else {\n                    currentView.templateContent = currentView.model.getTemplates().attribute.frame.content;\n                    contentElement = $(Mustache.render(currentView.templateContent || \"\", contentData));\n                }\n                currentView.$el.empty();\n                if (currentView.displayLabel === true) {\n                    currentView.$el.append(labelElement);\n                }\n                currentView.$el.append(contentElement);\n                currentView.$el.attr(\"data-attrid\", currentView.model.id);\n\n                $content = currentView.$el.find(\".dcpFrame__content\");\n                var hasOneContent = currentView.model.get(\"content\").some(function vFrame_getDisplayable(value) {\n                    return value.isDisplayable();\n                });\n\n                if (!currentView.customView) {\n                    if (!hasOneContent) {\n                        $content.append(currentView.model.getOption('showEmptyContent'));\n                    } else {\n                        currentView.model.get(\"content\").each(function vFrame_AnalyzeContent(currentAttr) {\n                            var attributeView;\n                            if (!currentAttr.isDisplayable()) {\n                                return;\n                            }\n                            try {\n                                customView = null;\n                                if (currentAttr.get(\"isValueAttribute\")) {\n                                    attributeView = new ViewAttribute({\n                                        model: currentAttr,\n                                        customView: customView\n                                    });\n                                    promiseAttributes.push(attributeView.render());\n                                    $content.append(attributeView.$el);\n                                    return;\n                                }\n                                if (currentAttr.get(\"type\") === \"array\") {\n                                    attributeView = new ViewAttributeArray({\n                                        model: currentAttr\n                                    });\n                                    promiseAttributes.push(attributeView.render());\n                                    $content.append(attributeView.$el);\n                                }\n                            } catch (e) {\n                                $content.append('<h1 class=\"bg-danger\"><span class=\"glyphicon glyphicon-warning-sign\" aria-hidden=\"true\"></span>Unable to render ' + currentAttr.id + '</h1>');\n                                if (window.dcp.logger) {\n                                    window.dcp.logger(e);\n                                } else {\n                                    console.error(e);\n                                }\n                            }\n                        });\n                    }\n\n                    attributeTemplate.insertDescription(currentView);\n                }\n\n                if (currentView.model.getOption(\"collapse\") === \"collapse\") {\n                    currentView.toggle(null, true);\n                }\n                Promise.all(promiseAttributes).then(function allRenderDone() {\n                    currentView.model.trigger(\"renderDone\", {model: currentView.model, $el: currentView.$el});\n                    if (currentView.model.getOption(\"responsiveColumns\")) {\n                        currentView.responsiveColumns();\n                    }\n                    resolve(currentView);\n                }).catch(reject);\n            }), this));\n\n        },\n\n        setResponsiveClasse: function vFrame_setResponsiveClasse() {\n            var _this=this;\n            var fWidth=0;\n            var matchesResponsive=0;\n            var responseColumnsDefs=this.model.getOption(\"responsiveColumns\") || [];\n            var isTopBottom=false;\n            var isGrow=false;\n\n            if (responseColumnsDefs.length > 0) {\n                fWidth=$(this.$el).width();\n\n                if (fWidth <= 0 ) {\n                    return;\n                }\n                var $vattrs=this.$el.find(\"> .dcpFrame__content > .row\");\n\n                _.each(responseColumnsDefs, function vFrame_setResponsiveClasses(responseColumnsInfo) {\n                    if (fWidth >= responseColumnsInfo.minAbsWidth && fWidth < responseColumnsInfo.maxAbsWidth) {\n\n                        matchesResponsive = responseColumnsInfo.number;\n                        if (responseColumnsInfo.grow === true) {\n                            _this.$el.addClass(\"dcp-column--grow\");\n                            isGrow=true;\n                        } else {\n                            _this.$el.removeClass(\"dcp-column--grow\");\n                            isGrow=false;\n                        }\n                        isTopBottom=responseColumnsInfo.direction === \"topBottom\";\n\n                        if (isGrow) {\n                            if ($vattrs.length < matchesResponsive) {\n                                matchesResponsive = $vattrs.length;\n                            } else if (isTopBottom) {\n                                var rowNumber=Math.ceil($vattrs.length / matchesResponsive);\n                                for (var i=matchesResponsive; i--; i>1) {\n                                    if (Math.ceil($vattrs.length / i) === rowNumber) {\n                                        // Decrease column number if not enough data to avoid empty columns\n                                        matchesResponsive=i;\n                                    }\n                                }\n                            }\n                        }\n\n                        if (matchesResponsive > 1) {\n                            _this.$el.addClass(\"dcp-column--\" + matchesResponsive);\n                        }\n                    } else {\n                        _this.$el.removeClass(\"dcp-column--\" + responseColumnsInfo.number);\n                    }\n                });\n\n\n                if (matchesResponsive > 1) {\n                    _this.$el.addClass(\"dcp-column\");\n                    if (matchesResponsive !== this.frameColumnNumber) {\n\n                        this.frameColumnNumber=matchesResponsive;\n\n                        if (isTopBottom) {\n                            this.$el.addClass(\"dcp-column--topbottom\");\n                            this.$el.removeClass(\"dcp-column--leftright\");\n                        } else {\n                            this.$el.removeClass(\"dcp-column--topbottom\");\n                            this.$el.addClass(\"dcp-column--leftright\");\n                        }\n                    }\n                } else {\n                    this.frameColumnNumber=matchesResponsive;\n                    this.$el.removeClass(\"dcp-column\");\n                    this.$el.removeClass(\"dcp-column--topbottom\");\n                    this.$el.removeClass(\"dcp-column--leftright\");\n                    this.$el.removeClass(\"dcp-column--grow\");\n                }\n            }\n        },\n\n        responsiveColumns: function vFrame_responsiveColumns() {\n            var responseColumnsDefs=this.model.getOption(\"responsiveColumns\") || [];\n            var _this=this;\n            var $fake=$(\"<div/>\").css({position:\"absolute\", top:0, overflow:\"hidden\"});\n            var $fakeWidth=$(\"<div/>\");\n\n\n            $(\"body\").append($fake.append($fakeWidth));\n\n            // Compute absolute width\n            _.each(responseColumnsDefs, function vFrame_computeResponsiveWidth(responseColumnsInfo) {\n                if (! responseColumnsInfo.minWidth) {\n                    responseColumnsInfo.minAbsWidth = 0;\n                } else {\n                    $fakeWidth.width(responseColumnsInfo.minWidth);\n                    responseColumnsInfo.minAbsWidth = $fakeWidth.width();\n                }\n\n                if (! responseColumnsInfo.maxWidth) {\n                    responseColumnsInfo.maxAbsWidth = Infinity;\n                } else {\n                    $fakeWidth.width(responseColumnsInfo.maxWidth);\n                    responseColumnsInfo.maxAbsWidth = $fakeWidth.width();\n                }\n            });\n\n            $fake.remove();\n            $(window).on(\"resize.v\"+this.model.cid, _.bind(this.setResponsiveClasse, this));\n            _.defer(_.bind(this.setResponsiveClasse, this));\n        },\n\n        getAttributeModel: function vFrame_getAttributeModel(attributeId)\n        {\n            var docModel = this.model.getDocumentModel();\n            return docModel.get('attributes').get(attributeId);\n        },\n\n        setError: function vFrame_setError(event, data)\n        {\n            if (data) {\n                this.$el.find(\".dcpFrame__label\").addClass(\"has-error\");\n            } else {\n                this.$el.find(\".dcpFrame__label\").removeClass(\"has-error\");\n            }\n        },\n\n        updateLabel: function vFrame_updateLabel()\n        {\n            this.$el.find(\".dcpFrame__label\").text(this.model.get(\"label\"));\n        },\n\n        toggle: function vFrame_toggle(event, hideNow)\n        {\n            var $contentElement = this.$(\".dcpFrame__content\");\n            this.$(\".dcp__frame__caret\").toggleClass(\"fa-caret-right fa-caret-down\");\n            $contentElement.toggleClass(\"dcpFrame__content--open dcpFrame__content--close\");\n            if (hideNow) {\n                $contentElement.hide();\n            } else {\n                $contentElement.slideToggle(200);\n                if ($contentElement.hasClass(\"dcpFrame__content--open\")) {\n                    this.model.getDocumentModel().redrawErrorMessages();\n                }\n            }\n        },\n\n        hide: function vFrame_hide()\n        {\n            this.$el.hide();\n        },\n\n        show: function vFrame_show()\n        {\n            this.$el.show();\n        },\n\n        externalLinkSelected: function vAttributeExternalLinkSelected(event)\n        {\n            var $target = $(event.currentTarget),\n                action,\n                options,\n                eventOptions,\n                documentModel,\n                internalEvent = {\n                    prevent: false\n                };\n\n            event.preventDefault();\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n\n            action = $target.data('action') || $target.attr(\"href\");\n            options = action.substring(8).split(\":\");\n            eventOptions = {\n                target: event.target,\n                index: -1,\n                eventId: options.shift(),\n                options: options\n            };\n            documentModel = this.model.getDocumentModel();\n\n            this.model.trigger(\"internalLinkSelected\", internalEvent, eventOptions);\n            if (event.prevent) {\n                return this;\n            }\n\n            documentModel.trigger(\"actionAttributeLink\", internalEvent, eventOptions);\n\n            return this;\n        },\n\n        _identifyView: function vFrame_identifyView(event)\n        {\n            event.haveView = true;\n            //Add the pointer to the current jquery element to a list passed by the event\n            event.elements = event.elements.add(this.$el);\n        },\n\n        /**\n         * Destroy the associated widget and suppress event listener before remov the dom\n         *\n         * @returns {*}\n         */\n        remove: function vFrame_Remove()\n        {\n            $(window).off(\".v\" + this.model.cid);\n\n            return Backbone.View.prototype.remove.call(this);\n        }\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/attributes/frame/vFrame.js","/*global define*/\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'dcpDocument/widgets/attributes/text/wText'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery);\n    }\n}(window, function wPassword($) {\n    'use strict';\n\n    $.widget(\"dcp.dcpPassword\", $.dcp.dcpText, {\n\n        options: {\n            type: \"password\",\n\n            renderOptions: {\n                hideValue: '*****'\n            },\n            labels: {}\n        },\n\n        _initDom: function wasswordInitDom() {\n                if (this.options.attributeValue.value) {\n                    this.options.attributeValue.displayValue = this.options.renderOptions.hideValue;\n                }\n\n            this._super();\n            if (this.getMode() === \"write\") {\n                this._getFocusInput().attr(\"type\", \"password\");\n            }\n        },\n        /**\n         * Hide password to displayValue\n         * @param value\n         */\n        setValue: function wpasswordSetValue(value)\n        {\n            if (value.value) {\n                value.displayValue = this.options.renderOptions.hideValue;\n            }\n\n            this._super(value);\n        },\n        getType: function wIntGetType() {\n            return \"password\";\n        }\n    });\n\n    return $.fn.dcpPassword;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/password/wPassword.js","define([\n    \"jquery\",\n    'underscore',\n    'mustache',\n    'dcpDocument/i18n/documentCatalog',\n    'dcpDocument/widgets/widget'\n], function wMenu($, _, Mustache, i18n)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpMenu\", {\n\n        options: {\n            eventPrefix: \"dcpmenu\"\n        },\n\n        kendoMenuWidget: null,\n        _create: function wMenuCreate()\n        {\n            this._tooltips = [];\n            this.popupWindows = [];\n            this._initStructure();\n        },\n\n        _initStructure: function wMenuInitStructure()\n        {\n            var $content, $mainElement, scopeWidget = this;\n            //InitDom\n            $mainElement = $(Mustache.render(this._getTemplate(\"menu\") || \"\", _.extend({uuid: this.uuid}, this.options)));\n            $content = $mainElement.find(\".menu__content\");\n            this._insertMenuContent(this.options.menus, $content);\n            this.element.append($mainElement);\n            //Init kendo widget\n            $content.kendoMenu({\n                openOnClick: true,\n                closeOnClick: true,\n\n                select: function wMenuSelect(event)\n                {\n                    var $menuElement = $(event.item), eventContent, $elementA, href, configMenu, confirmText, confirmOptions,\n                        confirmDcpWindow, target, targetOptions, dcpWindow, $bodyDiv, wFeature = '';\n\n                    // Use specific select only for terminal items\n                    if (!$menuElement.hasClass(\"menu__element--item\")) {\n                        return;\n                    }\n                    $elementA = $(event.item).find('a');\n                    href = $elementA.data('url');\n                    //noinspection JSHint\n                    if (href != '') {\n                        //Display confirm message\n                        if ($elementA.hasClass(\"menu--confirm\")) {\n                            confirmText = Mustache.render($elementA.data('confirm-message') || \"\", scopeWidget.options);\n\n                            configMenu = $menuElement.data(\"menuConfiguration\");\n                            confirmOptions = configMenu.confirmationOptions || {};\n                            confirmDcpWindow = $('body').dcpConfirm({\n                                title: Mustache.render(confirmOptions.title || \"\", scopeWidget.options),\n                                width: confirmOptions.windowWidth,\n                                height: confirmOptions.windowHeight,\n                                messages: {\n                                    okMessage: Mustache.render(confirmOptions.confirmButton || \"\", scopeWidget.options),\n                                    cancelMessage: Mustache.render(confirmOptions.cancelButton || \"\", scopeWidget.options),\n                                    htmlMessage: confirmText,\n                                    textMessage: ''\n                                },\n                                confirm: function wMenuConfirm()\n                                {\n                                    $elementA.removeClass('menu--confirm');\n                                    $elementA.trigger(\"click\");\n                                    $elementA.addClass('menu--confirm');\n                                },\n                                templateData: scopeWidget.options\n                            });\n\n                            scopeWidget.popupWindows.push(confirmDcpWindow.data('dcpWindow'));\n\n                            confirmDcpWindow.data('dcpWindow').open();\n                        } else {\n                            scopeWidget.element.data(\"menu-opening\", false);\n                            //if href is event kind propagate event instead of default behaviour\n                            if (href.substring(0, 8) === \"#action/\") {\n                                event.preventDefault();\n                                if (event.stopPropagation) {\n                                    event.stopPropagation();\n                                }\n                                eventContent = href.substring(8).split(\":\");\n                                scopeWidget._trigger(\"externalLinkSelected\", event, {\n                                    target: event.target || event.item,\n                                    eventId: eventContent.shift(),\n                                    options: eventContent\n                                });\n                            } else {\n                                var $base = $(\"base\");\n                                var isAbsUrl = new RegExp('^(?:[a-z]+:)?//', 'i');\n\n                                target = $elementA.attr(\"target\") || '_self';\n\n                                if ($elementA.attr(\"href\") && $elementA.attr(\"href\").substring(0, 1) === \"#\") {\n                                    href = window.location.protocol +\n                                        \"//\" + window.location.hostname +\n                                        (window.location.port ? ':' + window.location.port: '') +\n                                        (window.location.pathname ? window.location.pathname : '/') +\n                                        (window.location.search ? window.location.search : '')\n                                        +$elementA.attr(\"href\");\n                                }\n\n                                if (target === \"_self\") {\n                                    // For IE : Not honor base href in this case\n\n                                    if (!isAbsUrl.test(href)) {\n                                        window.location.href = $base.attr(\"href\") + href;\n                                    } else {\n                                        window.location.href = href;\n                                    }\n                                } else {\n                                    configMenu = $menuElement.data(\"menuConfiguration\");\n                                    targetOptions = configMenu.targetOptions || {};\n                                    if (target === \"_dialog\") {\n                                        $bodyDiv = $('<div/>');\n                                        $('body').append($bodyDiv);\n                                        dcpWindow = $bodyDiv.dcpWindow({\n                                            title: Mustache.render(targetOptions.title || \"\", window.dcp.documentData),\n                                            width: targetOptions.windowWidth,\n                                            height: targetOptions.windowHeight,\n                                            modal: targetOptions.modal,\n                                            content: href,\n                                            iframe: true\n                                        });\n\n                                        scopeWidget.popupWindows.push(dcpWindow.data('dcpWindow'));\n                                        dcpWindow.data('dcpWindow').kendoWindow().center();\n                                        dcpWindow.data('dcpWindow').open();\n                                    } else {\n                                        if (targetOptions && (targetOptions.windowWidth || targetOptions.windowHeight)) {\n                                            if (targetOptions.windowWidth) {\n                                                wFeature += \"width=\" + parseInt(targetOptions.windowWidth, 10) + \",\";\n                                            }\n                                            if (targetOptions.windowHeight) {\n                                                wFeature += \"height=\" + parseInt(targetOptions.windowHeight, 10) + \",\";\n                                            }\n                                            wFeature += \"resizable=yes,scrollbars=yes\";\n                                        }\n                                        if (!isAbsUrl.test(href)) {\n                                            // For IE : Not honor base href in this case\n                                            href = $base.attr(\"href\") + href;\n                                        }\n                                        window.open(href, target, wFeature);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                },\n                deactivate: function wMenuDeactivate(event)\n                {\n                    var $menuElement = $(event.item);\n\n                    // Use for reopen for Dynamic menu\n                    if ($menuElement.data(\"menu-openAgain\")) {\n                        $menuElement.data(\"menu-openAgain\", false);\n                        $menuElement.data(\"menu-noQuery\", true);\n                        $content.data(\"kendoMenu\").open($menuElement);\n                    }\n                },\n                open: function wMenuOpen(event)\n                {\n\n                    var $menuElement = $(event.item);\n\n                    // Due to iOs artefact, an resize event is send, so need to inhibated during opening menu\n                    scopeWidget.element.data(\"menu-opening\", true);\n                    $menuElement.data(\"bodyWidth\", $('body').width());\n\n                    if (!$menuElement.hasClass(\"menu__element--item\")) {\n                        var menuUrl = $menuElement.data(\"menu-url\");\n                        if (menuUrl) {\n                            // Open Dynamic menu : request server to get menu contents\n                            if (!$menuElement.data(\"menu-noQuery\")) {\n                                var loading = $menuElement.find(\".menu__loading\");\n\n                                if (loading.length > 0) {\n                                    // record initial loading item\n                                    $menuElement.data(\"menu-loading\", loading);\n                                }\n\n                                // Display loading first\n                                if (loading.length === 0 && $menuElement.data(\"menu-loading\")) {\n                                    $menuElement.find(\".listmenu__content\").html('').append($menuElement.data(\"menu-loading\"));\n                                }\n\n                                // Get subMenu\n                                $.get(menuUrl, function wMenuDone(response)\n                                {\n                                    var data=response.data;\n                                    $menuElement.find(\".listmenu__content\").html('');\n\n                                    scopeWidget._insertMenuContent(\n                                        data.content,\n                                        $menuElement.find(\".listmenu__content\"),\n                                        scopeWidget, $menuElement);\n                                    $menuElement.kendoMenu({\n                                        openOnClick: true,\n                                        closeOnClick: true\n                                    });\n\n                                    if (parseInt($menuElement.find(\".k-animation-container\").css(\"left\")) !== 0 &&\n                                        parseInt($menuElement.find(\".k-animation-container\").css(\"right\")) !== 0\n                                    ) {\n                                        // Need to close and reopen to adjust position menu because content has changed\n                                        $menuElement.data(\"menu-openAgain\", true);\n                                        $content.data(\"kendoMenu\").close($menuElement);\n                                    }\n\n                                }).fail(function wMenuFail(data)\n                                {\n                                    try {\n                                        var errorMessage = data.responseText;\n                                        $menuElement.find(\".listmenu__content\").html($('<div/>').text(errorMessage).addClass(\"menu--error\"));\n                                    } catch (e) {\n                                        if (window.dcp.logger) {\n                                            window.dcp.logger(e);\n                                        } else {\n                                            console.error(e);\n                                        }\n                                    }\n                                });\n                            }\n                            $menuElement.data(\"menu-noQuery\", false);\n                        }\n                    }\n                },\n                activate: function wMenuActivate(event)\n                {\n                    // Correct Kendo position list when scrollbar is displayed\n                    var $menuElement = $(event.item);\n                    var $container = $menuElement.find(\".k-animation-container\");\n\n                    var bodyWidth = $menuElement.data(\"bodyWidth\");\n                    var menuWidth = $menuElement.outerWidth();\n                    var menuLeft = $menuElement.offset().left;\n                    var listWidth = $container.outerWidth();\n                    var listLeft = $container.offset().left;\n\n                    // The first condition is for iOS because no scroll window exists\n                    if (($(\"body\").width() > bodyWidth  ) || (window.document.documentElement.scrollHeight > window.document.documentElement.clientHeight)) {\n\n                        // If the list menu is out of the body box, need to move it to the right\n                        if ((listLeft + listWidth) > bodyWidth) {\n                            $container.css(\"left\", \"auto\").css(\"right\", (menuLeft - bodyWidth + menuWidth  ) + \"px\");\n                        }\n\n                    }\n\n                    _.delay(function wMenuOpenDelay()\n                    {\n                        // Due to iOs artefact, an resize event is send, so need to inhibated during opening menu\n                        scopeWidget.element.data(\"menu-opening\", false);\n                    }, 2000);\n                }\n            });\n\n\n             this.element.find(\".menu--left\").last().addClass(\"menu--lastLeft\");\n            /**\n             * Fix menu when no see header\n             */\n            $(window).off(\"scroll.ddui\"); // reset\n\n            if (this.element.prop(\"nodeName\").toUpperCase() === \"NAV\") {\n                $(window).on(\"scroll.ddui\", function wMenuScroll()\n                {\n                    if ($(window).scrollTop() > $mainElement.position().top) {\n                        if (!$mainElement.data(\"isFixed\")) {\n                            $mainElement.data(\"isFixed\", \"1\");\n                            $mainElement.parent().addClass(\"menu--fixed\");\n                            $(window.document).trigger(\"redrawErrorMessages\");\n                        }\n                    } else {\n                        if ($mainElement.data(\"isFixed\")) {\n                            $mainElement.data(\"isFixed\", null);\n                            $mainElement.parent().removeClass(\"menu--fixed\");\n                            $(window.document).trigger(\"redrawErrorMessages\");\n                        }\n                    }\n                });\n            }\n            /**\n             * Responsive Menu\n             */\n            this.kendoMenuWidget = $content.data(\"kendoMenu\");\n            this.kendoMenuWidget.append([\n                {\n                    text: i18n.___(\"Other\", \"UImenu\") + '<span class=\"menu--count\" />',\n                    cssClass: \"menu__element  menu_element--hamburger \",\n                    encoded: false,   // Allows use of HTML for item text\n                    items: []         // List items\n                }]);\n            $(window).on(\"resize.dcpMenu\", _.bind(this.inhibitBarMenu, this));\n            $(window).on(\"resize.dcpMenu\", _.debounce(_.bind(this.updateResponsiveMenu, this), 100, false));\n        },\n\n        inhibitBarMenu: function wMenuInhibitBarMenu()\n        {\n            var widgetMenu = this;\n            if (!widgetMenu.element.data(\"menu-opening\") && this.element.css(\"overflow\") !== \"hidden\") {\n                this.element.find(\"li.k-state-border-down\").each(function wMenuInhibitBarMenuClose()\n                {\n                    widgetMenu.kendoMenuWidget.close($(this));\n                });\n            }\n        },\n\n        /**\n         * Get scrollbar width by adding a element\n         * @returns {number|*}\n         */\n        getScrollBarWidth: function wMenugetScrollBarWidth()\n        {\n            if (!this.scrollBarWidth) {\n                var inner = document.createElement('p');\n                inner.style.width = \"100%\";\n                inner.style.height = \"200px\";\n\n                var outer = document.createElement('div');\n                outer.style.position = \"absolute\";\n                outer.style.top = \"0px\";\n                outer.style.left = \"0px\";\n                outer.style.visibility = \"hidden\";\n                outer.style.width = \"200px\";\n                outer.style.height = \"150px\";\n                outer.style.overflow = \"hidden\";\n                outer.appendChild(inner);\n\n                document.body.appendChild(outer);\n                var w1 = inner.offsetWidth;\n                outer.style.overflow = 'scroll';\n                var w2 = inner.offsetWidth;\n                if (w1 === w2) {\n                    w2 = outer.clientWidth;\n                }\n\n                document.body.removeChild(outer);\n                this.scrollBarWidth = (w1 - w2);\n            }\n\n            return this.scrollBarWidth;\n        },\n\n        /**\n         * Move menu to hamburger which can be displayed in same line menu\n         */\n        updateResponsiveMenu: function wMenuHideResponsiveMenu()\n        {\n            var barMenu = this.element;\n            var $itemMenu = barMenu.find(\"ul.k-menu > .menu__element:not(.menu--important,.menu_element--hamburger)\");\n            var $importantItemMenu = barMenu.find(\"ul.k-menu > .menu__element.menu--important\");\n            var newHiddens = [];\n            var currentWidth = 0;\n            var visibleWidth = 0;\n            var freeWidth = 0;\n            var barmenuWidth = barMenu.width() - 2;\n            var kendoMenu = this.kendoMenuWidget;\n            var $hamburger = $(\".menu_element--hamburger\");\n            var hiddenItemsCount;\n            var visibleItemCount;\n            var $hiddenItems = $($hamburger.find(\"ul\").get(0)).find(\"> li.k-item\");\n            var hiddenLeft = $hiddenItems.length;\n\n            if (barMenu.data(\"menu-opening\")) {\n                // Cannot redraw menu while menu is open because kendo failure occurs in touch device\n                return;\n            }\n            this.inhibitBarMenu();\n            $importantItemMenu.each(function wMenuComputeBarmenuWidth()\n            {\n                barmenuWidth -= $(this).outerWidth();\n            });\n\n            barmenuWidth -= $hamburger.outerWidth();\n\n            // When no scrollbar need to add hypothetic scrollbar width because no event to refresh when scrollbar appear\n            if (window.document.documentElement.scrollHeight <= window.document.documentElement.clientHeight) {\n                barmenuWidth -= this.getScrollBarWidth(); // Supposed that scrollbar width is max 20px\n            }\n\n            visibleItemCount = $itemMenu.length;\n            // Detect free menu available width  and record menu items which not contains to bar menu\n            $itemMenu.each(function wMenuComputeWidth()\n            {\n                currentWidth += ($(this).outerWidth());\n                if (currentWidth > barmenuWidth) {\n                    $(this).data(\"original-width\", $(this).outerWidth());\n                    newHiddens.push(this);\n                } else {\n                    visibleWidth += $(this).outerWidth();\n                }\n                visibleItemCount--;\n\n            });\n\n            freeWidth = barmenuWidth - visibleWidth;\n\n            if (hiddenLeft === 0 && newHiddens.length === 1) {\n                // Special case for the last hidden may visible if hamburger is hide\n                if ($(newHiddens[0]).outerWidth() < (freeWidth + $hamburger.outerWidth())) {\n                    newHiddens = [];\n                }\n            }\n\n            // Move each new hidden menu to hamburger\n            _.each(newHiddens.reverse(), function wMenuItemToHamburger(item)\n            {\n                // Prepend new menu to hamburger\n                if ($hamburger.find(\"li.k-item\").length === 0) {\n                    kendoMenu.append($(item), $hamburger);\n                } else {\n                    kendoMenu.insertBefore($(item), $($hamburger.find(\"li.k-item\").get(0)));\n                }\n            });\n            // No new hidden menu so ...\n            if (newHiddens.length === 0) {\n                // May be show hidden menu\n                $hiddenItems = $($hamburger.find(\"ul\").get(0)).find(\"> li.k-item\");\n                hiddenLeft = $hiddenItems.length;\n                $hiddenItems.each(function wMenuItemFromHamburger()\n                {\n                    if (freeWidth > 0) {\n                        if (hiddenLeft === 1) {\n                            freeWidth += $hamburger.width();\n                        }\n                        currentWidth = $(this).data(\"original-width\");\n\n                        // If available width show move at initial place (right of the hamburger)\n                        if (currentWidth < freeWidth) {\n                            kendoMenu.insertBefore($(this), $hamburger);\n                            freeWidth -= $(this).outerWidth();\n                        } else {\n                            freeWidth = -1; // stop test\n                        }\n                    }\n                });\n            }\n\n            // Number of items in hamburger\n            hiddenItemsCount = $($hamburger.find(\"ul\").get(0)).find(\"> li.k-item\").length;\n\n            // No view hamburger if empty\n            if (hiddenItemsCount === 0) {\n                $hamburger.hide();\n            }\n\n            // See sub-menu count\n            // $hamburger.find(\".menu--count\").text(hiddenItemsCount);\n\n            // View hamburger if not empty\n            if (newHiddens.length > 0) {\n                $hamburger.show();\n            }\n\n            // Restore css set by other resize callback\n            barMenu.css(\"overflow\", \"\").css(\"max-height\", \"\");\n        },\n\n        _insertMenuContent: function wMenuInsertMenuContent(menus, $content, currentWidget, scopeMenu)\n        {\n            var subMenu;\n            var hasBeforeContent = false;\n            currentWidget = currentWidget || this;\n\n            if (scopeMenu) {\n                // Add fake before content if at least one element has before content to align all items\n                _.each(menus, function wMenuInsertMenuContentfake(currentMenu)\n                {\n                    if (currentMenu.iconUrl || currentMenu.beforeContent) {\n                        hasBeforeContent = true;\n                    }\n                });\n                if (hasBeforeContent) {\n                    _.each(menus, function wMenuInsertMenuContentBeforeContent(currentMenu)\n                    {\n                        if (!currentMenu.iconUrl && !currentMenu.beforeContent) {\n                            if (currentMenu.type !== \"separatorMenu\") {\n                                currentMenu.beforeContent = ' ';\n                            }\n                        }\n                    });\n                }\n            }\n\n            _.each(menus, function wMenuInsertMenuContentSet(currentMenu)\n            {\n                var $currentMenu;\n                if (currentMenu.visibility === \"hidden\") {\n                    return;\n                }\n                currentMenu.htmlAttr = [];\n                _.each(currentMenu.htmlAttributes, function wMenuInsertMenuContentSetHtml(attrValue, attrId)\n                {\n                    if (attrId === \"class\") {\n                        currentMenu.cssClass = attrValue;\n                    } else {\n                        currentMenu.htmlAttr.push({\"attrId\": attrId, \"attrValue\": attrValue});\n                    }\n                    if (currentMenu.htmlLabel) {\n                        // reRender for variable labels\n                        currentMenu.htmlLabel = Mustache.render(currentMenu.htmlLabel || \"\", {document: currentWidget.options.document});\n                    }\n                    if (currentMenu.label) {\n                        // reRender for variable labels\n                        currentMenu.label = Mustache.render(currentMenu.label || \"\", {document: currentWidget.options.document});\n                    }\n                    if (currentMenu.tooltipLabel) {\n                        // reRender for variable labels\n                        currentMenu.tooltipLabel = Mustache.render(currentMenu.tooltipLabel || \"\", {document: currentWidget.options.document});\n                    }\n                });\n\n                currentMenu.contentLabel = (currentMenu.htmlLabel || currentMenu.label);\n                currentMenu.disabled = (currentMenu.visibility === 'disabled');\n                if (currentMenu.type === \"listMenu\") {\n                    subMenu = \"listMenu\";\n\n                    $currentMenu = $(Mustache.render(currentWidget._getTemplate(subMenu) || \"\", currentMenu));\n                    currentWidget._insertMenuContent(currentMenu.content || \"\", $currentMenu.find(\".listmenu__content\"), currentWidget, currentMenu);\n                } else {\n                    if (currentMenu.type === \"dynamicMenu\") {\n                        subMenu = \"dynamicMenu\";\n                        if (currentMenu.url) {\n                            currentMenu.document = currentWidget.options.document;\n                            currentMenu.url = Mustache.render(currentMenu.url || \"\", currentMenu);\n                        }\n                        $currentMenu = $(Mustache.render(currentWidget._getTemplate(subMenu) || \"\", currentMenu));\n\n                    } else {\n                        currentMenu.document = currentWidget.options.document;\n                        if (currentMenu.url) {\n                            currentMenu.url = Mustache.render(currentMenu.url || \"\", currentMenu);\n                        }\n                        $currentMenu = $(Mustache.render(currentWidget._getTemplate(currentMenu.type) || \"\", currentMenu));\n\n                    }\n                }\n                if (currentMenu.tooltipLabel) {\n                    currentWidget._tooltips.push($currentMenu.tooltip(\n                        {\n                            trigger: \"hover\",\n                            html: currentMenu.tooltipHtml,\n                            placement: currentMenu.tooltipPlacement ? currentMenu.tooltipPlacement : \"bottom\",\n                            container: \".dcpDocument__menu\"\n                        }));\n                }\n                if (currentMenu.important) {\n                    $currentMenu.addClass(\"menu--important\");\n                }\n                $currentMenu.data(\"menuConfiguration\", currentMenu);\n                $content.append($currentMenu);\n            });\n        },\n\n        _getTemplate: function wMenuTemplate(name)\n        {\n            if (this.options.templates && this.options.templates.menu && this.options.templates.menu[name]) {\n                return this.options.templates.menu[name];\n            }\n            if (window.dcp.templates && window.dcp.templates.menu && window.dcp.templates.menu[name]) {\n                return window.dcp.templates.menu[name];\n            }\n            throw new Error(\"Menu unknown template \" + name);\n        },\n\n        _destroy: function wMenuDestroy()\n        {\n            var kendoWidget = this.element.find(\".menu__content\").data(\"kendoMenu\");\n            if (kendoWidget) {\n                kendoWidget.destroy();\n            }\n            $(window).off(\".dcpMenu\");\n            _.each(this.popupWindows, function wMenuDestroyPopup(pWindow)\n            {\n                pWindow.destroy();\n            });\n\n            _.each(this._tooltips, function wMenuDestroyTooltip(currentTooltip)\n            {\n                currentTooltip.tooltip(\"dispose\");\n            });\n            this.element.empty();\n            this._super();\n        }\n\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/menu/wMenu.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone'\n], function mMenu(_, Backbone) {\n    'use strict';\n\n    return Backbone.Model.extend({\n        typeModel:\"ddui:menu\",\n        /**\n         * Menu model are not linked to REST element so always new\n         * @returns {boolean}\n         */\n        isNew: function mMenu_isNew()\n        {\n            return true;\n        }\n    });\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mMenu.js","/*global define */\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/attributes/wAttribute'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function require_wenum($, _, Mustache, dcpAttribute)\n{\n    'use strict';\n\n    var localeCompareSupportsLocales = (function testLocaleCompareSupportsLocales()\n    {\n        try {\n            'foo'.localeCompare('bar', 'i');\n        } catch (e) {\n            return e.name === 'RangeError';\n        }\n        return false;\n    })();\n\n    $.widget(\"dcp.dcpEnum\", $.dcp.dcpAttribute, {\n\n        options: {\n            type: \"enum\",\n            sourceValues: [], // [{key:\"the key\", label:\"the label\"}, ...}]\n            sourceUri: null, // when enum definition is dynamically get by server request\n            labels: {\n                invalidEntry: \"Invalid Entry\",\n                invertSelection: \"Click to answer {{displayValue}}\",\n                selectMessage: 'Select',\n                unselectMessage: 'UnSelect',\n                chooseAnotherChoice: \"Choose another choice\",\n                selectAnotherChoice: \"Select choice\",\n                displayOtherChoice: \"** {{value}} **\"\n            },\n            renderOptions: {\n                kendoDropDownConfiguration: {\n                    filter: \"none\",\n                    autoBind: true\n                },\n                kendoComboBoxConfiguration: {\n                    filter: \"startswith\"\n                },\n                kendoMultiSelectConfiguration: {\n                    filter: \"startswith\"\n                },\n                editDisplay: \"list\", // possible values are [\"list', 'vertical', 'horizontal', 'autoCompletion']'\n                useFirstChoice: false,\n                useSourceUri: false,\n                useOtherChoice: false,\n                placeHolder: 'Select', // Message to display when no useFirstChoice is true and no value selected\n                orderBy: false\n            }\n        },\n        _initDom: function wEnumInitDom()\n        {\n            var currentWidget = this;\n            if (this.getMode() === \"write\" &&\n                this.options.renderOptions &&\n                this.options.renderOptions.orderBy) {\n                switch (this.options.renderOptions.orderBy) {\n                    case 'key':\n                        if (this.options.sourceValues && this.options.sourceValues.sort) {\n                            this.options.sourceValues = this.options.sourceValues.sort(function wEnum_initDomSortKey(a, b)\n                            {\n                                if (a.key === b.key) {\n                                    return 0;\n                                }\n                                return (a.key < b.key) ? -1 : 1;\n                            });\n                        }\n                        break;\n                    case 'label':\n                        if (this.options.sourceValues && this.options.sourceValues.sort) {\n                            this.options.sourceValues = this.options.sourceValues.sort(function wEnum_initDomSortLabel(a, b)\n                            {\n                                if (localeCompareSupportsLocales) {\n                                    return String(a.label).localeCompare(String(b.label), currentWidget.options.locale, {\n                                        numeric: true,\n                                        caseFirst: false\n                                    });\n                                } else {\n                                    return String(a.label).localeCompare(String(b.label));\n                                }\n                            });\n                        }\n                        break;\n                }\n            }\n            if (this._isMultiple()) {\n                this.options.isMultiple = true;\n                _.each(this.options.attributeValue, function wEnumDisplayOthers(singleValue)\n                {\n                    if (singleValue) {\n                        singleValue.exists = (singleValue.exists !== false);\n\n                        if (singleValue.exists === false) {\n                            singleValue.displayValue = Mustache.render(currentWidget.options.labels.displayOtherChoice, singleValue);\n                        }\n                    }\n                });\n            } else {\n                if (this.options.attributeValue.exists === false) {\n                    this.options.attributeValue.displayValue = Mustache.render(this.options.labels.displayOtherChoice, this.options.attributeValue);\n                }\n            }\n\n            if (this.getMode() === \"read\") {\n                if (this._isMultiple()) {\n                    this.options.attributeValues = _.toArray(this.options.attributeValue);\n                    this.options.isMultiple = true;\n                } else {\n                    this.options.attributeValues = [this.options.attributeValue];\n                    this.options.isMultiple = false;\n                }\n                this._super();\n            }\n\n            if (this.getMode() === \"write\") {\n                if (this.options.options && this.options.options.eformat === \"auto\") {\n                    this.options.renderOptions.useSourceUri = true;\n                }\n\n                if (this.options.renderOptions.useOtherChoice === true) {\n                    this.options.otherUuid = _.uniqueId(\"enum\");\n                }\n                if (this.options.index >= 0) {\n                    var enumIndex = this.element.closest(\"table\").data(\"enumIndex\");\n\n                    if (!enumIndex) {\n                        enumIndex = {};\n                    }\n                    if (!enumIndex[this.options.id]) {\n                        enumIndex[this.options.id] = 0;\n                    }\n                    this.options.inArray = true;\n                    this.options.enumIndex = enumIndex[this.options.id];\n                    enumIndex[this.options.id]++;\n                    this.element.closest(\"table\").data(\"enumIndex\", enumIndex);\n                }\n                this._initMainElementClass();\n                if (this._isMultiple()) {\n                    switch (this.options.renderOptions.editDisplay) {\n                        case \"autoCompletion\" :\n                        case \"list\" :\n                            this.multipleSelect();\n                            break;\n                        case \"horizontal\" :\n                        case \"vertical\" :\n                            this.checkboxButtons();\n                            break;\n                        case \"bool\":\n                            throw new Error(\"Enum bool display cannot be applied to a multiple attribute : \" + this.options.id);\n                        default:\n                            this.multipleSelect();\n                    }\n                    this.element.on(\"click\" + this.eventNamespace, '.dcpAttribute__value--enum--button', function wEnumSelectClick(event)\n                    {\n                        event.preventDefault();\n                        currentWidget.kendoWidgetObject.search(\"\");\n                    });\n                } else {\n                    switch (this.options.renderOptions.editDisplay) {\n                        case \"autoCompletion\" :\n                            this.singleCombobox();\n                            break;\n                        case \"list\" :\n                            this.singleDropdown();\n                            break;\n                        case \"bool\" :\n                            this.boolButtons();\n                            break;\n                        case \"horizontal\" :\n                        case \"vertical\" :\n                            this.radioButtons();\n                            break;\n                        default:\n                            this.singleDropdown();\n                    }\n                }\n\n            }\n\n            this.noButtonDisplay();\n        },\n        getSingleEnumData: function wEnumGetSingleEnumData()\n        {\n            var source = [];\n            var scope = this;\n            var selectedIndex = -1;\n            var item;\n\n            if (this.options.renderOptions.useSourceUri) {\n                source = [this.options.attributeValue];\n                selectedIndex = this.options.attributeValue.value;\n            } else {\n                _.each(this.options.sourceValues, function wEnum_prepareValue(enumItem)\n                {\n                    if (enumItem.key !== '' && enumItem.key !== ' ') {\n                        item = {};\n\n                        item.value = enumItem.key;\n                        item.displayValue = enumItem.label || '';\n                        item.exists = enumItem.exists !== false;\n                        item.enumUuid = _.uniqueId(\"enum\");\n\n                        // : no === because json encode use numeric cast when index is numeric\n                        //noinspection JSHint\n                        if (enumItem.key == scope.options.attributeValue.value) {\n                            selectedIndex = source.length;\n                            item.selected = true;\n                        } else {\n                            item.selected = false;\n                        }\n\n                        source.push(item);\n                    }\n                });\n                if (selectedIndex === -1 && this.options.attributeValue && !_.isUndefined(this.options.attributeValue.value) && this.options.attributeValue.value !== null) {\n                    selectedIndex = source.length;\n                    source.push({\n                        value: this.options.attributeValue.value,\n                        displayValue: this.options.attributeValue.displayValue || '',\n                        selected: true,\n                        exists: false,\n                        enumUuid: _.uniqueId(\"enum\")\n                    });\n                }\n            }\n\n            return {data: source, index: selectedIndex};\n        },\n\n        getMultipleEnumData: function wEnumGetMultipleEnumData()\n        {\n            var source = [];\n            var selectedValues = [];\n            var isIn = false;\n            var item;\n            var values = [];\n\n            if (this.options.attributeValue && this.options.attributeValue.value !== null) {\n                values = _.toArray(this.options.attributeValue);\n            }\n\n            if (this.options.renderOptions.useSourceUri) {\n                source = values;\n                selectedValues = _.pluck(values, \"value\");\n            } else {\n\n                _.each(this.options.sourceValues, function wEnum_prepareMultipleValue(enumItem)\n                {\n                    item = {};\n                    item.value = enumItem.key;\n                    item.displayValue = enumItem.label || '';\n                    item.selected = false;\n                    item.exists = enumItem.exists !== false;\n                    item.enumUuid = _.uniqueId(\"enum\");\n                    isIn = _.some(values, function wEnum_findSelected(aValue)\n                    {\n                        //noinspection JSHint\n                        return (aValue.value == enumItem.key);\n                    });\n\n                    // : no === because json encode use numeric cast when index is numeric\n                    //noinspection JSHint\n                    if (isIn) {\n                        item.selected = true;\n                    }\n\n                    source.push(item);\n                });\n\n                _.each(values, function wEnum_addOtherValues(singleValue)\n                {\n                    if (singleValue.value !== null && singleValue.value !== '') {\n                        if (singleValue.exists === false) {\n                            item = {};\n                            item.value = singleValue.value;\n                            item.displayValue = singleValue.displayValue;\n                            item.selected = true;\n                            item.exists = false;\n                            item.enumUuid = _.uniqueId(\"enum\");\n                            source.push(item);\n                        }\n                        selectedValues.push(singleValue.value);\n                    }\n                });\n            }\n\n            return {\n                data: source,\n                selectedValues: selectedValues\n            };\n        },\n\n        retrieveItems: function wEnumretrieveItemse(done)\n        {\n            var scope = this,\n                requestData = {};\n\n            if (this.options.renderOptions.orderBy) {\n                requestData.orderBy = this.options.renderOptions.orderBy;\n            }\n\n            // Get enums data and defer render\n            $.ajax({\n                type: \"GET\",\n                url: this.options.sourceUri,\n                dataType: \"json\",\n                data: requestData\n            }).done(function wEnum_retrieveDone(result)\n            {\n                scope.options.sourceValues = result.data.enumItems;\n                scope.options.renderOptions.useSourceUri = false;\n                done(scope);\n            }).fail(function wEnum_retrieveFail(response)\n            {\n                $('body').trigger(\"notification\", {\n                    htmlMessage: \"Enumerate \" + scope.options.id,\n                    message: response.statusText,\n                    type: \"error\"\n                });\n            });\n        },\n\n        noButtonDisplay: function wEnumNoDisplayButton()\n        {\n            if (this.element.find(\".dcpAttribute__content__buttons button\").length === 0) {\n                this.element.find(\".dcpAttribute__value--enumbuttons\").addClass(\"dcpAttribute__content__nobutton\");\n                this.element.find(\".dcpAttribute__content__buttons\").hide();\n            }\n        },\n\n        boolButtons: function wEnumBoolButtons()\n        {\n            var enumData;\n            var tplOption = this.options;\n            var scope = this;\n\n            if (this.options.renderOptions.useSourceUri) {\n                this.retrieveItems(function wEnum_onRetrieveDone(theWidget)\n                {\n                    theWidget.boolButtons();\n                });\n                return;\n            }\n\n            enumData = this.getSingleEnumData();\n            tplOption.enumValues = enumData.data;\n\n            if (tplOption.enumValues.length > 1) {\n                tplOption.enumValues[0].off = true;\n                tplOption.enumValues[1].on = true;\n            }\n\n            this.options.isMultiple = true; // Just to have checkbox\n\n            this.options.renderOptions.useOtherChoice = false; // Always : no use this options\n            this.element.append(Mustache.render(this._getTemplate('writeToggle') || \"\", this.options));\n            this.options.isMultiple = false; // restore isMultiple : it never can be multiple\n\n            if (scope.options.labels.invertSelection) {\n                this.element.find(\".dcpAttribute__value--toggle\").each(function wEnum_insertTooltip(kItem)\n                {\n                    if (tplOption.enumValues[kItem]) {\n                        $(this).tooltip({\n                            trigger: \"hover\",\n                            container: scope.element,\n                            title: Mustache.render(scope.options.labels.invertSelection || \"\",\n                                tplOption.enumValues[(kItem + 1) % 2])\n                        });\n                    }\n                });\n            }\n\n            this.noButtonDisplay();\n\n            this.element.on(\"click\" + this.eventNamespace, \".dcpAttribute__value--toggle\", function wEnum_booleanClick(event)\n            {\n                event.preventDefault();\n                // Invert selection\n                _.some(tplOption.enumValues, function wEnum_comboSetValue(item)\n                {\n                    if (scope.options.attributeValue.value === null || item.value !== scope.options.attributeValue.value) {\n                        scope.setValue(item, event);\n                        return true;\n                    }\n                    return false;\n                });\n            });\n\n            this.getContentElements().each(function wEnum_addKButton()\n            {\n                $(this).closest(\".dcpAttribute__value--enumlabel\").addClass(\"k-button\");\n\n            });\n            if (scope.options.attributeValue.value === null) {\n                // Set to first enum item if empty\n                var firstItem = tplOption.enumValues[0];\n                if (firstItem) {\n                    scope.setValue({value: firstItem.value, displayValue: firstItem.displayValue});\n                }\n            }\n\n        },\n        /**\n         * Identify the input where is the raw value\n         * @returns {*}\n         */\n        getContentElements: function wEnum_getContentElements()\n        {\n            if (this.options.inArray && (\n                this.options.renderOptions.editDisplay === \"horizontal\" ||\n                this.options.renderOptions.editDisplay === \"vertical\" ||\n                this.options.renderOptions.editDisplay === \"bool\")) {\n\n                return this.element.find('.dcpAttribute__value[name=\"' + this.options.id + '[' + this.options.enumIndex + ']\"]');\n            } else {\n                return this._super();\n            }\n        },\n\n        radioButtons: function wEnumRadioButtons()\n        {\n            var enumData;\n            var tplOption = this.options;\n            var labels;\n            var scope = this;\n            var hasNotExists;\n\n            if (this.options.renderOptions.useSourceUri) {\n                this.retrieveItems(function wEnum_retrieveDone(theWidget)\n                {\n                    theWidget.radioButtons();\n                });\n                return;\n            }\n\n            enumData = this.getSingleEnumData();\n\n            tplOption.enumValues = enumData.data;\n            hasNotExists = _.some(enumData.data, function wEnum_findNotExistItem(item)\n            {\n                return (item.exists === false);\n            });\n\n            if (hasNotExists === true) {\n                // No set twice for radio\n                this.options.renderOptions.useOtherChoice = false;\n            }\n            this.element.append(Mustache.render(this._getTemplate('writeRadio') || \"\", this.options));\n            labels = this.element.find(\".dcpAttribute__value--enumlabel\");\n\n            this.noButtonDisplay();\n            labels.on(\"change\" + this.eventNamespace, \"input[type=radio]\", function wEnum_onchange(event)\n            {\n                var newValue = {};\n                newValue.value = $(this).val();\n                newValue.displayValue = $(this).closest(\".dcpAttribute__value--enumlabel\").find(\"label\").text().trim();\n                scope.setValue(newValue, event);\n            });\n\n            this.getContentElements().each(function wEnum_addKButton()\n            {\n                $(this).closest(\"label\").addClass(\"k-button\");\n\n            });\n            if (scope.options.renderOptions.useFirstChoice && scope.options.attributeValue.value === null) {\n                // Set to first enum item if empty\n                var firstItem = tplOption.enumValues[0];\n                if (firstItem) {\n                    scope.setValue({value: firstItem.value, displayValue: firstItem.displayValue});\n                }\n            }\n\n            if (scope.options.labels.selectMessage) {\n                this.element.find(\".dcpAttribute__value--enumbuttons\").tooltip({\n                    container: \".dcpDocument\",\n                    selector: '.dcpAttribute__value--enumlabel--text',\n                    trigger: \"hover\",\n                    title: function wEnum_titleTooltip()\n                    {\n                        if ($(this).closest(\".dcpAttribute__value--enumlabel\").find(\"input\").prop(\"checked\")) {\n                            return null;\n                        } else {\n                            return Mustache.render(scope.options.labels.selectMessage, {\n                                displayValue: $(this).text(),\n                                value: $(this).parent().find(\"input\").val()\n                            });\n                        }\n                    }\n                });\n            }\n\n            this._checkRadioOther();\n        },\n        checkboxButtons: function wEnumRadioButtons()\n        {\n            var enumData;\n            var tplOption = this.options;\n            var scope = this;\n\n            if (this.options.renderOptions.useSourceUri) {\n                this.retrieveItems(function wEnum_onDone(theWidget)\n                {\n                    theWidget.checkboxButtons();\n                });\n                return;\n            }\n            enumData = this.getMultipleEnumData();\n            tplOption.enumValues = enumData.data;\n\n            this.element.append(Mustache.render(this._getTemplate('writeRadio') || \"\", this.options));\n\n            this.noButtonDisplay();\n            this.element.on(\"change\" + this.eventNamespace, \".dcpAttribute__value--enumlabel input[type=checkbox]\", function wEnum_onChange(event)\n            {\n\n                var newValue = [];\n\n                scope.getContentElements().each(function wEnum_findChecked()\n                {\n                    var $this = $(this);\n                    if ($this.prop(\"checked\")) {\n                        var itemValue = {};\n                        itemValue.value = $this.val();\n                        itemValue.displayValue = $this.closest('label').text().trim();\n                        newValue.push(itemValue);\n                    }\n                });\n\n                scope.setValue(newValue, event);\n            });\n\n            this.getContentElements().each(function wEnum_addKButton()\n            {\n                $(this).closest(\"label\").addClass(\"k-button\");\n            });\n\n            if (this.options.labels.selectMessage) {\n                this.element.find(\".dcpAttribute__value--enumbuttons\").tooltip({\n                    container: \".dcpDocument\",\n                    selector: '.dcpAttribute__value--enumlabel--text',\n                    trigger: \"hover\",\n                    title: function wEnum_Cb_titleTooltip()\n                    {\n                        var $this = $(this);\n                        if ($this.closest(\".dcpAttribute__value--enumlabel\").find(\"input\").prop(\"checked\")) {\n\n                            return Mustache.render(scope.options.labels.unselectMessage, {\n                                displayValue: $(this).text(),\n                                value: $(this).parent().find(\"input\").val()\n                            });\n                        } else {\n                            return Mustache.render(scope.options.labels.selectMessage, {\n                                displayValue: $(this).text(),\n                                value: $(this).parent().find(\"input\").val()\n                            });\n                        }\n                    }\n                });\n            }\n            if (this.options.renderOptions.useOtherChoice === true) {\n                this._checkBoxOther();\n            }\n        },\n\n        /**\n         * Manage other input for radio\n         * @private\n         */\n        _checkRadioOther: function wEnum__checkRadioOther()\n        {\n            this.element.find(\".dcpAttribute__value--enum--other\").on(\"focus\" + this.eventNamespace, function wEnumRadioOtherInputClick()\n            {\n\n                $(this).trigger(\"change\");\n\n            }).on(\"change\" + this.eventNamespace, function wEnumRadioOtherInputChange()\n            {\n                var $label = $(this).closest(\".dcpAttribute__value--enumlabel\");\n                var $input = $label.find(\".dcpAttribute__value--edit\");\n                $input.val($(this).val());\n                // Trigger change label input to real set value\n                $label.find(\"input[type=radio]\").trigger(\"change\");\n            }).on(\"keyup\" + this.eventNamespace, function wEnumRadioOtherInputKeyReturn(event)\n            {\n                var code = (event.keyCode ? event.keyCode : event.which);\n                if (code === 13 || code === 10) {\n                    $(this).blur();\n                }\n            });\n        },\n\n        /**\n         * Manage other input for checkbox\n         * @private\n         */\n        _checkBoxOther: function wEnum__checkBoxOther()\n        {\n            this.element.on(\"focus\" + this.eventNamespace, \".dcpAttribute__value--enum--other\", function wEnumCheckOtherInputClick()\n            {\n                $(this).trigger(\"change\");\n            }).on(\"change\" + this.eventNamespace, \".dcpAttribute__value--enum--other\", function wEnumCheckOtherInputChange()\n            {\n                var $label = $(this).closest(\".dcpAttribute__value--enumlabel\");\n                var $input = $label.find(\".dcpAttribute__value--edit\");\n                var $hasEmpty;\n                var $checkbox = $label.find(\"input[type=checkbox]\");\n\n                $input.val($(this).val());\n\n                $hasEmpty = _.some($(this).closest(\".dcpAttribute__value--enumbuttons\").find(\".dcpAttribute__value--enum--other\"), function wEnum_findEmptyOther(item)\n                {\n                    return $(item).val() === \"\";\n                });\n\n                if (!$hasEmpty) {\n                    var $newOne = $label.clone();\n                    var uuid = _.uniqueId(\"enum\");\n                    $newOne.find(\"input[type=checkbox]\").attr(\"id\", uuid);\n                    $newOne.find(\"label\").attr(\"for\", uuid);\n                    // add new input if no one free found\n                    $label.parent().append($newOne);\n                    $newOne.find(\"input\").val(\"\").prop(\"checked\", false);\n\n                    if (!$checkbox.prop(\"checked\")) {\n                        $label.find(\"label\").trigger(\"click\");\n                    }\n                }\n                // resend change trigger because this hook is call before the checkbox onchange event\n                $checkbox.trigger(\"change\");\n\n            }).on(\"keyup\" + this.eventNamespace, \".dcpAttribute__value--enum--other\", function wEnumCheckOtherInputKeyReturn(event)\n            {\n                var code = (event.keyCode ? event.keyCode : event.which);\n                if (code === 13 || code === 10) {\n                    $(this).blur(); // Change event will be triggered\n                }\n            });\n        },\n        singleDropdown: function wEnumSingleDropdown()\n        {\n            var kendoOptions = this.getKendoOptions();\n            var kddl;\n            this.element.append(Mustache.render(this._getTemplate('write') || \"\", this.options));\n            this.kendoWidget = this.element.find(\".dcpAttribute__value--edit\");\n            kddl = this.kendoWidget.kendoDropDownList(kendoOptions).data(\"kendoDropDownList\");\n            this.kendoWidgetObject = this.kendoWidget.data(\"kendoDrobDownList\");\n            kddl.list.find(\".k-list-optionlabel\").addClass(\"placeholder--clear\");\n        },\n        multipleSelect: function wEnumMultipleSelect()\n        {\n            var kendoOptions = this.getKendoOptions();\n            this.element.append(Mustache.render(this._getTemplate('write') || \"\", this.options));\n            this.kendoWidget = this.element.find(\".dcpAttribute__value--edit\");\n            this.kendoWidget.kendoMultiSelect(kendoOptions);\n            this.kendoWidgetObject = this.kendoWidget.data(\"kendoMultiSelect\");\n        },\n\n        singleCombobox: function wEnumSingleCombobox()\n        {\n            var kendoOptions = this.getKendoOptions();\n            var kddl;\n            var currentWidget = this;\n\n            this.element.append(Mustache.render(this._getTemplate('write') || \"\", this.options));\n            this.kendoWidget = this.element.find(\".dcpAttribute__value--edit\");\n\n            kddl = this.kendoWidget.kendoComboBox(kendoOptions).data(\"kendoComboBox\");\n\n            this.kendoWidgetObject = kddl;\n            if (this.options.renderOptions.useSourceUri) {\n                if (this.options.attributeValue.value === null) {\n                    //kddl.dataSource.data([]);\n                    kddl.value('');\n                } else {\n                    kddl.dataSource.data([this.options.attributeValue]);\n                    kddl.value(this.options.attributeValue.value);\n                }\n            } else {\n                if (this.options.attributeValue.value) {\n                    kddl.value(this.options.attributeValue.value);\n                }\n            }\n            this.element.on(\"click\" + this.eventNamespace, \".dcpAttribute__content__button--delete\", function wEnumDeleteFilter()\n            {\n                currentWidget.setError(null);\n                kddl.dataSource.filter({});\n                kddl.value('');\n            });\n\n        },\n\n        /**\n         *Set new value to widget\n         * @param value value {value:...., displayValue} or array of {value:...., displayValue}\n         * @param event\n         */\n        setValue: function wEnumSetValue(value, event)\n        {\n            var kddl, newValues;\n            var currentWidget = this;\n            if (this.options.renderOptions.editDisplay === \"bool\") {\n                // This display has only 2 values and cannot be set to null\n                if (value.value === null) {\n                    if (this.options.enumValues[0]) {\n                        value = this.options.enumValues[0];\n                    }\n                }\n            }\n            this._super(value, event);\n            if (this.getMode() === \"write\") {\n                if (this._isMultiple()) {\n                    switch (this.options.renderOptions.editDisplay) {\n                        case \"autoCompletion\":\n                        case \"list\":\n                            kddl = this.kendoWidget.data(\"kendoMultiSelect\");\n                            newValues = _.map(value, function wEnum_findValues(val)\n                            {\n                                if (!currentWidget.options.renderOptions.useSourceUri) {\n                                    if (!kddl.dataSource.get(val.value)) {\n                                        kddl.dataSource.add(val);\n                                    }\n                                }\n                                return val.value;\n                            });\n                            if (!_.isEqual(kddl.value(), newValues)) {\n                                this.flashElement();\n                                if (this.options.renderOptions.useSourceUri) {\n                                    if (newValues.length > 0) {\n                                        _.each(value, function wEnumCompleteExists(singleValue)\n                                        {\n                                            singleValue.exists = (singleValue.exists !== false);\n                                        });\n                                        kddl.dataSource.data(value);\n                                    }\n                                }\n                                kddl.value(newValues);\n                            }\n                            break;\n\n                        case \"horizontal\":\n                        case \"vertical\":\n                            this.getContentElements().each(function wEnum_findValues()\n                            {\n                                var $this = $(this);\n                                var inputValue = $this.val();\n\n                                var isIn = _.some(value, function wEnum_isIn(x)\n                                {\n                                    //noinspection JSHint\n                                    return (x.value == inputValue);\n                                });\n                                if (isIn) {\n                                    $this.prop(\"checked\", true);\n                                    $this.closest(\".dcpAttribute__value--enumlabel\").addClass(\"selected\");\n                                } else {\n                                    $this.prop(\"checked\", false);\n                                    $this.closest(\".dcpAttribute__value--enumlabel\").removeClass(\"selected\");\n                                }\n                            });\n\n                            this.element.find(\".dcpAttribute__value--enumlabel--text\").tooltip(\"hide\");\n                            break;\n                        default:\n                            throw new Error(\"Unknow Enum mode : \" + this.options.renderOptions.editDisplay);\n\n                    }\n                } else {\n                    switch (this.options.renderOptions.editDisplay) {\n                        case \"autoCompletion\":\n                            kddl = this.kendoWidget.data(\"kendoComboBox\");\n                            if (!_.isEqual(kddl.value(), value.value)) {\n                                this.flashElement();\n\n                                if (value.value !== null) {\n                                    if (this.options.renderOptions.useSourceUri) {\n                                        kddl.dataSource.data([value]);\n                                    } else {\n                                        if (!kddl.dataSource.get(value.value)) {\n                                            kddl.dataSource.add(value);\n                                        }\n                                    }\n                                    this.setError(null);\n                                    kddl.value(value.value);\n                                } else {\n                                    kddl.value('');\n                                }\n                            }\n                            break;\n                        case \"list\":\n                            kddl = this.kendoWidget.data(\"kendoDropDownList\");\n\n                            if (!_.isEqual(kddl.value(), (value.value || \"\"))) {\n                                this.flashElement();\n                                if (!kddl.dataSource.get(value.value)) {\n                                    kddl.dataSource.add(value);\n                                }\n\n                                // kendo need empty string (not null) to clear input\n                                kddl.value(value.value || \"\");\n                            }\n                            break;\n                        case \"bool\":\n                            this.getContentElements().each(function wEnum_parseElements()\n                            {\n                                var $this = $(this);\n                                var isOn;\n                                //noinspection JSHint\n                                if ($this.data(\"togglevalue\").toString() === value.value) {\n                                    if (!$this.hasClass(\"selected\")) {\n                                        if ($this.hasClass(\"on\")) {\n                                            isOn = true;\n                                            $this.removeClass(\"on\").addClass(\"off\");\n                                        } else\n                                            if ($this.hasClass(\"off\")) {\n                                                $this.removeClass(\"off\").addClass(\"on\");\n                                                isOn = false;\n                                            }\n                                        $this.addClass(\"selected\").removeClass(\"unselected\");\n\n                                        _.defer(function wEnumAnimateBool()\n                                        {\n                                            if (isOn === true) {\n                                                $this.addClass(\"on\").removeClass(\"off\");\n                                            } else {\n                                                $this.addClass(\"off\").removeClass(\"on\");\n                                            }\n                                        });\n                                    }\n                                } else {\n                                    $this.removeClass(\"selected\").addClass(\"unselected\");\n                                }\n                            });\n                            this.element.find(\".dcpAttribute__value--enumlabel\").tooltip(\"hide\");\n\n                            break;\n                        case \"horizontal\":\n                        case \"vertical\":\n                            this.getContentElements().each(function wEnum_parseElements()\n                            {\n                                var $this = $(this);\n                                //noinspection JSHint\n                                if ($this.val() == value.value) {\n                                    $this.prop(\"checked\", true);\n                                    $this.closest(\".dcpAttribute__value--enumlabel\").addClass(\"selected\");\n                                } else {\n                                    $this.prop(\"checked\", false);\n                                    $this.closest(\".dcpAttribute__value--enumlabel\").removeClass(\"selected\");\n                                }\n                            });\n\n                            this.element.find(\".dcpAttribute__value--enumlabel--text\").tooltip(\"hide\");\n                            break;\n                        default:\n                            throw new Error(\"Unknow Enum mode : \" + this.options.renderOptions.editDisplay);\n\n                    }\n                }\n            } else {\n                this._super(value, event);\n                this.redraw();\n            }\n        },\n        /**\n         * method use for transport multiselect widget\n         * @param options\n         */\n        autocompleteRequestEnum: function wEnumAutocompleteRequestEnum(options)\n        {\n            var requestData = {}, scope = this;\n\n            if (options.data.filter && options.data.filter.filters && options.data.filter.filters.length > 0) {\n                requestData.keyword = options.data.filter.filters[0].value;\n                requestData.operator = options.data.filter.filters[0].operator;\n            }\n            if (this.options.renderOptions.orderBy) {\n                requestData.orderBy = this.options.renderOptions.orderBy;\n            }\n\n            if (!this.options.sourceUri) {\n                throw new Error(\"Enum : sourceUri must be defined if renderOption useSourceUri is set to true\");\n            }\n            $.ajax({\n                type: \"GET\",\n                url: this.options.sourceUri,\n                data: requestData,\n                dataType: \"json\",\n                success: function wEnum_onAutoCompleteSuccess(result)\n                {\n                    var info = [];\n                    _.each(result.data.enumItems, function wEnum_analyzeResult(enumItem)\n                    {\n                        info.push({\n                            value: enumItem.key,\n                            displayValue: enumItem.label || '',\n                            exists: enumItem.exists !== false\n                        });\n                    });\n                    if (!scope._isMultiple()) {\n                        if (scope.options.attributeValue.value !== null) {\n                            if (!_.contains(_.pluck(info, \"value\"), scope.options.attributeValue.value)) {\n                                if (scope.options.attributeValue.displayValue === scope.options.attributeValue.value) {\n                                    scope.options.attributeValue.displayValue =\n                                        Mustache.render(scope.options.labels.displayOtherChoice, scope.options.attributeValue);\n                                }\n                                info.push(scope.options.attributeValue);\n                            }\n                        }\n                    } else {\n                        _.each(scope.options.attributeValue, function wEnumAddOtherInUri(singleValue)\n                        {\n                            var hasValue = _.some(info, function wEnumVerifyValue(singleInfo)\n                            {\n                                return singleInfo.value === singleValue.value;\n                            });\n                            if (!hasValue) {\n                                info.push(singleValue);\n                            }\n                        });\n                    }\n\n                    // notify the data source that the request succeeded\n                    options.success(info);\n                },\n                error: function wEnum_onAutoCompleteError(result)\n                {\n                    // notify the data source that the request failed\n                    options.error(result);\n                }\n            });\n        },\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoNumeric\n         * @returns {*}\n         */\n        getKendoOptions: function wEnumGetKendoOptions()\n        {\n            var scope = this,\n                source = null,\n                kendoOptions = {},\n                defaultOptions = {};\n\n            if (this._isMultiple()) {\n\n                source = this.getMultipleEnumData();\n\n                defaultOptions = {\n                    dataTextField: \"displayValue\",\n                    dataValueField: \"value\",\n                    clearButton: false,\n                    dataSource: (this.options.renderOptions.useSourceUri) ? source.data : new kendo.data.DataSource({\n                        data: source.data,\n                        schema: {model: {id: \"value\"}}\n                    }),\n                    placeholder: this.options.renderOptions.placeHolder,\n                    value: source.selectedValues,\n\n                    change: function wEnum_onChange(event)\n                    {\n                        event.preventDefault(); // no fire change event\n                        // set in case of delete item\n\n                        var kdData = _.toArray(scope.kendoWidget.data(\"kendoMultiSelect\").dataItems());\n                        var newValues = [];\n                        _.each(kdData, function wEnum_pushNewValues(val)\n                        {\n                            newValues.push({\n                                value: val.value,\n                                displayValue: val.displayValue,\n                                exists: val.exists !== false\n                            });\n                        });\n                        scope.setValue(newValues, event);\n                    },\n                    open: function wEnum_open(event)\n                    {\n                        _.bind(scope._kOpen, scope, event, this)();\n                    },\n                    /**\n                     * When other input is in list do not autoclose list to enter a new value\n                     * @param event\n                     */\n                    close: function wEnum_multipleClose(event)\n                    {\n                        _.bind(scope._kClose, scope, event, this)();\n                    }\n                };\n\n                if (_.isObject(scope.options.renderOptions.kendoMultiSelectConfiguration)) {\n                    kendoOptions = scope.options.renderOptions.kendoMultiSelectConfiguration;\n                }\n            } else {\n                source = this.getSingleEnumData();\n\n                defaultOptions = {\n                    /*valuePrimitive: true,*/\n                    dataTextField: \"displayValue\",\n                    dataValueField: \"value\",\n                    clearButton: false,\n                    optionLabel: {\n                        displayValue: this.options.renderOptions.placeHolder + ' ',\n                        value: '',\n                        exists: true\n                    },\n                    optionLabelTemplate: '<span class=\"placeholder\">#: displayValue #</span>',\n                    dataSource: (this.options.renderOptions.useSourceUri) ? source.data : new kendo.data.DataSource({\n                        data: source.data,\n                        schema: {model: {id: \"value\"}}\n                    }),\n                    index: (source.index < 0) ? undefined : source.index,\n                    autoBind: false,\n\n                    change: function wEnum_onChange(event)\n                    {\n                        if (this.value() && this.selectedIndex === -1) {\n                            scope.setError(scope.options.labels.invalidEntry);\n                            scope._getFocusInput().each(function wEnum_onChange()\n                            {\n                                this.focus();\n                            });\n                        } else {\n                            scope.setError(null);\n\n                            var newValue = {value: this.value(), displayValue: this.text()};\n                            scope.setValue(newValue, event);\n                        }\n                    },\n                    dataBound: function wEnum_dataBound()\n                    {\n                        if (scope.options.renderOptions.useFirstChoice && scope.options.attributeValue.value === null) {\n                            // Set to first enum item if empty\n                            var firstItem = this.dataSource.at(0);\n                            if (firstItem) {\n                                scope.setValue({value: firstItem.value, displayValue: firstItem.displayValue});\n                            }\n                        }\n                    },\n                    open: function wEnum_open(event)\n                    {\n                        _.bind(scope._kOpen, scope, event, this)();\n                    },\n                    /**\n                     * When other input is in list do not autoclose list to enter a new value\n                     * @param event\n                     */\n                    close: function wEnum_close(event)\n                    {\n                        _.bind(scope._kClose, scope, event, this)();\n                    }\n                };\n\n                if (this.options.renderOptions.editDisplay === \"autoCompletion\") {\n\n                    defaultOptions.index = -1;\n                    defaultOptions.value = this.options.attributeValue.value;\n                    defaultOptions.placeholder = this.options.renderOptions.placeHolder;\n\n                    if (_.isObject(scope.options.renderOptions.kendoComboBoxConfiguration)) {\n                        kendoOptions = scope.options.renderOptions.kendoComboBoxConfiguration;\n                    }\n                } else {\n\n                    if (_.isObject(scope.options.renderOptions.kendoDropDownConfiguration)) {\n                        kendoOptions = scope.options.renderOptions.kendoDropDownConfiguration;\n                    }\n                }\n            }\n\n            if (scope.options.renderOptions.useOtherChoice === true) {\n                // add \"other\" input in header list\n                defaultOptions.headerTemplate = $('<div><div class=\"dcpAttribute__value--enum-other\"><div class=\"input-group dcpAttribute__value--enum-other-content\">' +\n                    '<input class=\"form-control\" type=\"text\" placeholder=\"' + scope.options.labels.chooseAnotherChoice + '\"/>' +\n                    '<span class=\"input-group-btn\"><button class=\"btn btn-primary dcpAttribute__value--enum-other-select\">' + scope.options.labels.selectAnotherChoice + '</button></span> ' +\n                    '</div></div></div>').html();\n            }\n\n            if (this.options.renderOptions.useSourceUri) {\n                defaultOptions.dataSource = {\n                    data: source.data,\n                    index: source.index,\n                    // type: \"json\",\n                    serverFiltering: true,\n                    minLength: 0,\n                    transport: {\n                        read: _.bind(scope.autocompleteRequestEnum, scope)\n                    }\n                };\n            }\n            return _.extend(defaultOptions, kendoOptions);\n        },\n\n        _kSelectOther: function wEnumkSelect(event, kWidget, newValue)\n        {\n            kWidget.dataSource.filter({});\n            if (this._isMultiple()) {\n                var kdData = _.toArray(kWidget.dataItems());\n                var newValues = [];\n\n                _.each(kdData, function wEnum_pushNewValues(val)\n                {\n                    newValues.push({\n                        value: val.value,\n                        displayValue: val.displayValue,\n                        exists: val.exists\n                    });\n                });\n\n                newValues.push({\n                    value: newValue,\n                    exists: false,\n                    displayValue: Mustache.render(this.options.labels.displayOtherChoice, {value: newValue})\n                });\n\n                this.setValue(newValues, event);\n            } else {\n                this.setValue({\n                    value: newValue,\n                    exists: false,\n                    displayValue: Mustache.render(this.options.labels.displayOtherChoice, {value: newValue})\n                }, event);\n            }\n\n            $(\".dcpAttribute__value--enum-other input\").blur();\n            kWidget.close();\n        },\n\n        /**\n         * When other input is in list do not autoclose list to enter a new value\n         * @param event\n         * @param kWidget kendo widget\n         */\n        _kClose: function wEnumkClose(event, kWidget)\n        {\n            if (this.options.renderOptions.useOtherChoice === true) {\n                var $otherInput = kWidget.ul.closest(\".k-list-container\").find(\".dcpAttribute__value--enum-other\");\n                if ($otherInput.data(\"dcpEnumOtherFirstClose\") !== false ||\n                    $otherInput.find(\"input\").is(\":focus\")\n                ) {\n                    event.preventDefault();\n                    $otherInput.data(\"dcpEnumOtherFirstClose\", false);\n                }\n            }\n        },\n\n        _kOpen: function wEnumkOpen(event, kWidget)\n        {\n            var scope = this;\n            /**\n             * Special events for \"other\" choice input\n             */\n            if (this.options.renderOptions.useOtherChoice === true) {\n                var $container = kWidget.ul.closest(\".k-list-container\");\n                var $otherInput = $container.find(\".dcpAttribute__value--enum-other\");\n\n                if ($otherInput.length === 1 && $otherInput.data(\"dcpEnumOtherInitialized\") !== true) {\n                    $otherInput.data(\"dcpEnumOtherInitialized\", true);\n                    $otherInput.find(\".dcpAttribute__value--enum-other-select\").prop(\"disabled\", true);\n                    $container.prepend($otherInput);\n\n                    $otherInput.on(\"click\" + this.eventNamespace, \"input\",\n                        /**\n                         * Apply setValue and close list when confirm button is clicked\n                         * @param event\n                         */\n                        function wEnumSetOtherClick(event)\n                        {\n                            event.preventDefault();\n                            $(this).focus();\n                            $(this).data(\"dcpEnumOtherHasFocus\", true);\n                        });\n                    $container.on(\"click\" + this.eventNamespace, \"li.k-item\",\n                        /**\n                         * Force close for \"normal\" choice because autoclose is disabled\n                         */\n                        function wEnumItemClick()\n                        {\n                            var $input = $container.find(\".dcpAttribute__value--enum-other input\");\n                            $input.blur();\n                            kWidget.close();\n                        });\n\n                    $otherInput.on(\"keyup\" + this.eventNamespace, \"input\",\n                        /**\n                         * Apply setValue and close list when return key is pressed\n                         * @param event\n                         */\n                        function wEnumSetOtherKeyPress(event)\n                        {\n                            var code = (event.keyCode ? event.keyCode : event.which);\n                            var $input = $container.find(\".dcpAttribute__value--enum-other input\");\n                            var newValue = $input.val();\n                            if (code === 13 || code === 10) {\n                                if (newValue) {\n                                    _.bind(scope._kSelectOther, scope, event, kWidget, newValue)();\n                                }\n                            } else {\n                                kWidget.search(newValue);\n                            }\n                            $otherInput.find(\".dcpAttribute__value--enum-other-select\").prop(\"disabled\", !newValue);\n                        });\n\n                    $otherInput.on(\"click\" + this.eventNamespace, \".dcpAttribute__value--enum-other-select\", function wEnumSetOtherClick(event)\n                    {\n                        var $input = $container.find(\".dcpAttribute__value--enum-other input\");\n                        var newValue = $input.val();\n                        if (newValue) {\n                            _.bind(scope._kSelectOther, scope, event, kWidget, newValue)();\n                        }\n                    });\n                }\n\n                $container.find(\".dcpAttribute__value--enum-other\").data(\"dcpEnumOtherFirstClose\", true);\n            }\n        },\n\n        close: function wEnum_close()\n        {\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoDropDownList\")) {\n                this.kendoWidget.data(\"kendoDropDownList\").close();\n            }\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoComboBox\")) {\n                this.kendoWidget.data(\"kendoComboBox\").close();\n            }\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoMultiSelect\")) {\n                this.kendoWidget.data(\"kendoMultiSelect\").close();\n            }\n            return this._super();\n        },\n\n        getType: function wEnum_getType()\n        {\n            return \"enum\";\n        },\n\n        _destroy: function wEnum_destroy()\n        {\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoDropDownList\")) {\n                this.kendoWidget.data(\"kendoDropDownList\").destroy();\n            }\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoComboBox\")) {\n                this.kendoWidget.data(\"kendoComboBox\").destroy();\n            }\n            if (this.kendoWidget && this.kendoWidget.data(\"kendoMultiSelect\")) {\n                this.kendoWidget.data(\"kendoMultiSelect\").destroy();\n            }\n            this._super();\n        }\n\n    });\n\n    return $.fn.dcpEnum;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/enum/wEnum.js","//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/underscore/underscore.js\n// module id = 8e08e542008e4aef1f58\n// module chunks = mainSmartElement smartElementGrid smartElement vendor","/**\n * Main bootstraper\n */\n/*global require, console*/\nimport \"./loading/loading.css\";\nimport $ from \"jquery\";\n\n$.get(\"api/v1/i18n/DOCUMENT\").done(function translationLoaded(catalog) {\n\n    //Trigger an event when translation loaded\n    window.dcp.i18n = catalog;\n    const _ = require('underscore');\n    require('dcpDocument/widgets/documentController/documentController');\n    require('kendo');\n\n    'use strict';\n    console.timeEnd(\"js loading\");\n\n    var $document = $(\".document\"), currentValues, varWidgetValue=\"widgetValue\";\n\n    window.dcp = window.dcp || {};\n\n    window.dcp.documentReady = false;\n\n    if (!window.dcp.viewData && window.location.hash) {\n        currentValues = window.location.hash;\n        if (currentValues[0] === \"#\") {\n            currentValues = currentValues.slice(1);\n        }\n        if (currentValues.indexOf(varWidgetValue) === 0) {\n            try {\n                window.dcp.viewData = JSON.parse(currentValues.slice(varWidgetValue.length));\n            } catch(ex1) {\n                try {\n                    window.dcp.viewData = JSON.parse(decodeURI(currentValues.slice(varWidgetValue.length)));\n                } catch(ex2) {\n                    $document.documentController(\"showMessage\", {\n                        type: \"error\",\n                        message: \"unable to retrieve document\"\n                    });\n                }\n            }\n        }\n\n    }\n\n    window.dcp.triggerReload = function triggerReload()\n    {\n        // Init bind events in case of use extern document controller\n        if (window.documentLoaded && _.isFunction(window.documentLoaded) && !window.dcp.documentReady) {\n            window.documentLoaded($document, window.dcp.viewData);\n            window.dcp.documentReady = true;\n        }\n    };\n\n    if (window.dcp.viewData !== false && window.dcp.viewData.initid) {\n        $document.documentController(window.dcp.viewData);\n        $document.one(\"documentready\", function launchReady()\n        {\n            window.dcp.triggerReload();\n            _.each(window.dcp.messages, function (msg) {\n                $document.documentController(\"showMessage\", {\n                    type: msg.type,\n                    message: msg.contentText\n                });\n            });\n        });\n    } else {\n        $document.documentController();\n        window.dcp.triggerReload();\n    }\n\n    window.dcp.document = $document;\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/mainDocument.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone',\n    'dcpDocument/models/mDocument'\n], function (_, Backbone, mDocument) {\n    'use strict';\n\n    return Backbone.Model.extend({\n\n        typeModel:\"ddui:transitionGraph\",\n        defaults: {\n            documentId: undefined,\n            state: undefined\n        },\n\n        /**\n         * Compute the REST URL for the current document\n         *\n         * Used internaly by backbone in fetch, save, destroy\n         *\n         * @returns {string}\n         */\n        url: function mTransition_url() {\n            var urlData = \"api/v1/documents/<%= documentId %>/workflows/states/?allStates=1\";\n\n            urlData = urlData.replace(\"<%= documentId %>\", encodeURIComponent(this.get(\"documentId\")));\n\n            return urlData;\n        },\n        /**\n         * Parse the return of the REST API\n         * @param response\n         * @returns {{properties: (*|properties|exports.defaults.properties|exports.parse.properties|.createObjectExpression.properties), menus: (app.views.shared.menu|*), locale: *, renderMode: string, attributes: Array, templates: *, renderOptions: *}}\n         */\n        parse: function mTransition_Parse(response) {\n            var values;\n            if (response.success === false) {\n                throw new Error(\"Unable to get the data from change state\");\n            }\n\n            values = {\n                state: this.get(\"state\"),\n                messages: response.messages,\n                workflowStates: response.data.states\n            };\n            return values;\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mTransitionGraph.js","/*global define, _super*/\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'dcpDocument/widgets/attributes/text/wText'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._);\n    }\n}(window, function require_htmltext($, _)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpHtmltext\", $.dcp.dcpText, {\n\n        options: {\n            type: \"htmltext\",\n            renderOptions: {\n                anchors: {\n                    target: \"_blank\"\n                },\n                toolbar: 'Basic',\n                height: '100px',\n                toolbarStartupExpanded: true,\n                ckEditorConfiguration: {},\n                ckEditorAllowAllTags:false\n            },\n            locale: \"en\"\n        },\n\n        ckEditorInstance: null,\n\n        _initDom: function wHtmltext_InitDom()\n        {\n            var currentWidget = this, bind_super = _.bind(this._super, this), bindInitEvent = _.bind(this._initEvent, this);\n            try {\n                this.popupWindows = {};\n                if (this.getMode() === \"write\") {\n                    (function wHtmltext_umdRequire(factory)\n                    {\n                        if (typeof define === 'function' && define.amd) {\n                            require.ensure([\n                                'documentCkEditor'\n                            ], () => {\n                                require('documentCkEditor');\n                                factory()\n                            }, \"documentCkEditor\");\n                        } else {\n                            //noinspection JSUnresolvedVariable\n                            factory();\n                        }\n                    }(function wHtmltext_initEditDom()\n                    {\n                        var options = _.extend(currentWidget.ckOptions(), currentWidget.options.renderOptions.ckEditorConfiguration);\n                        bind_super();\n                        if (currentWidget.options.renderOptions.ckEditorAllowAllTags) {\n                            // Allow all HTML tags\n                            options.allowedContent = {\n                                $1: {\n                                    // Use the ability to specify elements as an object.\n                                    elements: window.CKEDITOR.dtd,\n                                    attributes: true,\n                                    styles: true,\n                                    classes: true\n                                }\n                            };\n                            options.disallowedContent = 'script; *[on*]';\n                        }\n                        currentWidget.ckEditorInstance = currentWidget.getContentElements().ckeditor(\n                            options\n                        ).editor;\n                        currentWidget.options.attributeValue.value = currentWidget.ckEditorInstance.getData();\n                        bindInitEvent();\n                    }));\n                } else {\n                    bind_super();\n                }\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n        },\n\n        /**\n         * Define option set for ckEditor widget\n         * @returns {{language: string, contentsCss: string[], removePlugins: string, toolbarCanCollapse: boolean, entities: boolean, filebrowserImageBrowseUrl: string, filebrowserImageUploadUrl: string, toolbar_Full: *[], toolbar_Default: *[], toolbar_Simple: *[], toolbar_Basic: *[], removeButtons: string}}\n         */\n        ckOptions: function wHtmlTextCkOptions()\n        {\n            var locale = this.options.locale;\n            var hrefBase=$(\"head base\").attr(\"href\") || \"\"; // no use document.baseURI because get complete url if no base href defined\n            if (this.options.renderOptions.toolbar) {\n                this.options.renderOptions.ckEditorConfiguration.toolbar = this.options.renderOptions.toolbar;\n            }\n            if (this.options.renderOptions.height) {\n                this.options.renderOptions.ckEditorConfiguration.height = this.options.renderOptions.height;\n            }\n            if (!_.isUndefined(this.options.renderOptions.toolbarStartupExpanded)) {\n                this.options.renderOptions.ckEditorConfiguration.toolbarStartupExpanded = this.options.renderOptions.toolbarStartupExpanded;\n            }\n            return {\n                language: locale.substring(0, 2),\n                contentsCss: ['css/a4/document/ckeditor.css'],\n                removePlugins: 'elementspath', // no see HTML path elements\n                toolbarCanCollapse: true,\n                entities: false, // no use HTML entities\n                baseHref : hrefBase,\n                filebrowserImageBrowseUrl: hrefBase+'?sole=Y&app=FDL&action=CKIMAGE',\n                filebrowserImageUploadUrl: hrefBase+'?sole=Y&app=FDL&action=CKUPLOAD',\n                toolbar_Full: [\n                    {\n                        name: 'document',\n                        items: ['Sourcedialog', '-', 'NewPage', 'DocProps', 'Preview', 'Print', '-', 'Templates']\n                    },\n                    {\n                        name: 'clipboard',\n                        items: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n                    },\n                    {name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-']},\n                    {\n                        name: 'forms',\n                        items: ['Form', 'Checkbox', 'Radio', 'TextField', 'Textarea', 'Select', 'Button', 'ImageButton',\n                            'HiddenField']\n                    },\n                    '/',\n                    {\n                        name: 'basicstyles',\n                        items: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'RemoveFormat']\n                    },\n                    {\n                        name: 'paragraph',\n                        items: ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv',\n                            '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl']\n                    },\n                    {name: 'links', items: ['Link', 'Unlink']},\n                    {\n                        name: 'insert',\n                        items: ['Image', 'Table', 'HorizontalRule', 'Smiley', 'SpecialChar', 'PageBreak', 'Iframe']\n                    },\n                    '/',\n                    {name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize']},\n                    {name: 'colors', items: ['TextColor', 'BGColor']},\n                    {name: 'tools', items: ['Maximize', 'ShowBlocks', '-', 'About']}\n                ],\n                toolbar_Default: [\n                    {name: 'document', items: ['Sourcedialog']},\n                    {\n                        name: 'clipboard',\n                        items: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n                    },\n                    {name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll']},\n                    {\n                        name: 'basicstyles',\n                        items: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'RemoveFormat']\n                    },\n                    {\n                        name: 'paragraph',\n                        items: ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv',\n                            '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl']\n                    },\n                    {name: 'links', items: ['Link', 'Unlink']},\n                    {name: 'insert', items: ['Image', 'Table', 'HorizontalRule', 'SpecialChar', 'PageBreak', 'Iframe']},\n                    {name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize']},\n                    {name: 'colors', items: ['TextColor', 'BGColor']},\n                    {name: 'tools', items: ['Maximize', 'ShowBlocks', '-', 'About']}\n                ],\n                toolbar_Simple: [\n                    {name: 'document', items: []},\n                    {name: 'basicstyles', items: ['Bold', 'Italic', 'Underline', 'Strike', '-', 'RemoveFormat']},\n                    {\n                        name: 'paragraph', items: ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-',\n                        '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']\n                    },\n                    {name: 'links', items: ['Link', 'Unlink']},\n                    {name: 'insert', items: ['Image', 'Table', 'SpecialChar']},\n                    {name: 'styles', items: ['Format', 'FontSize']},\n                    {name: 'colors', items: ['TextColor', 'BGColor']},\n                    {name: 'tools', items: ['Maximize', 'Sourcedialog', '-', 'About']}\n                ],\n                toolbar_Basic: [\n                    {\n                        name: 'links',\n                        items: ['Bold', 'Italic', '-', 'NumberedList', 'BulletedList', '-', 'Link', 'Unlink', '-', 'Maximize', 'About']\n                    }\n                ],\n                removeButtons: \"\"\n            };\n        },\n\n        _initEvent: function _initEvent()\n        {\n            var currentWidget = this;\n            this._super();\n            if (this.ckEditorInstance) {\n                this.ckEditorInstance.on(\"change\", function wHtmltext_change()\n                {\n                    currentWidget.setValue({value: this.getData()});\n                });\n\n                this.ckEditorInstance.on(\"focus\", function wHtmltext_focus()\n                {\n                    var ktTarget = currentWidget.element.find(\".input-group\");\n                    currentWidget.showInputTooltip(ktTarget);\n                    currentWidget.element.find(\".cke\").addClass(\"k-state-focused\");\n                    currentWidget.element.closest(\".dcpAttribute__content\").addClass(\"dcpAttribute--focus\");\n                });\n\n                this.ckEditorInstance.on(\"blur\", function wHtmltext_blur()\n                {\n                    var ktTarget = currentWidget.element.find(\".input-group\");\n                    currentWidget.hideInputTooltip(ktTarget);\n                    currentWidget.element.find(\".cke\").removeClass(\"k-state-focused\");\n                    currentWidget.element.closest(\".dcpAttribute__content\").removeClass(\"dcpAttribute--focus\");\n                });\n\n                this.ckEditorInstance.on(\"instanceReady\", function wHtmltext_loaded()\n                {\n                    currentWidget._trigger(\"widgetReady\");\n                });\n\n                this.element.on(\"postMoved\" + this.eventNamespace, function wHtmlTextOnPostMoved(event, eventData)\n                {\n                    if (eventData && (eventData.to === currentWidget.options.index )) {\n                        currentWidget.redraw();\n                    }\n                });\n            }\n\n            //If we are not in CKEDITOR mode, we take care of anchor and redirect it\n            if (this.getMode() !== \"write\") {\n                this.element.on(\"click.\" + this.eventNamespace, 'a:not([href^=\"#action/\"]):not([data-action])', function wHtmlAnchorClick(event) {\n                    var internalEvent = {prevent: false},\n                        anchor = this,\n                        $anchor = $(this),\n                        isNotPrevented,\n                        anchorsConfig,\n                        anchorsTarget,\n                        wFeature = '',\n                        href,\n                        dcpWindow;\n\n                    if (event.stopPropagation) {\n                        event.stopPropagation();\n                    }\n                    event.preventDefault();\n\n                    anchorsConfig = _.extend({}, currentWidget.options.renderOptions.anchors);\n\n                    isNotPrevented = currentWidget._trigger(\"anchorClick\", internalEvent, {\n                        $el: currentWidget.element,\n                        index: currentWidget._getIndex(),\n                        options: {\n                            anchor: anchor,\n                            anchorsConfig: anchorsConfig\n                        }\n                    });\n                    if (isNotPrevented) {\n                        var $base = $(\"base\");\n                        var isAbsUrl = new RegExp('^(?:[a-z]+:)?//', 'i');\n\n                        anchorsTarget = anchorsConfig.target || \"_blank\";\n                        href = anchor.href;\n\n                        if ($anchor.attr(\"href\") && $anchor.attr(\"href\").substring(0, 1) === \"#\") {\n                            href = window.location.protocol +\n                                \"//\" + window.location.hostname +\n                                (window.location.port ? ':' + window.location.port: '') +\n                                (window.location.pathname ? window.location.pathname : '/') +\n                                (window.location.search ? window.location.search : '')\n                                +$anchor.attr(\"href\");\n                        }\n\n                        switch (anchorsTarget) {\n                            case \"_dialog\":\n                                if (currentWidget.popupWindows[href]) {\n                                    dcpWindow = currentWidget.popupWindows[href];\n                                } else {\n                                    dcpWindow = $('<div/>').appendTo('body').dcpWindow({\n                                        width: anchorsConfig.windowWidth,\n                                        height: anchorsConfig.windowHeight,\n                                        modal: anchorsConfig.modal,\n                                        content: href,\n                                        iframe: true\n                                    });\n\n                                    currentWidget.popupWindows[href] = dcpWindow;\n                                    dcpWindow.data('dcpWindow').kendoWindow().center();\n                                }\n                                dcpWindow.data('dcpWindow').open();\n                                break;\n                            case \"_self\":\n                                // For IE : Not honor base href in this case\n                                if (!isAbsUrl.test(href)) {\n                                    window.location.href = $base.attr(\"href\") + href;\n                                } else {\n                                    window.location.href = href;\n                                }\n                                break;\n                            default:\n                                if (anchorsConfig.windowWidth || anchorsConfig.windowHeight) {\n                                    if (anchorsConfig.windowWidth) {\n                                        wFeature += \"width=\" + parseInt(anchorsConfig.windowWidth, 10) + \",\";\n                                    }\n                                    if (anchorsConfig.windowHeight) {\n                                        wFeature += \"height=\" + parseInt(anchorsConfig.windowHeight, 10) + \",\";\n                                    }\n                                    wFeature += \"resizable=yes,scrollbars=yes\";\n                                }\n                                if (!isAbsUrl.test(href)) {\n                                    href= $base.attr(\"href\") + href;\n                                }\n                                window.open(href, anchorsTarget, wFeature);\n                                break;\n                        }\n                    }\n                });\n            }\n        },\n        /**\n         * Define inputs for focus\n         * @protected\n         */\n        _getFocusInput: function wHtmltext_getFocusInput()\n        {\n            return this.element;\n        },\n        /**\n         * No use parent change\n         */\n        _initChangeEvent: function wHtmltext_initChangeEvent()\n        {\n\n        },\n\n        getWidgetValue: function wHtmltext_getWidgetValue()\n        {\n            return this.getContentElements().val();\n        },\n\n        /**\n         * Change the value of the widget\n         * @param value\n         */\n        setValue: function wHtmltextSetValue(value)\n        {\n            value = _.clone(value);\n            if (value.value === null) {\n                // ckEditor restore original value if set to null\n                value.value = '';\n            }\n            if (_.has(value, \"value\") && !_.has(value, \"displayValue\")) {\n                value.displayValue = value.value;\n            }\n            if (this.getMode() === \"write\") {\n                // Flash element only\n                var originalValue = this.ckEditorInstance.getData();\n                // : explicit lazy equal\n\n                //noinspection JSHint\n                if (originalValue.trim() != value.value.trim()) {\n\n                    // Modify value only if different\n                    this.getContentElements().val(value.value);\n                    this.flashElement(this.element.find('iframe'));\n                }\n            } else\n                if (this.getMode() === \"read\") {\n                    this.getContentElements().html(value.displayValue);\n                } else {\n                    throw new Error(\"Attribute \" + this.options.id + \" unknown mode \" + this.getMode());\n                }\n\n            // call wAttribute::setValue()\n            $.dcp.dcpAttribute.prototype.setValue.call(this, value);\n        },\n\n        getType: function wHtmltext_getType()\n        {\n            return \"htmltext\";\n        },\n\n        _destroy: function wHtmlTextDestroy()\n        {\n            var currentWidget = this;\n            if (this.ckEditorInstance && this.ckEditorInstance.destroy) {\n                if (this.ckEditorInstance.status === \"loaded\" || this.ckEditorInstance.status === \"ready\") {\n                    this.ckEditorInstance.destroy();\n                    _.defer(function wHtmltext_deferDestroy()\n                    {\n                        currentWidget._destroy();\n                    });\n                    return;\n                } else\n                    if (this.ckEditorInstance.status === \"unloaded\") {\n                        this.ckEditorInstance.on(\"loaded\", function wHtmltext_loaded()\n                        {\n                            currentWidget._destroy();\n                        });\n                        return;\n                    }\n            }\n            _.each(this.popupWindows, function wHtmltextDestroyPopup(pWindow)\n            {\n                pWindow.data('dcpWindow').destroy();\n            });\n            this._super();\n        },\n\n        /**\n         * Trigger a ready event when widget is render\n         */\n        _triggerReady: function wAttributeReady()\n        {\n            if (this.getMode() !== \"write\") {\n                this._super();\n            }\n        }\n\n    });\n\n    return $.fn.dcpHtmltext;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/htmltext/wHtmltext.js","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(313);\n\tmodule.exports = __webpack_require__(313);\n\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports) {\n\n\t(function( window, undefined ) {\n\t    kendo.cultures[\"fr-FR\"] = {\n\t        name: \"fr-FR\",\n\t        numberFormat: {\n\t            pattern: [\"-n\"],\n\t            decimals: 2,\n\t            \",\": \" \",\n\t            \".\": \",\",\n\t            groupSize: [3],\n\t            percent: {\n\t                pattern: [\"-n %\",\"n %\"],\n\t                decimals: 2,\n\t                \",\": \" \",\n\t                \".\": \",\",\n\t                groupSize: [3],\n\t                symbol: \"%\"\n\t            },\n\t            currency: {\n\t                name: \"Euro\",\n\t                abbr: \"EUR\",\n\t                pattern: [\"-n $\",\"n $\"],\n\t                decimals: 2,\n\t                \",\": \" \",\n\t                \".\": \",\",\n\t                groupSize: [3],\n\t                symbol: \"€\"\n\t            }\n\t        },\n\t        calendars: {\n\t            standard: {\n\t                days: {\n\t                    names: [\"dimanche\",\"lundi\",\"mardi\",\"mercredi\",\"jeudi\",\"vendredi\",\"samedi\"],\n\t                    namesAbbr: [\"dim.\",\"lun.\",\"mar.\",\"mer.\",\"jeu.\",\"ven.\",\"sam.\"],\n\t                    namesShort: [\"di\",\"lu\",\"ma\",\"me\",\"je\",\"ve\",\"sa\"]\n\t                },\n\t                months: {\n\t                    names: [\"janvier\",\"février\",\"mars\",\"avril\",\"mai\",\"juin\",\"juillet\",\"août\",\"septembre\",\"octobre\",\"novembre\",\"décembre\"],\n\t                    namesAbbr: [\"janv.\",\"févr.\",\"mars\",\"avr.\",\"mai\",\"juin\",\"juil.\",\"août\",\"sept.\",\"oct.\",\"nov.\",\"déc.\"]\n\t                },\n\t                AM: [\"\"],\n\t                PM: [\"\"],\n\t                patterns: {\n\t                    d: \"dd/MM/yyyy\",\n\t                    D: \"dddd d MMMM yyyy\",\n\t                    F: \"dddd d MMMM yyyy HH:mm:ss\",\n\t                    g: \"dd/MM/yyyy HH:mm\",\n\t                    G: \"dd/MM/yyyy HH:mm:ss\",\n\t                    m: \"d MMMM\",\n\t                    M: \"d MMMM\",\n\t                    s: \"yyyy'-'MM'-'dd'T'HH':'mm':'ss\",\n\t                    t: \"HH:mm\",\n\t                    T: \"HH:mm:ss\",\n\t                    u: \"yyyy'-'MM'-'dd HH':'mm':'ss'Z'\",\n\t                    y: \"MMMM yyyy\",\n\t                    Y: \"MMMM yyyy\"\n\t                },\n\t                \"/\": \"/\",\n\t                \":\": \":\",\n\t                firstDay: 1\n\t            }\n\t        }\n\t    }\n\t})(this);\n\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// ./~/kendo-ui-core/js/cultures/kendo.culture.fr-FR.js","/*global define, console, require*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'little-loader',\n    'dcpDocument/models/mDocumentProperties',\n    'dcpDocument/models/mDocumentLock',\n    'dcpDocument/models/mFamilyStructure',\n    'dcpDocument/collections/attributes',\n    'dcpDocument/collections/menus',\n    'dcpDocument/i18n/documentCatalog'\n], function mDocument($, _, Backbone, load, DocumentProperties, DocumentLock, FamilyStructure, CollectionAttributes, CollectionMenus, i18n)\n{\n    'use strict';\n\n    var flattenAttributes = function mDocumentflattenAttributes(currentAttributes, attributes, parent)\n    {\n        if (!_.isArray(attributes)) {\n            attributes = _.values(attributes);\n        }\n        if (parent) {\n            _.each(attributes, function mDocumentEachflattenParentAttributes(value)\n            {\n                value.parent = parent;\n            });\n        }\n        currentAttributes = _.union(currentAttributes, attributes);\n        _.each(attributes, function mDocumentEachflattenAttributes(currentAttr)\n        {\n            if (currentAttr.content) {\n                currentAttributes = _.union(currentAttributes, flattenAttributes(currentAttributes, currentAttr.content, currentAttr.id));\n            }\n        });\n        return currentAttributes;\n    };\n\n    //noinspection JSValidateJSDoc\n    return Backbone.Model.extend({\n        typeModel: \"ddui:document\",\n        idAttribute: \"initid\",\n\n        defaults: {\n            revision: -1,\n            viewId: undefined,\n            renderMode: \"view\",\n            properties: undefined,\n            menus: undefined,\n            attributes: undefined\n        },\n        // Record custom data in model directly - not in model property because must not be reset by clear method\n        _customClientData: {},\n        _uploadingFile: 0,\n        /**\n         * Compute the REST URL for the current document\n         *\n         * Used internaly by backbone in fetch, save, destroy\n         *\n         * @returns {string}\n         */\n        url: function mDocumenturl()\n        {\n            var urlData = \"api/v1/\", viewId = this.get(\"viewId\");\n            var customClientData = this._customClientData;\n            var currentMethod = this.get(\"currentHttpMethod\");\n            var revision = this.get(\"revision\");\n\n            if (this.get(\"creationFamid\") && this.id === null) {\n                urlData += \"families/\" + encodeURIComponent(this.get(\"creationFamid\")) + \"/documentsViews/\";\n            } else {\n                urlData += \"documents/\" + encodeURIComponent(this.id);\n                //Don't add revision for the deletion of a alive document\n                if (revision !== null && (currentMethod !== \"delete\")) {\n                    if (_.isObject(revision) && revision.state) {\n                        urlData += \"/revisions/\" + encodeURIComponent(\"state:\" + revision.state);\n                    } else\n                        if (revision >= 0) {\n                            urlData += \"/revisions/\" + encodeURIComponent(revision);\n                        }\n                }\n                if (viewId === undefined) {\n                    if (this.get(\"renderMode\") === \"view\" || currentMethod === \"delete\") {\n                        viewId = \"!defaultConsultation\";\n                    } else\n                        if (this.get(\"renderMode\") === \"edit\") {\n                            viewId = \"!defaultEdition\";\n                        } else {\n                            viewId = \"!defaultConsultation\";\n                        }\n                }\n                if (currentMethod === \"delete\" && this.get(\"renderMode\") === \"edit\") {\n                    viewId = \"!defaultConsultation\";\n                }\n                urlData += \"/views/\" + encodeURIComponent(viewId);\n            }\n\n            if (!_.isEmpty(customClientData) && (currentMethod === \"read\" || currentMethod === \"delete\" )) {\n                urlData += \"?customClientData=\" + encodeURIComponent(JSON.stringify(customClientData));\n            }\n            return urlData;\n        },\n\n        /**\n         * override Backbone sync to record method\n         * @param method\n         * @param model\n         * @param options\n         * @returns {*}\n         */\n        sync: function mDocumentSync(method, model, options)\n        {\n            this.set(\"currentHttpMethod\", method); // record for url method\n            return Backbone.Model.prototype.sync.apply(this, arguments);\n        },\n        /**\n         * Initialize event handling\n         *\n         */\n        initialize: function mDocumentinitialize()\n        {\n            var theModel = this;\n\n            this.listenTo(this, \"dduiDocumentFail\", this.propagateSynchroError);\n            this.listenTo(this, \"destroy\", this.destroySubcollection);\n            this.listenTo(this, \"destroy\", this.unbindLoadEvent);\n\n            $(window).on(\"beforeunload.\" + this.cid, function mDocumentBeforeUnload()\n            {\n                var security = theModel.get(\"properties\") ? (theModel.get(\"properties\").get(\"security\")) : null,\n                    event = {prevent: false};\n                if (theModel.hasAttributesChanged()) {\n                    return i18n.___(\"The form has been modified and is is not saved\", \"ddui\");\n                }\n\n                theModel.trigger(\"beforeClose\", event, theModel.getServerProperties(), this._customClientData);\n\n                if (event.prevent) {\n                    return i18n.___(\"Unable to close the document\", \"ddui\");\n                }\n\n                if (theModel.get(\"renderMode\") === \"edit\" && security && security.lock && security.lock.temporary) {\n                    // No use model destroy : page is destroyed before request is some case\n                    $.ajax({\n                        url: \"api/v1/documents/\" + theModel.get(\"initid\") + \"/locks/temporary\",\n                        type: \"DELETE\",\n                        async: false\n                    });\n                    theModel.set(\"unlocking\", true);\n                }\n            });\n\n            $(window).on(\"pagehide.\" + this.cid, function mDocumentPageHide(event)\n            {\n                var security = theModel.get(\"properties\") ? (theModel.get(\"properties\").get(\"security\")) : null;\n                var unlocking = theModel.get(\"unlocking\");\n\n                theModel.trigger(\"close\", event, theModel.getServerProperties(), this._customClientData);\n\n                if (!unlocking && theModel.get(\"renderMode\") === \"edit\" && security && security.lock && security.lock.temporary) {\n                    $.ajax({\n                        url: \"api/v1/documents/\" + theModel.get(\"initid\") + \"/locks/temporary\",\n                        type: \"DELETE\",\n                        async: false\n                    });\n                }\n            });\n        },\n\n        /**\n         * Return a plain object of the current document for an usage in the view\n         *\n         * @returns {{document: {}}}\n         */\n        toData: function mDocumenttoData()\n        {\n            var returnObject = {\n                document: {}\n            };\n            returnObject.document.properties = this.getServerProperties();\n            returnObject.menus = this.get(\"menus\").toJSON();\n            returnObject.templates = this.get(\"templates\");\n            return returnObject;\n        },\n\n        /**\n         * Return all the values of the current document\n         *\n         * @returns {{}}\n         */\n        getValues: function mDocumentdocumentGetValues()\n        {\n            var values = {};\n            if (!this.get(\"attributes\")) {\n                return values;\n            }\n            this.get(\"attributes\").each(function mDocumentGetValue(currentAttribute)\n            {\n                var currentValue = currentAttribute.get(\"attributeValue\"), i, arrayValues = [];\n                if (!currentAttribute.get(\"isValueAttribute\")) {\n                    return;\n                }\n                if (currentAttribute.get(\"multiple\")) {\n                    currentValue = _.toArray(currentValue);\n                    if (currentValue.length > 0) {\n                        for (i = 0; i < currentValue.length; i += 1) {\n                            arrayValues.push(currentValue[i] || {value: null});\n                        }\n                    } else {\n                        arrayValues = [];//{value: null};\n                    }\n                    values[currentAttribute.id] = arrayValues;\n                } else {\n                    values[currentAttribute.id] = currentValue;\n                }\n            });\n            return values;\n        },\n\n        /**\n         * reset all values with a new set of values\n         */\n        setValues: function mDocumentdocumentSetValues(values)\n        {\n            this.get(\"attributes\").each(function mDocumentSetValue(currentAttribute)\n            {\n                var newValue = values[currentAttribute.id];\n                if (!currentAttribute.get(\"isValueAttribute\")) {\n                    return;\n                }\n                currentAttribute.set(\"attributeValue\", newValue);\n                // reset change also\n                currentAttribute.changed = {};\n            });\n        },\n\n        /**\n         * reset all properties with a new set of properties\n         */\n        setProperties: function mDocumentdocumentSetProperties(values)\n        {\n            var model = this;\n            _.each(values, function mDocumentSetProperties(value, key)\n            {\n                model.get(\"properties\").set(key, value);\n            });\n        },\n\n        lockDocument: function mDocumentLockDocument()\n        {\n            var docModel = this;\n            var lockModel = new DocumentLock({\"initid\": this.get(\"initid\"), \"type\": \"permanent\"});\n            var security = this.get(\"properties\").get(\"security\");\n            lockModel.save({}, {\n                    success: function mDocumentLockDocumentSuccess(theModel, data)\n                    {\n                        var menu = docModel.get(\"menus\");\n                        security.lock = data.data.lock;\n                        docModel.get(\"properties\").set(\"security,\", security);\n\n                        menu.setMenu(\"lock\", \"visibility\", \"hidden\");\n                        menu.setMenu(\"unlock\", \"visibility\", \"visible\");\n\n                        docModel.get(\"properties\").trigger(\"change\");\n                    },\n                    error: function mDocumentLockDocumentError(theModel, HttpResponse)\n                    {\n                        var response = JSON.parse(HttpResponse.responseText);\n\n                        docModel.trigger(\"showError\", {\n                            title: response.exceptionMessage\n                        });\n                    }\n                }\n            );\n        },\n\n        unlockDocument: function mDocumentUnLockDocument()\n        {\n            var docModel = this;\n            //  type = empty means Delete all locks\n            var lockModel = new DocumentLock({\"initid\": this.get(\"initid\"), \"type\": \"\"});\n            var security = this.get(\"properties\").get(\"security\");\n            lockModel.destroy({\n                    success: function mDocumentUnLockDocumentSuccess()\n                    {\n                        var menu = docModel.get(\"menus\");\n                        security.lock = {\n                            lockedBy: {\n                                id: 0\n                            }\n                        };\n                        docModel.get(\"properties\").set(\"security,\", security);\n\n                        menu.setMenu(\"lock\", \"visibility\", \"visible\");\n                        menu.setMenu(\"unlock\", \"visibility\", \"hidden\");\n                        docModel.get(\"properties\").trigger(\"change\");\n\n                    },\n                    error: function mDocumentUnLockDocumentError(theModel, HttpResponse)\n                    {\n                        var response = JSON.parse(HttpResponse.responseText);\n\n                        docModel.trigger(\"showError\", {\n                            title: response.exceptionMessage\n                        });\n                    }\n                }\n            );\n        },\n        /**\n         * Get a plain object with properties of the document\n         *\n         * @returns {*}\n         */\n        getModelProperties: function mDocumentdocumentGetProperties()\n        {\n            var properties = {};\n            if (this.get(\"properties\")) {\n                properties = this.get(\"properties\").toJSON();\n            }\n            properties.initid = this.get(\"initid\");\n            properties.revision = this.get(\"revision\");\n            properties.viewId = this.get(\"viewId\");\n            properties.renderMode = this.get(\"renderMode\");\n\n            return properties;\n        },\n\n        /**\n         * Get the initial properties as transfered by the server\n         * @returns {*|{revision, viewId, renderMode, properties, menus, attributes}|{resizeMarginHeight, resizeMarginWidth, resizeDebounceTime, withoutResize, eventPrefix}|{content}|{title, isValueAttribute, parent, mode, errorMessage}|{documentId, documentModel, state, attributes}}\n         */\n        getServerProperties: function mDocument_getCurrentProperties()\n        {\n            var properties;\n            properties = this.initialProperties;\n            if (properties) {\n                properties.hasUploadingFiles = this.hasUploadingFile();\n            }\n            return properties;\n        },\n\n        /**\n         * Indicate if one attribute of the document is modified\n         *\n         * @returns {*|boolean}\n         */\n        isModified: function mDocument_isModified()\n        {\n            return this.hasAttributesChanged();\n        },\n\n        /**\n         * Get document properties, values and labels of attributes\n         */\n        getDocumentData: function mDocumentGetDocumentData()\n        {\n            var documentData = {\n                properties: this.getModelProperties(),\n                attributeValues: this.getValues(),\n                attributeLabels: {},\n                createAttributeView: function mDocumentGetDocumentDataCreate()\n                {\n                    return this.id;\n                }\n            };\n            this.get(\"attributes\").each(function mDocumentGetDocumentDataEach(currentAttribute)\n            {\n                documentData.attributeLabels[currentAttribute.id] = currentAttribute.get(\"label\");\n            });\n            return documentData;\n        },\n        /**\n         * Return true if one the attribute of the document hasChanged\n         *\n         * @returns {boolean|*}\n         */\n        hasAttributesChanged: function mDocumenthasAttributesChanged()\n        {\n            if (!this.get(\"attributes\")) {\n                return false;\n            }\n            return this.get(\"attributes\").some(function mDocumenthasAttributesChangedSome(currentAttr)\n            {\n                return (currentAttr.hasValueChanged());\n            });\n        },\n\n        hasUploadingFile: function mdocumenthasUploadingFile()\n        {\n            return this._uploadingFile > 0;\n        },\n\n        /**\n         * Analyze return in case of sync uncomplete and trigger event error\n         *\n         * @param model\n         * @param xhr\n         */\n        propagateSynchroError: function mDocumentpropagateSynchroError(model, xhr)\n        {\n            var attrModel, currentModel = this, parsedReturn, errorCode = null, title = \"\",\n                properties;\n            //Analyze XHR\n            var messages = [];\n            try {\n                if (!xhr && model.message) {\n                    messages.push({type: \"error\", contentText: model.message});\n                    xhr = {status: 500, statusText: \"Internal - No HTTP response\"};\n                } else {\n                    var result = JSON.parse(xhr.responseText);\n                    messages = result.messages;\n                }\n            } catch (e) {\n                //Unable to parse responseText (error is not in JSON)\n                this.cleanErrorMessages();\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n                properties = currentModel.getServerProperties();\n                if (!properties || !properties.initid) {\n                    //First loading, unable to load display reload iframe panel\n                    currentModel.trigger(\"displayNetworkError\");\n                    return;\n                }\n                //There is an initd, so there is a document\n                //We display a message and let the user try again\n                //Status 0 indicate offline browser\n                if (xhr && xhr.status === 0) {\n                    currentModel.trigger(\"showError\", {\n                        \"errorCode\": \"offline\",\n                        \"title\": i18n.___(\"Your navigator seems offline, try later\", \"ddui\")\n                    });\n                } else {\n                    currentModel.trigger(\"showError\", {\n                        \"errorCode\": \"unableToParseJson\",\n                        \"title\": i18n.___(\"Server return unreadable\", \"ddui\")\n                    });\n                }\n                currentModel.setProperties(properties);\n                this.trigger(\"dduiDocumentDisplayView\");\n                return;\n            }\n\n            parsedReturn = {\n                messages: messages,\n                responseText: \"Unexpected error: \" + xhr.status + \" \" + xhr.statusText\n            };\n\n            this.cleanErrorMessages();\n            if (parsedReturn.messages.length === 0) {\n                if (currentModel.get(\"properties\")) {\n                    title = currentModel.get(\"properties\").get(\"title\");\n                }\n                currentModel.trigger(\"showError\", {\n                    \"errorCode\": errorCode,\n                    \"title\": i18n.___(\"Unexpected error \", \"ddui\") + title,\n                    \"message\": parsedReturn.responseText\n                });\n            }\n            _.each(parsedReturn.messages, function mDocumentpropagateSynchroErrorMessages(message)\n            {\n                switch (message.code) {\n                    case \"CRUD0211\":// Syntax Error\n                        if (message.data && message.data.id) {\n                            attrModel = currentModel.get('attributes').get(message.data.id);\n                            if (attrModel) {\n                                attrModel.setErrorMessage(message.data.err, message.data.index);\n                                currentModel.trigger(\"showError\", {\n                                    title: message.contentText,\n                                    htmlMessage: message.contentHtml,\n                                    message: attrModel.attributes.label + ' : ' + message.data.err,\n                                    errorCode: message.code\n                                });\n                            } else {\n                                currentModel.trigger(\"showError\", {\n                                    title: message.contentText,\n                                    htmlMessage: message.contentHtml,\n                                    message: message.data.err,\n                                    errorCode: message.code\n                                });\n                            }\n                        }\n                        break;\n                    case \"CRUD0212\": // Constraint Error\n                        if (message.data && message.data.constraint) {\n                            _.each(message.data.constraint, function mDocumentpropagateSynchroError0212(constraint)\n                            {\n                                attrModel = currentModel.get('attributes').get(constraint.id);\n                                if (attrModel) {\n                                    attrModel.setErrorMessage(constraint.err, constraint.index);\n                                    currentModel.trigger(\"showError\", {\n                                        title: message.contentText,\n                                        htmlMessage: message.contentHtml,\n                                        message: attrModel.attributes.label + ' : ' + constraint.err,\n                                        \"errorCode\": message.code\n                                    });\n                                } else {\n                                    currentModel.trigger(\"showError\", {\n                                        title: message.contentText,\n                                        htmlMessage: message.contentHtml,\n                                        message: constraint.err,\n                                        \"errorCode\": message.code\n                                    });\n                                }\n                            });\n                        }\n                        if (message.data && message.data.preStore) {\n                            currentModel.trigger(\"showError\", {\n                                title: message.contentText,\n                                htmlMessage: message.contentHtml,\n                                message: message.data.preStore,\n                                errorCode: message.code\n                            });\n                        }\n                        break;\n\n                    default:\n                        if (message.type === \"error\" && message.contentText) {\n                            currentModel.trigger(\"showError\", {\n                                title: message.contentText + \" \" + (message.code ? message.code : \"\"),\n                                htmlMessage: message.contentHtml,\n                                errorCode: message.code\n                            });\n                        } else {\n                            if (message.type && message.contentText) {\n                                currentModel.trigger(\"showMessage\", {\n                                    title: message.contentText + \" \" + (message.code ? message.code : \"\"),\n                                    type: message.type,\n                                    htmlMessage: message.contentHtml,\n                                    errorCode: message.code\n                                });\n                            } else {\n                                console.error(\"Error\", message);\n                            }\n                        }\n                }\n            });\n            this.trigger(\"dduiDocumentDisplayView\");\n        },\n\n        /**\n         * Validate the content of the model before synchro\n         */\n        validate: function mDocumentvalidate(documentElements, options)\n        {\n            var success = true,\n                currentDocument = this,\n                errorMessage = [], event = {prevent: false},\n                templateMessage, error;\n            try {\n                this.trigger(\"validate\", event);\n                if (event.prevent) {\n                    return {\n                        title: \"Unable to save\"\n                    };\n                }\n                this.get(\"attributes\").each(function mDocumentvalidateEach(currentAttribute)\n                {\n                    var parentAttribute = currentDocument.get(\"attributes\").get(currentAttribute.get(\"parent\"));\n                    currentAttribute.setErrorMessage(null);\n\n                    if (currentAttribute.get(\"needed\") === true) {\n                        var currentValue = currentAttribute.get(\"attributeValue\"),\n                            oneSuccess = true;\n\n                        if (currentAttribute.get(\"multiple\")) {\n                            if (parentAttribute.get(\"type\") === \"array\") {\n                                // Verify each index\n                                _.each(currentValue, function mDocumentvalidateArray(attributeValue, index)\n                                {\n                                    //If the attribute is multiple we check if the array has a size superior to 0\n                                    if ((_.isArray(attributeValue) && attributeValue.length > 0)) {\n                                        return;\n                                    }\n                                    if ((!attributeValue || !attributeValue.value) && attributeValue.value !== 0 ) {\n                                        currentAttribute.setErrorMessage(i18n.___(\"Empty value not allowed\", \"ddui\"), index);\n\n                                        templateMessage = _.template(i18n.___(\"{{parentLabel}} / {{label}} (row # {{index}}) is needed\", \"ddui\"), {escape: /\\{\\{(.+?)\\}\\}/g});\n                                        errorMessage.push(templateMessage({\n                                            parentLabel: parentAttribute.get('label'),\n                                            label: currentAttribute.get(\"label\"),\n                                            index: index + 1\n                                        }));\n                                        success = false;\n                                    }\n                                });\n\n                            } else {\n                                if (!currentValue || currentValue.length === 0) {\n                                    oneSuccess = false;\n                                }\n                            }\n                        } else {\n                            if ((!currentValue || !currentValue.value) && currentValue.value !== 0) {\n                                currentAttribute.setErrorMessage(i18n.___(\"Empty value not allowed\", \"ddui\"));\n                                oneSuccess = false;\n                            }\n                        }\n                        if (!oneSuccess) {\n                            templateMessage = _.template(i18n.___(\"{{parentLabel}} / {{label}} is needed\", \"ddui\"), {escape: /\\{\\{(.+?)\\}\\}/g});\n                            errorMessage.push(templateMessage({\n                                parentLabel: parentAttribute.get('label'),\n                                label: currentAttribute.get(\"label\")\n                            }));\n                            currentAttribute.setErrorMessage(i18n.___(\"The field must not be empty\", \"ddui\"));\n                            success = false;\n                        }\n                    }\n\n                    if (!currentAttribute.checkConstraint({clearError: false})) {\n                        success = false;\n                        if (_.isArray(currentAttribute.get(\"errorMessage\"))) {\n                            templateMessage = _.template(\"<%= parentLabel %> / <%= label %> \" +\n                                \"<% for(var msg in errorMessage) { %>\" +\n                                \"\\n<%- rowText %> <%= errorMessage[msg].index + 1 %> : <%= errorMessage[msg].message %>\\n <% } %> \");\n                        } else {\n                            templateMessage = _.template(\"<%= parentLabel %> / <%= label %> <%= errorMessage %>\");\n                        }\n                        errorMessage.push(templateMessage({\n                            parentLabel: parentAttribute.get('label'),\n                            label: currentAttribute.get(\"label\"),\n                            rowText: i18n.___(\"Row #\", \"ddui\"),\n                            errorMessage: currentAttribute.get(\"errorMessage\")\n                        }));\n                    }\n                });\n                if (!success) {\n                    error = {\n                        title: i18n.___(\"Unable to save\", \"ddui\"),\n                        message: errorMessage.join(', ' + \"\\n\"),\n                        errorCode: \"attributeNeeded\"\n                    };\n                    if (options.error) {\n                        options.error(_.extend({\"eventPrevented\": true}, error));\n                    }\n                    return error;\n                }\n            } catch (e) {\n                console.error(\"Unable to validate\");\n                console.error(e);\n            }\n\n            return undefined;\n        },\n\n        /**\n         * Redraw messages for the error displayed\n         */\n        redrawErrorMessages: function mDocumentredrawErrorMessages()\n        {\n            var attrModels = this.get('attributes') || [];\n            _.each(attrModels.models, function mDocumentredrawErrorMessagesEach(attrModel)\n            {\n                var message = attrModel.get(\"errorMessage\");\n                // redo error after document is show\n                if (message) {\n                    attrModel.setErrorMessage(null);// use double affect to force tooltip redraw\n                    attrModel.setErrorMessage(message);\n                }\n            });\n        },\n\n        /**\n         * Propagate to attributes a clear message for the error displayed\n         */\n        cleanErrorMessages: function mDocumentCleanErrorMessages()\n        {\n            var attrModels = this.get('attributes') || [];\n            _.each(attrModels.models, function mDocumentCleanErrorMessagesEach(attrModel)\n            {\n                attrModel.setErrorMessage(null);\n            });\n        },\n        /**\n         * Parse the return of the REST API\n         * @param response\n         * @returns {{properties: (*|properties|exports.defaults.properties|exports.parse.properties|.createObjectExpression.properties), menus: (app.views.shared.menu|*), locale: *, renderMode: string, attributes: Array, templates: *, renderOptions: *}}\n         */\n        parse: function mDocumentParse(response)\n        {\n            var values, renderMode = \"view\", view = response.data.view;\n\n            if (response.success === false) {\n                throw new Error(\"Unable to get the data from documents\");\n            }\n            this.trigger(\"beforeParse\");\n            if (view.renderOptions.mode) {\n                if (view.renderOptions.mode === \"edit\") {\n                    renderMode = \"edit\";\n                } else\n                    if (view.renderOptions.mode === \"view\") {\n                        renderMode = \"view\";\n                    } else {\n                        throw new Error(\"Unkown render mode \" + view.renderOptions.mode);\n                    }\n            }\n\n            this.initialProperties = _.defaults({\n                \"renderMode\": renderMode || \"view\",\n                \"viewId\": response.data.properties.requestIdentifier\n            }, view.documentData.document.properties);\n\n            //Clean attributes\n            if (this.get(\"attributes\") instanceof CollectionAttributes) {\n                this.get(\"attributes\").destroy();\n            }\n\n\n            values = {\n                initid: response.data.properties.creationView === true ? null : view.documentData.document.properties.initid,\n                properties: view.documentData.document.properties,\n                menus: view.menu,\n                viewId: response.data.properties.requestIdentifier,\n                revision: view.documentData.document.properties.revision,\n                locale: view.locale.culture,\n                renderMode: renderMode || \"view\",\n                attributes: undefined,\n                templates: view.templates,\n                renderOptions: view.renderOptions,\n                customCSS: view.style.css,\n                customJS: view.script.js,\n                customServerData: view.customServerData,\n                messages: response.messages,\n                originalValues: view.documentData.document.attributes\n            };\n            this._customClientData = {};\n            if (response.data.properties.creationView === true) {\n                values.creationFamid = view.documentData.document.properties.family.name;\n            } else {\n                values.creationFamid = false;\n            }\n            return values;\n        },\n\n        /**\n         * Generate the collection of the current model and bind events on the new collection\n         *\n         * @param keyOrValues string|object of properties or key of the current property\n         * @param value\n         * @returns {*}\n         */\n        \"set\": function mDocumentsetValues(keyOrValues, value)\n        {\n            var currentModel = this;\n            if (keyOrValues.properties !== undefined) {\n                if (currentModel.get(\"properties\") instanceof DocumentProperties) {\n                    currentModel.get(\"properties\").trigger(\"destroy\");\n                }\n                keyOrValues.properties = new DocumentProperties(keyOrValues.properties);\n            }\n\n            if (keyOrValues.menus !== undefined) {\n                if (currentModel.get(\"menus\") instanceof CollectionMenus) {\n                    currentModel.get(\"menus\").destroy();\n                }\n                keyOrValues.menus = new CollectionMenus(keyOrValues.menus);\n            }\n            if (keyOrValues === \"attributes\") {\n                value = new CollectionAttributes(value, {\n                    documentModel: currentModel,\n                    renderOptions: currentModel.get(\"renderOptions\"),\n                    renderMode: currentModel.get(\"renderMode\")\n                });\n                //Set the internal content collection (for structure attributes)\n                value.each(function mDocumentsetValuesEachAttributes(currentAttributeModel)\n                {\n                    if (currentAttributeModel.get(\"isValueAttribute\")) {\n                        return;\n                    }\n                    var childAttributes = value.filter(function mDocumentsetValuesEachAttributesFilter(candidateChildModel)\n                    {\n                        return candidateChildModel.get(\"parent\") === currentAttributeModel.id;\n                    });\n                    if (childAttributes.length > 0) {\n                        currentAttributeModel.setContentCollection(childAttributes);\n                    }\n                });\n                //Propagate the change event to the model\n                currentModel.listenTo(value, \"change:attributeValue\", function mDocumentsetValuesListenChange(model)\n                {\n                    _.defer(function mDocumentAttributeChangerTrigger()\n                    {\n                        currentModel.trigger(\"changeValue\", {\n                            attributeId: model.id\n                        });\n                    });\n                });\n                //Propagate the validate event to the model\n                currentModel.listenTo(value, \"constraint\", function mDocumentsetValuesListenConstraint(options)\n                {\n                    currentModel.trigger(\"constraint\", options.model.id, options.response);\n                });\n                //Propagate the renderDone event of the attributes to the model\n                currentModel.listenTo(value, \"renderDone\", function mDocumentsetValuesListenRenderDone(options)\n                {\n                    currentModel.trigger(\"attributeRender\", options.model.id, options.$el, options.index);\n                });\n                //Propagate the beforeRender event of the attributes to the model\n                currentModel.listenTo(value, \"beforeRender\", function mDocumentsetValuesListenBeforeRender(event, options)\n                {\n                    currentModel.trigger(\"beforeAttributeRender\", event, options.model.id, options.$el, options.index);\n                });\n                //Propagate the array event modified to the model\n                currentModel.listenTo(value, \"array\", function mDocumentsetValuesListenArray(type, model, options)\n                {\n                    currentModel.trigger(\"arrayModified\", {\n                        attributeId: model.id,\n                        \"type\": type,\n                        \"options\": options\n                    });\n                });\n                //Propagate the event externalLinkSelected to the model\n                currentModel.listenTo(value, \"internalLinkSelected\", function mDocumentsetValuesListenLinkSelected(event, options)\n                {\n                    currentModel.trigger(\"internalLinkSelected\", event, options);\n                });\n                //Propagate the event downloadFile to the model\n                currentModel.listenTo(value, \"downloadFile\", function mDocumentsetValuesListenDownloadfile(event, attrid, options)\n                {\n                    currentModel.trigger(\"downloadFile\", event, attrid, options);\n                });\n\n                //Propagate the event uploadFile to the model\n                currentModel.listenTo(value, \"uploadFile\", function mDocumentListenUploadfileStart(event, attrid, options)\n                {\n                    var attr, attrValue;\n                    currentModel.trigger(\"uploadFile\", event, attrid, options);\n\n                    if (!event.prevent) {\n                        attr = currentModel.get(\"attributes\").get(attrid);\n\n                        currentModel._uploadingFile++;\n\n                        if (attr) {\n                            attrValue = attr.get(\"attributeValue\");\n                            if (options.index >= 0) {\n                                attrValue = _.clone(attrValue);\n                                attrValue[options.index] = {value: \"-^-\", displayValue: \"Uploading\"};\n\n                            } else {\n                                attrValue = {value: \"--\", displayValue: \"Uploading\"};\n                            }\n                            // Use Silent to not redraw widget - it will be redraw at the end of uploading\n                            attr.set(\"attributeValue\", attrValue, {silent: true});\n                            currentModel.trigger(\"changeValue\", {\n                                attributeId: attrid\n                            });\n                        }\n                    }\n                });\n\n                //Propagate the event uploadFile to the model\n                currentModel.listenTo(value, \"uploadFileDone\", function mDocumentListenuploadFileDone(event, attrid, options)\n                {\n                    currentModel._uploadingFile--;\n                    currentModel.trigger(\"uploadFileDone\", event, attrid, options);\n\n                    if (currentModel._uploadingFile <= 0) {\n                        currentModel.trigger(\"uploadFileFinished\");\n                    }\n                });\n\n                //Propagate the event helperSearch to the model\n                currentModel.listenTo(value, \"helperSearch\", function mDocumentsetValuesListenHelperSearch(event, attrid, options, index)\n                {\n                    currentModel.trigger(\"helperSearch\", event, attrid, options, index);\n                });\n                //Propagate the event helperResponse to the model\n                currentModel.listenTo(value, \"helperResponse\", function mDocumentsetValuesListenHelperResponse(event, attrid, options, index)\n                {\n                    currentModel.trigger(\"helperResponse\", event, attrid, options, index);\n                });\n                //Propagate the event helperResponse to the model\n                currentModel.listenTo(value, \"helperSelect\", function mDocumentsetValuesListenHelperSelect(event, attrid, options, index)\n                {\n                    currentModel.trigger(\"helperSelect\", event, attrid, options, index);\n                });\n                //Propagate the click on an anchor to the model\n                currentModel.listenTo(value, \"anchorClick\", function mDocumentsetValuesListenAnchorClicked(event, attrid, options)\n                {\n                    currentModel.trigger(\"anchorClick\", event, attrid, options);\n                });\n            }\n            return Backbone.Model.prototype.set.call(this, keyOrValues, value);\n        },\n\n        unbindLoadEvent: function mDocumentUnbindLoadEvent()\n        {\n            $(window).off(\".\" + this.cid);\n        },\n\n        /**\n         * Destroy the collection associated to the document (used in the destroy part of the view)\n         *\n         */\n        destroySubcollection: function mDocumentdestroySubcollection()\n        {\n            if (this.get(\"menus\") instanceof CollectionMenus) {\n                this.get(\"menus\").destroy();\n            }\n            if (this.get(\"properties\") instanceof DocumentProperties) {\n                this.get(\"properties\").trigger(\"destroy\");\n            }\n            if (this.get(\"attributes\") instanceof CollectionAttributes) {\n                this.get(\"attributes\").destroy();\n            }\n        },\n\n        /**\n         * Inject JS in the main page before render view\n         * To launch beforeRender and beforeRenderAttribute\n         */\n        injectCurrentDocJS: function mDocumentInjectCurrentDocJS()\n        {\n            var allInjectPromises = [],\n                customJS = _.pluck(this.get(\"customJS\"), \"path\");\n            _.each(customJS, function injectElement(currentPath) {\n                allInjectPromises.push((new Promise(function addJs(resolve, reject) {\n                    load(currentPath, function addJsDone(err) {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            resolve();\n                        }\n                    });\n                })));\n            });\n\n            return Promise.all(allInjectPromises);\n        },\n\n        /**\n         * Inject an array of js in the current page\n         *\n         * @param jsToInject Array of string to inject\n         * @return Promise\n         */\n        injectJS: function mDocumentInjectJs(jsToInject)\n        {\n            var allInjectPromises = [];\n            if (!_.isArray(jsToInject)) {\n                throw new Error(\"The js to inject must be an array of string path\");\n            }\n            _.each(jsToInject, function injectElement(currentPath) {\n                allInjectPromises.push((new Promise(function addJs(resolve, reject) {\n                    load(currentPath, function addJsDone(err) {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            resolve();\n                        }\n                    });\n                })));\n            });\n            return Promise.all(allInjectPromises);\n\n        },\n\n        /**\n         * Inject an array of css path in the current page\n         *\n         * @param customCss\n         */\n        injectCSS: function mDocumentInjectCSS(customCss)\n        {// add custom css style\n            var $head = $(\"head\"),\n                cssLinkTemplate = _.template('<link rel=\"stylesheet\" type=\"text/css\" ' +\n                    'href=\"<%= path %>\" data-injected=\"true\">');\n\n            if (!_.isArray(customCss)) {\n                throw new Error(\"The css to inject must be an array of string path\");\n            }\n\n            // Inject new CSS\n            _.each(customCss, function vDocumentInjectNewCSS(cssItem)\n            {\n                if (document.createStyleSheet) {\n                    document.createStyleSheet(cssItem);\n                }\n                $head.append(cssLinkTemplate({\"path\": cssItem}));\n            });\n\n        },\n\n        /**\n         * Used by backbone for the save part\n         * @returns {{document: {attributes: *, properties : *}}}\n         */\n        toJSON: function mDocumenttoJSON()\n        {\n            return {\n                document: {\n                    properties: this.getModelProperties(),\n                    attributes: this.getValues()\n                },\n                customClientData: this._customClientData\n            };\n        },\n\n        /**\n         * Get render option for document widget\n         * @param optId\n         * @returns {*}\n         */\n        getOption: function mDocumentGetOption(optId)\n        {\n            var renderOptions = this.get(\"renderOptions\");\n            if (renderOptions && renderOptions.document) {\n                return renderOptions.document[optId];\n            }\n            return undefined;\n        },\n\n        _promiseCallback: function mDocument_promiseCallback()\n        {\n            var promise, success, error, properties = this.getServerProperties();\n\n            promise = new Promise(function mDocument_promiseInternObject(resolve, reject)\n            {\n                success = function onSuccess(values)\n                {\n                    var successArguments = values;\n                    if (values && successArguments[\"arguments\"]) {\n                        successArguments = values[\"arguments\"];\n                    } else {\n                        successArguments = arguments;\n                    }\n                    if (values && successArguments.documentProperties) {\n                        properties = successArguments.documentProperties;\n                    }\n                    resolve({documentProperties: properties, arguments: successArguments});\n                };\n                error = function onError(values)\n                {\n                    var errorArguments = values;\n                    if (values && errorArguments[\"arguments\"]) {\n                        errorArguments = values[\"arguments\"];\n                    } else {\n                        errorArguments = arguments;\n                    }\n                    if (values && errorArguments.documentProperties) {\n                        properties = errorArguments.documentProperties;\n                    }\n                    reject({documentProperties: properties, arguments: errorArguments});\n                };\n            });\n\n            //noinspection JSUnusedAssignment\n            return {\n                \"promise\": promise,\n                \"success\": success,\n                \"error\": error\n            };\n\n        },\n\n        /**\n         * Complete the loading of the document\n         * Fetch the structure and external js deps\n         *\n         * @private\n         */\n        _loadDocument: function mDocumentLoadDocument(currentModel)\n        {\n            var properties = this.getServerProperties();\n\n            return new Promise(function mDocument_promiseLoadDocument(resolve, reject)\n            {\n                //Complete the structure after\n                currentModel._completeStructure().then(function onGetStructureDone()\n                {\n                    currentModel.injectCurrentDocJS().then(function mDocument_injectJSDone(values)\n                    {\n                        resolve({documentProperties: properties, successArguments: arguments});\n                    }, function mDocument_injectJSFail(values)\n                    {\n                        reject({documentProperties: properties, arguments: arguments});\n                        currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentFail\"], values.arguments));\n                    });\n                }, function mDocument_onGetStructureFail(values)\n                {\n                    reject({documentProperties: properties, arguments: arguments});\n                    currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentFail\"], values.arguments));\n                });\n            });\n        },\n\n        fetchDocument: function mDocumentFetchDocument(values, options)\n        {\n            var globalCallback = this._promiseCallback(),\n                documentCallback = this._promiseCallback(),\n                serverProperties = this.getServerProperties(),\n                currentModel = this,\n                needToUnlock = {},\n                beforeCloseReturn = {prevent: false},\n                lockModel = null,\n                nextView = false,\n                security,\n                previousMode,\n                lockCallback = this._promiseCallback();\n\n            options = options || {};\n            values = values || {};\n\n            if (_.isEmpty(this._customClientData)) {\n                this.trigger(\"getCustomClientData\");\n            }\n\n            //Register promise events\n            documentCallback.promise.then(function onFetchDocumentDone(currentModelProperties)\n            {\n                currentModel._loadDocument(currentModel).then(function mDocument_loadDocumentDone(values)\n                {\n                    globalCallback.success.apply(currentModelProperties, values);\n                }, function mDocument_loadDocumentFail(values)\n                {\n                    globalCallback.error.apply(currentModelProperties, values);\n                });\n            }, function mDocument_onFetchDocumentFail(values)\n            {\n                globalCallback.error.call(serverProperties, values);\n            });\n\n            globalCallback.promise.then(function onPrepareDocumentDone(values)\n            {\n                if (_.isFunction(options.success)) {\n                    options.success(values);\n                }\n                currentModel.trigger(\"close\", serverProperties);\n                currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentReady\"], values.arguments));\n            }, function onPrepareDocumentFail(values)\n            {\n                if (_.isFunction(options.error)) {\n                    options.error(values);\n                }\n                if (!(values.arguments && values.arguments[0] && values.arguments[0].eventPrevented)) {\n                    currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentFail\"], values.arguments));\n                }\n            });\n\n            //Init default values\n            _.defaults(values, {revision: -1, viewId: \"!defaultConsultation\", initid: this.get(\"initid\")});\n\n            //Trigger (synchronous) before close event\n            this.trigger(\"beforeClose\", beforeCloseReturn, values, this._customClientData);\n\n            if (beforeCloseReturn.prevent === false) {\n                this.trigger(\"displayLoading\");\n\n                //***********Lock Part*********************************************************************************\n\n                // Verify if current document need to be unlocked before fetch another\n                security = this.get(\"properties\") ? (this.get(\"properties\").get(\"security\")) : null;\n                previousMode = this.get(\"renderMode\");\n\n                if (previousMode === \"edit\" && security && security.lock && security.lock.temporary) {\n\n                    needToUnlock = {\n                        initid: serverProperties.initid\n                    };\n                }\n                //Compute the next view\n                nextView = values.viewId;\n\n                if (!nextView) {\n                    nextView = (this.get(\"renderMode\") === \"edit\") ? \"!defaultEdition\" : \"!defaultConsultation\";\n                }\n\n                if (nextView !== \"!defaultConsultation\" &&\n                    nextView !== \"!coreCreation\" &&\n                    nextView !== \"!defaultCreation\" &&\n                    this.get(\"renderMode\") !== \"create\") {\n                    //if the document is locked and the next view doesn't need the same lock delete it\n                    if (needToUnlock.initid && needToUnlock.initid !== values.initid) {\n                        lockModel = new DocumentLock({\"initid\": needToUnlock.initid, \"type\": \"temporary\"});\n                        lockModel.destroy();\n                    }\n                    // The next view needs a lock, ask for it and fetch the document after\n                    lockModel = new DocumentLock({initid: values.initid, viewId: nextView, type: \"temporary\"});\n                    lockModel.save({}, lockCallback);\n                } else {\n                    if (needToUnlock) {\n                        if (needToUnlock.initid === values.initid) {\n                            // If same document \"get\" must be perform after unlock\n                            lockModel = new DocumentLock({\"initid\": needToUnlock.initid, \"type\": \"temporary\"});\n                            lockModel.destroy(lockCallback);\n                        } else {\n                            lockModel = new DocumentLock({\"initid\": needToUnlock.initid, \"type\": \"temporary\"});\n                            lockModel.destroy();\n                            lockCallback.success();\n                        }\n                    } else {\n                        lockCallback.success();\n                    }\n                }\n\n                lockCallback.promise.then(function mdocument_lockSucess()\n                {\n                    //save the new options in the currentDocument for the fetch\n                    _.each(_.pick(values, \"initid\", \"revision\", \"viewId\"), function mDocument_SetNewOptions(value, key)\n                    {\n                        currentModel.set(key, value);\n                    });\n                    currentModel.fetch(documentCallback);\n                }, function mDocument_lockFail()\n                {\n                    globalCallback.error.apply(currentModel, arguments);\n                });\n\n            } else {\n                //Reinit properties\n                currentModel.set(serverProperties);\n                //Indicate success to the promise object\n                globalCallback.error({eventPrevented: true});\n            }\n\n            return globalCallback.promise;\n        },\n\n        saveDocument: function mDocumentSaveDocument(attributes, options)\n        {\n            var globalCallback = this._promiseCallback(),\n                saveCallback = this._promiseCallback(),\n                beforeSaveEvent = {prevent: false},\n                currentModel = this,\n                serverProperties = this.getServerProperties();\n\n            options = options || {};\n\n            if (_.isEmpty(this._customClientData)) {\n                this.trigger(\"getCustomClientData\");\n            }\n            this.trigger(\"beforeSave\", beforeSaveEvent, this._customClientData);\n\n            if (beforeSaveEvent.prevent !== false) {\n                globalCallback.error({eventPrevented: true});\n            } else {\n                saveCallback.promise.then(function mDocument_saveDone()\n                {\n                    currentModel._loadDocument(currentModel).then(function mDocument_loadDocumentDone()\n                    {\n                        globalCallback.success();\n                    }, function mDocument_loadDocumentFail()\n                    {\n                        globalCallback.error.apply(currentModel, arguments);\n                    });\n                }, function mDocument_saveFail()\n                {\n                    globalCallback.error.apply(currentModel, arguments);\n                });\n\n                if (currentModel.hasUploadingFile()) {\n\n                    this.trigger(\"displayLoading\", {\n                        isSaving: true,\n                        text: i18n.___(\"Recording files in progress\", \"ddui\")\n                    });\n                    currentModel.trigger(\"showMessage\", {\n                        title: i18n.___(\"Waiting uploads in progress\", \"ddui\"),\n                        type: \"info\"\n                    });\n                    currentModel.once(\"uploadFileFinished\", function mDocumentsetValuesListenUploadUntilTheEnd(event)\n                    {\n                        this.trigger(\"displayLoading\", {isSaving: true});\n                        currentModel.save(attributes, saveCallback);\n                    });\n                } else {\n\n                    this.trigger(\"displayLoading\", {isSaving: true});\n                    currentModel.save(attributes, saveCallback);\n                }\n            }\n\n            globalCallback.promise.then(function onSaveSuccess(values)\n            {\n                currentModel.trigger(\"afterSave\", serverProperties);\n                currentModel.trigger(\"close\", serverProperties);\n                if (_.isFunction(options.success)) {\n                    options.success();\n                }\n                currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentReady\"], values.arguments));\n            }, function onSaveFail(values)\n            {\n                if (_.isFunction(options.error)) {\n                    options.error();\n                }\n                if (!(values.arguments && values.arguments[0] && values.arguments[0].eventPrevented)) {\n                    currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentFail\"], values.arguments));\n                }\n            });\n\n            return globalCallback.promise;\n        },\n\n        deleteDocument: function mDocumentDelete(options)\n        {\n            var globalCallback = this._promiseCallback(),\n                deleteCallback = this._promiseCallback(),\n                beforeDeleteEvent = {prevent: false},\n                currentModel = this,\n                serverProperties = this.getServerProperties();\n\n            options = options || {};\n\n            if (_.isEmpty(this._customClientData)) {\n                this.trigger(\"getCustomClientData\");\n            }\n            this.trigger(\"beforeDelete\", beforeDeleteEvent, this._customClientData);\n\n            if (beforeDeleteEvent.prevent !== false) {\n                globalCallback.error({eventPrevented: true});\n            } else {\n                this.trigger(\"displayLoading\");\n                deleteCallback.promise.then(function mDocument_deleteDone()\n                {\n                    currentModel.fetchDocument({initid: currentModel.get(\"initid\")}).then(function mDocument_afterDeleteLoadDone()\n                    {\n                        globalCallback.success();\n                    }, function mDocument_afterDeleteLoadFail()\n                    {\n                        globalCallback.error.apply(currentModel, arguments);\n                    });\n                }, function mDocument_deleteFail()\n                {\n                    globalCallback.error.apply(currentModel, arguments);\n                });\n\n                this.sync('delete', this, deleteCallback);\n            }\n\n            globalCallback.promise.then(function onDeleteSuccess(values)\n            {\n                currentModel.trigger(\"afterDelete\", serverProperties);\n                currentModel.trigger(\"close\", serverProperties);\n                if (_.isFunction(options.success)) {\n                    options.success();\n                }\n                currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentReady\"], values.arguments));\n            }, function onDeleteFail(values)\n            {\n                if (_.isFunction(options.error)) {\n                    options.error();\n                }\n                if (!(values.arguments && values.arguments[0] && values.arguments[0].eventPrevented)) {\n                    currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentFail\", currentModel], values.arguments));\n                }\n            });\n\n            return globalCallback.promise;\n        },\n\n        restoreDocument: function mDocumentRestoreDocument(options)\n        {\n            var globalCallback = this._promiseCallback(),\n                restoreCallback = this._promiseCallback(),\n                beforeRestoreEvent = {prevent: false},\n                currentModel = this,\n                serverProperties = this.getServerProperties();\n\n            options = options || {};\n\n            if (\"deleted\" === this.get(\"properties\").get(\"status\")) {\n                if (_.isEmpty(this._customClientData)) {\n                    this.trigger(\"getCustomClientData\");\n                }\n                this.trigger(\"beforeRestore\", beforeRestoreEvent, this._customClientData);\n\n                if (beforeRestoreEvent.prevent !== false) {\n                    globalCallback.error({eventPrevented: true});\n                } else {\n                    this.trigger(\"displayLoading\", {isSaving: true});\n\n                    restoreCallback.promise.then(\n                        function mDocument_restoreDocument_Success()\n                        {\n                            currentModel._loadDocument(currentModel).then(\n                                function mDocument_restoreDocument_loadSuccess()\n                                {\n                                    globalCallback.success();\n                                },\n                                function mDocument_restoreDocument_loadFail()\n                                {\n                                    globalCallback.error.apply(currentModel, arguments);\n                                }\n                            );\n                        },\n                        function mDocument_restoreDocument_Fail()\n                        {\n                            globalCallback.error.apply(currentModel, arguments);\n                        }\n                    );\n\n                    this.get(\"properties\").set(\"status\", \"alive\");\n                    currentModel.save({}, restoreCallback);\n                }\n            } else {\n                globalCallback.error({systemError: true, errorMessage: \"Unable to restore alive doc\"});\n            }\n\n            globalCallback.promise.then(\n                function mDocument_restoreDocument_onSuccess(values)\n                {\n                    currentModel.trigger(\"afterRestore\", serverProperties);\n                    currentModel.trigger(\"close\", serverProperties);\n                    if (_.isFunction(options.success)) {\n                        options.success();\n                    }\n                    currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentReady\"], values.arguments));\n                },\n                function mDocument_restoreDocument_onFail(values)\n                {\n                    if (_.isFunction(options.error)) {\n                        options.error();\n                    }\n                    if (!(values.arguments && values.arguments[0] && (values.arguments[0].eventPrevented || values.arguments[0].systemError))) {\n                        currentModel.trigger.apply(currentModel, _.union([\"dduiDocumentFail\"], values.arguments));\n                    }\n                }\n            );\n\n            return globalCallback.promise;\n        },\n\n        /**\n         * Get complementary data : family structure\n         */\n        _completeStructure: function mDocumentCompleteStructure()\n        {\n            var mStructure, documentModel = this, structurePromise = this._promiseCallback();\n\n            var neededAttributes = this.get(\"renderOptions\").needed;\n            var visibilityAttributes = this.get(\"renderOptions\").visibilities;\n            var valueAttributes = this.get(\"originalValues\");\n\n            if (this.get(\"properties\").get(\"type\") === \"family\") {\n                // Family has no attributes\n                this.set(\"attributes\", []);\n                structurePromise.success();\n                return structurePromise.promise;\n            }\n\n            if (!_.isUndefined(this.get(\"attributes\"))) {\n                this.set(\"attributes\", this.get(\"attributes\")); // to convert attributes to models\n                structurePromise.success();\n                return structurePromise.promise;\n            }\n\n            mStructure = new FamilyStructure({\n                familyId: this.get(\"properties\").get(\"family\").name,\n                referencedocument: {\n                    initid: this.get(\"initid\"),\n                    viewId: this.get(\"viewId\"),\n                    revision: this.get(\"revision\")\n                }\n            });\n\n            mStructure.fetch({\n                success: function mDocumentCompleteStructureSuccess(structureModel, response)\n                {\n                    if (_.isEqual(structureModel.get(\"referencedocument\"), {\n                            initid: documentModel.get(\"initid\"),\n                            viewId: documentModel.get(\"viewId\"),\n                            revision: documentModel.get(\"revision\")\n                        })) {\n                        var attributes = flattenAttributes(attributes, response.data.family.structure);\n                        _.each(attributes, function mDocumentCompleteStructureSuccessEach(currentAttributeStructure)\n                        {\n                            if (currentAttributeStructure.id && valueAttributes[currentAttributeStructure.id]) {\n                                currentAttributeStructure.attributeValue = valueAttributes[currentAttributeStructure.id];\n                                currentAttributeStructure.needed = (neededAttributes[currentAttributeStructure.id] === true);\n                            }\n                            if (currentAttributeStructure.id && visibilityAttributes[currentAttributeStructure.id]) {\n                                currentAttributeStructure.visibility = visibilityAttributes[currentAttributeStructure.id];\n                            }\n                        });\n                        documentModel.set(\"attributes\", attributes);\n                        structurePromise.success();\n                    }\n                },\n\n                error: structurePromise.error\n            });\n            return structurePromise.promise;\n        }\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mDocument.js","/*global define*/\ndefine([\n    \"underscore\"\n], function menuInterface(_)\n{\n    'use strict';\n\n    var MenuError = function MenuError(message) {\n        this.name = 'MenuError';\n        this.message = message || 'Default Message';\n        this.stack = (new Error()).stack;\n    };\n    MenuError.prototype = Object.create(Error.prototype);\n    MenuError.prototype.constructor = MenuError;\n\n    var MenuPrototope = function AttributePrototype()\n    {\n        if (this._menuModel) {\n            this.id = this._menuModel.id;\n        } else {\n            this.id = null;\n        }\n    };\n    MenuPrototope.prototype._menuModel=null;\n    MenuPrototope.prototype._set = function MenuPrototope_set(key, value, options)\n    {\n        if (options && options.strict === true && !this.id) {\n            throw new MenuError(\"This menu doesn't exist\");\n        }\n        if (this.id || (options && options.strict === true)) {\n            this._menuModel.set(key, value, options);\n        }\n    };\n    /**\n     * Get the property of the current attribute\n     *\n     * @returns {*}\n     */\n    MenuPrototope.prototype.getProperties = function menuInterfaceGetProperties(options)\n    {\n        if (options && options.strict === true && !this.id) {\n            throw new MenuError(\"This menu doesn't exist\");\n        }\n        if (this.id || (options && options.strict === true)) {\n            return _.clone(this._menuModel.attributes);\n        }\n        return {};\n    };\n\n    /**\n     * Disable an item menu\n     *\n     * @returns {*}\n     */\n    MenuPrototope.prototype.disable = function menuInterfaceDisable(options)\n    {\n        this._set(\"visibility\", \"disabled\", options);\n    };\n    /**\n     * Enable and show an item menu\n     *\n     * @returns {*}\n     */\n    MenuPrototope.prototype.enable = function menuInterfaceEnable(options)\n    {\n        this._set(\"visibility\", \"visible\", options);\n    };\n\n    /**\n     * Hide an item menu\n     *\n     * @returns {*}\n     */\n    MenuPrototope.prototype.hide = function menuInterfaceHide(options)\n    {\n        this._set(\"visibility\", \"hidden\", options);\n    };\n\n    /**\n     * Change text label\n     * @param label raw text\n     *\n     * @returns {*}\n     * @param options\n     */\n    MenuPrototope.prototype.setLabel = function menuInterfaceSetLabel(label, options)\n    {\n        this._set(\"label\", label, options);\n    };\n\n    /**\n     * Change html label\n     * @param label html fragment\n     *\n     * @returns {*}\n     * @param options\n     */\n    MenuPrototope.prototype.setHtmlLabel = function menuInterfaceSetHtmlLabel(label, options)\n    {\n        this._set(\"htmlLabel\", label, options);\n    };\n\n    /**\n     * Change icon url\n     * @param url image url\n     *\n     * @returns {*}\n     * @param options\n     */\n    MenuPrototope.prototype.setIconUrl = function menuInterfaceSetIconUrl(url, options)\n    {\n        this._set(\"iconUrl\", url, options);\n    };\n    /**\n     * Change custom css class\n     * @param cssClass css class\n     *\n     * @returns {*}\n     * @param options\n     */\n    MenuPrototope.prototype.setCssClass = function menuInterfaceSetCssClass(cssClass, options)\n    {\n        this._set(\"cssClass\", cssClass, options);\n    };\n\n    /**\n     * Change url\n     * @param url\n     *\n     * @returns {*}\n     * @param options\n     */\n    MenuPrototope.prototype.setUrl = function menuInterfaceSetUrl(url, options)\n    {\n        this._set(\"url\", url, options);\n    };\n\n    MenuPrototope.prototype.redraw = function menuInterfaceRedraw()\n    {\n        this._menuModel.trigger(\"reload\");\n    };\n\n    var MenuInterface = function menuInterface(attributeModel)\n    {\n        this._menuModel = attributeModel;\n        MenuPrototope.call(this);\n    };\n\n    MenuInterface.prototype = Object.create(MenuPrototope.prototype);\n    MenuInterface.prototype.constructor = MenuPrototope;\n\n    return MenuInterface;\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/controllerObjects/menuInterface.js","/*global define*/\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/attributes/text/wText'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function wFileWidget($, _, Mustache)\n{\n    'use strict';\n\n    //noinspection JSUnusedLocalSymbols\n    $.widget(\"dcp.dcpFile\", $.dcp.dcpText, {\n\n        uploadingFiles: 0, // file upload in progress\n        options: {\n            type: \"file\",\n            renderOptions: {\n                contentDisposition: false,\n                htmlLink: {},\n                placeHolder: \"Click to upload file\"\n            },\n            labels: {\n                dropFileHere: \"Drop file here\",\n                tooltipLabel: \"Choose file\",\n                downloadLabel: \"Download file\",\n                recording: \"Recording\",\n                transferring: \"Transferring\",\n                kiloByte: \"kB\",\n                byte: \"B\"\n            }\n        },\n\n        _initDom: function wFileInitDom()\n        {\n            var visibleInput;\n            if (this.getMode() === \"read\") {\n                var urlSep = '?';\n                if (this.options.attributeValue.url) {\n                    if (!this.options.renderOptions.htmlLink.url) {\n                        if (this.options.attributeValue.url) {\n                            urlSep = (this.options.attributeValue.url.indexOf('?') >= 0) ? \"&\" : \"?\";\n                            if (this.options.renderOptions.contentDisposition === \"inline\") {\n                                this.options.attributeValue.url = this.options.attributeValue.url.replace('&inline=no', '');\n                                this.options.attributeValue.url += urlSep + 'inline=yes';\n                            } else {\n                                this.options.attributeValue.url = this.options.attributeValue.url.replace('&inline=yes', '');\n                                this.options.attributeValue.url += urlSep + 'inline=no';\n                            }\n                        }\n                        this.options.renderOptions.htmlLink.url = this.options.attributeValue.url;\n\n                        if (!this.options.renderOptions.htmlLink.title) {\n                            this.options.renderOptions.htmlLink.title = this.options.attributeValue.displayValue;\n                            if (this.options.attributeValue.size >= 1024) {\n                                this.options.renderOptions.htmlLink.title += '<br/>(' + (Math.round(this.options.attributeValue.size / 1024)) + ' ' +\n                                    this.options.labels.kiloByte + ')';\n                            } else {\n                                this.options.renderOptions.htmlLink.title += '<br/>(' + this.options.attributeValue.size + ' ' +\n                                    this.options.labels.byte + ')';\n                            }\n                        }\n                    }\n\n                }\n            }\n            if (this.options.renderOptions.mimeIconSize) {\n                if ([\"0\", \"0x0\", \"x0\"].indexOf(this.options.renderOptions.mimeIconSize) !== -1) {\n                    this.options.attributeValue.icon = null;\n                } else {\n                    var reSize = /sizes\\/([^\\/]+)/;\n                    this.options.attributeValue.icon = this.options.attributeValue.icon.replace(reSize, \"sizes/\" + this.options.renderOptions.mimeIconSize);\n                }\n            }\n            this._super();\n            if (this.getMode() === \"write\") {\n                visibleInput = this.element.find(\"input[type=text]\");\n                visibleInput.attr(\"title\", this.options.labels.tooltipLabel);\n                visibleInput.attr(\"placeholder\", this.options.renderOptions.placeHolder);\n                this.element.find(\".dcpAttribute__content__button--file\").attr(\"title\", this.options.labels.downloadLabel);\n\n                visibleInput.tooltip({\n                    trigger: \"hover\",\n                    placement: \"bottom\",\n                    container: \".dcpDocument\"\n                });\n                this.element.find(\"input[type=file]\").attr(\"fileValue\", this.options.attributeValue.value || null);\n            }\n        },\n\n        _initEvent: function wFileInitEvent()\n        {\n            var currentWidget = this;\n            if (this.getMode() === \"write\") {\n                this._initUploadEvent();\n            }\n\n            // Add trigger when try to download file\n            this.element.on(\"click.\" + this.eventNamespace, '.dcpAttribute__content__link', function wFileClickDownload(event)\n            {\n                currentWidget._trigger(\"downloadFile\", event, {\n                    $el: currentWidget.element,\n                    index: currentWidget._getIndex()\n                });\n            });\n\n            this._super();\n        },\n\n        _initChangeEvent: function wFileInitChangeEvent()\n        {\n            // set by widget if no autocomplete\n            if (this.options.hasAutocomplete) {\n                this._super();\n            }\n        },\n\n        _initUploadEvent: function wFileInitUploadEvent()\n        {\n            var currentWidget = this;\n            var inputFile = this.element.find(\"input[type=file]\");\n            var inputText = this.element.find(\".dcpAttribute__value\");\n            var fileUrl = this.options.attributeValue.url;\n\n            if (fileUrl) {\n                this.element.on(\"click\" + this.eventNamespace, \".dcpAttribute__content__button--file\", function wFileOnButtonClickr(event)\n                {\n                    var isNotPrevented = currentWidget._trigger(\"downloadFile\", event, {\n                        $el: currentWidget.element,\n                        index: currentWidget._getIndex()\n                    });\n                    if (isNotPrevented) {\n                        var url = fileUrl, $base = $(\"base\");\n\n                        if (isNotPrevented) {\n                            if ($base.length > 0) {\n                                // For IE : Not honor base href in this case\n                                url = $base.attr(\"href\") + url;\n                            }\n                            window.open(url);\n                        }\n                    }\n                });\n            } else {\n                this.element.find(\".dcpAttribute__content__button--file\").attr(\"disabled\", \"disabled\");\n            }\n\n            if (!_.isUndefined(window.FormData)) {\n                this.element.on(\"dragenter\" + this.eventNamespace, \".dcpAttribute__dragTarget\", function wFileOnDragEnter(event)\n                {\n                    inputText.val(currentWidget.options.attributeValue.displayValue);\n                    event.stopPropagation();\n                    event.preventDefault();\n                });\n                this.element.on(\"dragover\" + this.eventNamespace, \".dcpAttribute__dragTarget\", function wFileOnDragOver(event)\n                {\n                    inputText.val(currentWidget.options.labels.dropFileHere);\n                    event.stopPropagation();\n                    event.preventDefault();\n                    currentWidget.element.addClass(\"dcpAttribute__value--dropzone\");\n                });\n                this.element.on(\"dragleave\" + this.eventNamespace, \".dcpAttribute__dragTarget\", function wFileOnLeave(event)\n                {\n                    inputText.val(currentWidget.options.attributeValue.displayValue);\n                    event.stopPropagation();\n                    event.preventDefault();\n                    currentWidget.element.removeClass(\"dcpAttribute__value--dropzone\");\n                });\n\n                this.element.on(\"drop\" + this.eventNamespace, \".dcpAttribute__dragTarget\", function wFileOnDrop(event)\n                {\n                    inputText.val(currentWidget.options.attributeValue.displayValue);\n                    currentWidget.element.removeClass(\"dcpAttribute__value--dropzone\");\n                    event.stopPropagation();\n                    event.preventDefault();\n\n                    var dt = event.originalEvent.dataTransfer;\n                    var files = dt.files;\n                    if (files.length > 0) {\n                        currentWidget.uploadFile(files[0]);\n                    }\n                });\n\n                this.element.on(\"click\" + this.eventNamespace, \".dcpAttribute__value\", function wFileOnClick()\n                {\n                    inputFile.trigger(\"click\");\n                });\n\n                this.element.on(\"keydown\" + this.eventNamespace, \".dcpAttribute__value\", function wFileFilterKeys(event)\n                {\n                    if (event.keyCode !== 9 && event.keyCode !== 32 && event.keyCode !== 13) {\n                        event.preventDefault();\n                    }\n                });\n                this.element.on(\"keyup\" + this.eventNamespace, \".dcpAttribute__value\", function wFileSelectKeys(event)\n                {\n                    if (event.keyCode !== 9) {\n                        event.preventDefault();\n                        if (event.keyCode === 32 || event.keyCode === 13) {\n                            inputFile.trigger(\"click\");\n                        }\n                    }\n                });\n\n                this.element.on(\"change\" + this.eventNamespace, \"input[type=file]\", function wFileChange(/*event*/)\n                {\n                    if (this.files && this.files.length > 0) {\n                        currentWidget.uploadFile(this.files[0]);\n                    }\n                });\n\n            } else {\n                this.addOldBrowserForm();\n\n                this.element.on(\"change\" + this.eventNamespace, \"input[type=file]\", function wFileChangeOld(/*event*/)\n                {\n                    currentWidget.uploadFileForm();\n                });\n            }\n        },\n\n        getWidgetValue: function wFilegetWidgetValue()\n        {\n            var $inputFile = this.element.find(\"input[type=file]\");\n            return $inputFile.attr(\"fileValue\") || null;\n        },\n\n        /**\n         * Add real form and iframe for browsers without FormData\n         */\n        addOldBrowserForm: function wFileAddOldBrowserForm()\n        {\n            var inputFile = this.element.find(\"input[type=file]\");\n            var inputText = this.element.find(\".dcpAttribute__value\");\n            var inputId = inputFile.attr(\"id\");\n            var fileTarget = \"fileupload\" + inputId + '-' + this.options.index;\n            var originalText = inputText.val();\n            var scope = this;\n            var formHtml = '<form id=\"form{{id}}\" target=\"{{target}}\" method=\"POST\" enctype=\"multipart/form-data\" action=\"api/v1/temporaryFiles/?alt=html\">' +\n                '</form><iframe style=\"display:none\" name=\"{{target}}\"></iframe>';\n            $(Mustache.render(formHtml || \"\", {id: inputId, target: fileTarget})).insertAfter(inputFile);\n\n            var container = '<div class=\"dcpFile__form\"/>';\n\n            $(container).insertAfter(inputText).append(inputText);\n\n            this.element.find(\"form\").append(inputFile).css(\"display\", \"inline\");\n\n            this.element.find(\".dcpFile__form\").append(this.element.find(\"form\"));\n\n            inputFile.show();\n            this.element.addClass(\"dcpFile--old-browser\");\n\n            inputFile.attr(\"title\", inputText.attr(\"data-original-title\"));\n            inputFile.tooltip({\n                trigger: \"hover\",\n                placement: \"bottom\",\n                container: \".dcpDocument\"\n            });\n            this.element.find(\"iframe\").on(\"load\", function wFileLoad()\n            {\n                if ($(this).contents().find(\"textarea\").length === 0) {\n                    // fake load when insert iframe\n                    return;\n                }\n                var response = JSON.parse($(this).contents().find(\"textarea\").val());\n\n                if (response.exceptionMessage) {\n                    _.each(response.messages, function wFileMessages(errorMessage)\n                    {\n\n                        $('body').trigger(\"notification\", {\n                            htmlMessage: errorMessage.contentHtml,\n                            message: errorMessage.contentText,\n\n                            type: errorMessage.type\n                        });\n\n                    });\n                } else {\n                    var dataFile = response.data.file;\n                    scope.setValue({\n                        value: dataFile.reference,\n                        size: dataFile.size,\n                        fileName: dataFile.fileName,\n                        displayValue: dataFile.fileName,\n                        creationDate: dataFile.cdate,\n                        thumbnail: dataFile.thumbnailUrl,\n                        url: dataFile.downloadUrl,\n                        icon: dataFile.iconUrl\n                    });\n                }\n\n                inputText.val(originalText);\n                inputText.removeClass(\"dcpAttribute__value--transferring\");\n                scope._setVisibilitySavingMenu(\"visible\");\n            });\n\n        },\n\n        /**\n         * Condition before upload file\n         * @param file\n         * @returns {boolean}\n         */\n        uploadCondition: function wFileUploadCondition(file)\n        {\n            return true;\n        },\n\n        uploadFileForm: function wFileUploadFileForm()\n        {\n            var inputText = this.element.find(\".dcpAttribute__value\");\n\n            var inputFile = this.element.find(\"input[type=file]\");\n            this._setVisibilitySavingMenu(\"disabled\");\n\n            inputText.addClass(\"dcpAttribute__value--transferring\");\n            inputText.val(this.options.labels.transferring + ' ' + inputFile.val().split(/[\\\\/]/).pop());\n            this.element.find(\"form\").submit();\n        },\n\n        uploadFile: function wFileUploadFile(firstFile)\n        {\n            var inputText = this.element.find(\".dcpAttribute__value\");\n            var formData = new FormData();\n            var newFileName = firstFile.name;\n            var originalText = inputText.val();\n            var originalBgColor = inputText.css(\"background-color\");\n            var currentWidget = this;\n            var event = {prevent: false};\n            var currentFileValue = this.options.attributeValue;\n            var $inputFile = this.element.find(\"input[type=file]\");\n\n            if (!this.uploadCondition(firstFile)) {\n                return;\n            }\n\n            var isNotPrevented = currentWidget._trigger(\"uploadfile\", event, {\n                $el: currentWidget.element,\n                index: currentWidget._getIndex(),\n                file: firstFile\n            });\n            if (!isNotPrevented) {\n                return;\n            }\n            //currentWidget.setValue(currentFileValue);\n            currentWidget.uploadingFiles++;\n            formData.append('dcpFile', firstFile);\n            $inputFile.prop(\"disabled\", true);\n\n            inputText.addClass(\"dcpAttribute__value--transferring\");\n            var infoBgColor = inputText.css(\"background-color\");\n            $.ajax({\n                type: 'POST',\n                url: \"api/v1/temporaryFiles/\",\n                processData: false,\n                contentType: false,\n                cache: false,\n                data: formData,\n\n                xhr: function wFileXhrAddProgress()\n                {\n                    var xhrObject = $.ajaxSettings.xhr();\n                    if (xhrObject.upload) {\n                        xhrObject.upload.addEventListener('progress', function wFileProgress(event)\n                        {\n                            var percent = 0;\n                            var position = event.loaded || event.position;\n                            var total = event.total;\n                            if (event.lengthComputable) {\n                                percent = Math.ceil(position / total * 100);\n                            }\n                            if (percent >= 100) {\n                                inputText.val(currentWidget.options.labels.recording + ' ' + newFileName);\n                                inputText.removeClass(\"dcpAttribute__value--transferring\");\n                                inputText.addClass(\"dcpAttribute__value--recording progress-bar active progress-bar-striped\");\n                                inputText.css(\"background\", \"\");\n                                inputText.css(\"background-image\", \"\");\n                            } else {\n                                inputText.addClass(\"dcpAttribute__value--transferring\");\n                                inputText.val(currentWidget.options.labels.transferring + ' ' + newFileName);\n                                inputText.css(\"background-color\", \"red\");\n                                inputText.css(\"background\", \"linear-gradient(to right,\" +\n                                    infoBgColor + \" 0%,\" +\n                                    infoBgColor + \" \" + percent + \"%,\" +\n                                    originalBgColor + (percent + 1) + \"%,\" +\n                                    originalBgColor + \" 100%) \");\n                            }\n                        }, false);\n                    }\n                    return xhrObject;\n                }\n\n            }).done(function wFileUploadDone(data)\n            {\n                var dataFile = data.data.file;\n                var event = {prevent: false};\n                var fileValue = {\n                    value: dataFile.reference,\n                    size: dataFile.size,\n                    fileName: dataFile.fileName,\n                    displayValue: dataFile.fileName,\n                    creationDate: dataFile.cdate,\n                    thumbnail: dataFile.thumbnailUrl,\n                    url: dataFile.downloadUrl,\n                    icon: dataFile.iconUrl\n                };\n\n                currentWidget.uploadingFiles--;\n\n                currentWidget.setValue(fileValue);\n                currentWidget._trigger(\"uploadfiledone\", event, {\n                    $el: currentWidget.element,\n                    index: currentWidget._getIndex(),\n                    file: fileValue\n                });\n\n            }).fail(function wFileUploadFail(data)\n            {\n                currentWidget.uploadingFiles--;\n                currentWidget._trigger(\"uploadfiledone\", event, {\n                    $el: currentWidget.element,\n                    index: currentWidget._getIndex(),\n                    file: null\n                });\n                inputText.css(\"background-image\", \"url(\" + currentWidget.options.attributeValue.icon + ')');\n                var result = JSON.parse(data.responseText);\n                if (result) {\n                    _.each(result.messages, function wFileErrorMessages(errorMessage)\n                    {\n\n                        $('body').trigger(\"notification\", {\n                            htmlMessage: errorMessage.contentHtml,\n                            message: errorMessage.contentText,\n\n                            type: errorMessage.type\n                        });\n\n                    });\n                } else {\n                    inputText.css(\"background\", \"\");\n                    $('body').trigger(\"notification\", {\n                        htmlMessage: 'File <b>' + firstFile.name + '</b> cannot be uploaded',\n                        message: event.statusText,\n                        type: \"error\"\n                    });\n                }\n\n            }).always(function wFileUploadEnd()\n            {\n                $inputFile.prop(\"disabled\", false);\n                inputText.val(originalText);\n                inputText.css(\"background\", \"\");\n                inputText.removeClass(\"progress-bar active progress-bar-striped dcpAttribute__value--transferring dcpAttribute__value--recording\");\n            });\n\n        },\n\n        /**\n         * Modify value to widget and send notification to the view\n         * @param value\n         */\n        setValue: function wFileSetValue(value)\n        {\n            var $inputFile = this.element.find(\"input[type=file]\");\n            // call wAttribute:::setValue() :send notification\n            this._super(value);\n\n            if (this.getMode() === \"write\" && this.uploadingFiles === 0) {\n                this.redraw();\n            }\n\n            $inputFile.attr(\"fileValue\", (value) ? value.value : null);\n        },\n\n        /**\n         * Return the url of common link\n         * @returns {*}\n         */\n        getLink: function wFileGetLink()\n        {\n            var link = this._super();\n            if (this.options.attributeValue.url && (!link || !link.url)) {\n                link.url = this.options.attributeValue.url;\n            }\n\n            return link;\n        },\n\n        getType: function wFileGetType()\n        {\n            return \"file\";\n        }\n\n    });\n\n    return $.fn.dcpFile;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/file/wFile.js","/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.0.0-beta): util.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst Util = (($) => {\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Private TransitionEnd Helpers\n   * ------------------------------------------------------------------------\n   */\n\n  let transition = false\n\n  const MAX_UID = 1000000\n\n  const TransitionEndEvent = {\n    WebkitTransition : 'webkitTransitionEnd',\n    MozTransition    : 'transitionend',\n    OTransition      : 'oTransitionEnd otransitionend',\n    transition       : 'transitionend'\n  }\n\n  // shoutout AngusCroll (https://goo.gl/pxwQGp)\n  function toType(obj) {\n    return {}.toString.call(obj).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()\n  }\n\n  function isElement(obj) {\n    return (obj[0] || obj).nodeType\n  }\n\n  function getSpecialTransitionEndEvent() {\n    return {\n      bindType: transition.end,\n      delegateType: transition.end,\n      handle(event) {\n        if ($(event.target).is(this)) {\n          return event.handleObj.handler.apply(this, arguments) // eslint-disable-line prefer-rest-params\n        }\n        return undefined\n      }\n    }\n  }\n\n  function transitionEndTest() {\n    if (window.QUnit) {\n      return false\n    }\n\n    const el = document.createElement('bootstrap')\n\n    for (const name in TransitionEndEvent) {\n      if (el.style[name] !== undefined) {\n        return {\n          end: TransitionEndEvent[name]\n        }\n      }\n    }\n\n    return false\n  }\n\n  function transitionEndEmulator(duration) {\n    let called = false\n\n    $(this).one(Util.TRANSITION_END, () => {\n      called = true\n    })\n\n    setTimeout(() => {\n      if (!called) {\n        Util.triggerTransitionEnd(this)\n      }\n    }, duration)\n\n    return this\n  }\n\n  function setTransitionEndSupport() {\n    transition = transitionEndTest()\n\n    $.fn.emulateTransitionEnd = transitionEndEmulator\n\n    if (Util.supportsTransitionEnd()) {\n      $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent()\n    }\n  }\n\n\n  /**\n   * --------------------------------------------------------------------------\n   * Public Util Api\n   * --------------------------------------------------------------------------\n   */\n\n  const Util = {\n\n    TRANSITION_END: 'bsTransitionEnd',\n\n    getUID(prefix) {\n      do {\n        // eslint-disable-next-line no-bitwise\n        prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n      } while (document.getElementById(prefix))\n      return prefix\n    },\n\n    getSelectorFromElement(element) {\n      let selector = element.getAttribute('data-target')\n      if (!selector || selector === '#') {\n        selector = element.getAttribute('href') || ''\n      }\n\n      try {\n        const $selector = $(selector)\n        return $selector.length > 0 ? selector : null\n      } catch (error) {\n        return null\n      }\n    },\n\n    reflow(element) {\n      return element.offsetHeight\n    },\n\n    triggerTransitionEnd(element) {\n      $(element).trigger(transition.end)\n    },\n\n    supportsTransitionEnd() {\n      return Boolean(transition)\n    },\n\n    typeCheckConfig(componentName, config, configTypes) {\n      for (const property in configTypes) {\n        if (configTypes.hasOwnProperty(property)) {\n          const expectedTypes = configTypes[property]\n          const value         = config[property]\n          const valueType     = value && isElement(value) ?\n                                'element' : toType(value)\n\n          if (!new RegExp(expectedTypes).test(valueType)) {\n            throw new Error(\n              `${componentName.toUpperCase()}: ` +\n              `Option \"${property}\" provided type \"${valueType}\" ` +\n              `but expected type \"${expectedTypes}\".`)\n          }\n        }\n      }\n    }\n  }\n\n  setTransitionEndSupport()\n\n  return Util\n\n})(jQuery)\n\nexport default Util\n\n\n\n// WEBPACK FOOTER //\n// ./~/bootstrap/js/src/util.js","/*global define, console*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'mustache',\n    'dcpDocument/views/attributes/frame/vFrame',\n    'dcpDocument/views/document/attributeTemplate',\n    'dcpDocument/i18n/documentCatalog'\n], function vTabContent($, _, Backbone, Mustache, ViewAttributeFrame, attributeTemplate, i18n)\n{\n    'use strict';\n\n    return Backbone.View.extend({\n\n        tagName: \"div\",\n\n        className: \"dcpTab__content\",\n        customView: false,\n\n        initialize: function vTabContentInitialize(options)\n        {\n            this.listenTo(this.model, 'change:label', this.updateLabel);\n            this.listenTo(this.model.get(\"content\"), 'add', this.render);\n            this.listenTo(this.model.get(\"content\"), 'remove', this.render);\n            this.listenTo(this.model.get(\"content\"), 'reset', this.render);\n            this.listenTo(this.model, 'cleanView', this.remove);\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'showTab', this.renderContent);\n            this.listenTo(this.model, 'hide', this.hide);\n            this.listenTo(this.model, 'show', this.show);\n            this.listenTo(this.model, 'haveView', this._identifyView);\n            this.initializeContent = options.initializeContent;\n            this.initialized = false;\n            this.options = options;\n        },\n\n        render: function vTabContentRender()\n        {\n            var currentView = this;\n            return (new Promise(_.bind(function vTabContentRender_Promise(resolve, reject) {\n                var hasOneContent;\n                currentView.$el.empty().append($('<div class=\"dcpTab__content--loading\"><span class=\"fa fa-spinner fa-spin\"></span>'+\n                    i18n.___(\"Displaying\",\"ddui\")+'</div>'));\n                currentView.$el.attr(\"id\", currentView.model.id);\n                currentView.$el.attr(\"data-attrid\", currentView.model.id);\n\n                hasOneContent = currentView.model.get(\"content\").some(function vTabContentIsDisplayable(value)\n                {\n                    return value.isDisplayable();\n                });\n\n                if (!hasOneContent || !currentView.initializeContent) {\n                    currentView.$el.append(currentView.model.getOption('showEmptyContent'));\n                    currentView.$el.removeClass(\"dcpTab__content--loading\");\n                    currentView.model.trigger(\"renderDone\", {model: currentView.model, $el: currentView.$el});\n                    currentView.propageShowTab();\n                    resolve(currentView);\n                } else {\n                    currentView.renderContent().then(function vTabContentRender_renderContent() {\n                        resolve(currentView);\n                    });\n                }\n            }, this)));\n\n        },\n\n        renderContent: function vTabContentRenderContent(options) {\n            var currentView = this;\n            return (new Promise(_.bind(function vTabContentRenderContent_Promise(resolve, reject) {\n                var customRender,\n                    $content = currentView.$el,\n                    model = currentView.model,\n                    promisesFrame = [];\n                if (currentView.initialized === false) {\n                    currentView.$el.empty();\n                    if (currentView.originalView !== true) {\n                        if (currentView.model.getOption(\"template\")) {\n                            customRender = attributeTemplate.renderCustomView(currentView.model);\n                            currentView.customView = customRender.$el;\n                            promisesFrame.push(customRender.promise);\n                        }\n                    }\n                    if (currentView.customView) {\n                        $content.append(currentView.customView);\n                    } else {\n                        currentView.model.get(\"content\").each(function vTabContentRenderContent(currentAttr) {\n                            var view;\n                            try {\n                                if (!currentAttr.isDisplayable()) {\n                                    return;\n                                }\n                                if (currentAttr.get(\"type\") === \"frame\") {\n                                    view = new ViewAttributeFrame({model: currentAttr});\n                                    promisesFrame.push(view.render());\n                                    $content.append(view.$el);\n                                } else {\n                                    //noinspection ExceptionCaughtLocallyJS\n                                    throw new Error(\"unkown type \" + currentAttr.get(\"type\") + \" for id \" + currentAttr.id + \" for tab \" + model.id);\n                                }\n                            } catch (e) {\n                                if (window.dcp.logger) {\n                                    window.dcp.logger(e);\n                                } else {\n                                    console.error(e);\n                                }\n                            }\n                        });\n                        attributeTemplate.insertDescription(this);\n                        if (currentView.model.getOption(\"responsiveColumns\")) {\n                            currentView.responsiveColumns();\n                        }\n                    }\n\n                    Promise.all(promisesFrame).then(function tabAllFramesRenderDone() {\n                        currentView.$el.removeClass(\"dcpTab__content--loading\");\n                        currentView.model.trigger(\"renderDone\", {model: currentView.model, $el: currentView.$el});\n                        currentView.initialized = true;\n                        resolve();\n                    }).catch(reject);\n\n                }\n                $(window.document).trigger(\"redrawErrorMessages\");\n                currentView.model.get(\"content\").propageEvent('resize');\n            }, this)));\n        },\n\n\n        /**\n         * Add responsive column classes according to responsiveColumns render option\n         */\n        responsiveColumns: function vTab_responsiveColumns() {\n            var responseColumnsDefs=this.model.getOption(\"responsiveColumns\") || [];\n            var _this=this;\n            var $fake=$(\"<div/>\").css({position:\"absolute\", top:0, overflow:\"hidden\"});\n            var $fakeWidth=$(\"<div/>\");\n            var setResponsiveClasse=function vTab_setResponsiveClasses() {\n                var fWidth=$(_this.$el).width();\n                var matchesResponsive=0;\n\n                _.each(responseColumnsDefs, function vTab_setResponsiveClasses(responseColumnsInfo) {\n                    if (fWidth >= responseColumnsInfo.minAbsWidth && fWidth < responseColumnsInfo.maxAbsWidth) {\n                        _this.$el.addClass(\"dcp-column--\"+responseColumnsInfo.number);\n                        matchesResponsive=responseColumnsInfo.number;\n                        if (responseColumnsInfo.grow === true) {\n                            _this.$el.addClass(\"dcp-column--grow\");\n                        } else {\n                            _this.$el.removeClass(\"dcp-column--grow\");\n                        }\n                    } else {\n                        _this.$el.removeClass(\"dcp-column--\"+responseColumnsInfo.number);\n                    }\n                });\n\n                if (matchesResponsive > 1) {\n                    _this.$el.addClass(\"dcp-column\");\n                } else {\n                    _this.$el.removeClass(\"dcp-column\");\n                }\n                if (matchesResponsive !== _this.frameIsResized) {\n                    _this.frameIsResized=matchesResponsive;\n                    // Send resize to frame in case they have also responsive.\n                    _this.model.get(\"content\").propageEvent('resize');\n\n                }\n            };\n\n            $(\"body\").append($fake.append($fakeWidth));\n\n            // Compute absolute width\n            _.each(responseColumnsDefs, function vTab_computeResponsiveWidth(responseColumnsInfo) {\n                if (! responseColumnsInfo.minWidth) {\n                    responseColumnsInfo.minAbsWidth = 0;\n                } else {\n                    $fakeWidth.width(responseColumnsInfo.minWidth);\n                    responseColumnsInfo.minAbsWidth = $fakeWidth.width();\n                }\n\n                if (! responseColumnsInfo.maxWidth) {\n                    responseColumnsInfo.maxAbsWidth = Infinity;\n                } else {\n                    $fakeWidth.width(responseColumnsInfo.maxWidth);\n                    responseColumnsInfo.maxAbsWidth = $fakeWidth.width();\n                }\n            });\n\n            $fake.remove();\n            $(window).on(\"resize.v\"+this.model.cid, setResponsiveClasse);\n            _.defer(setResponsiveClasse);\n        },\n\n        propageShowTab: function vTabContentPropageShowTab()\n        {\n            this.model.get(\"content\").propageEvent('showTab');\n        },\n\n        updateLabel: function vTabContentUpdateLabel()\n        {\n            this.$el.find(\".dcpFrame__label\").text(this.model.get(\"label\"));\n        },\n\n        hide: function vTabContentHide()\n        {\n            this.$el.hide();\n        },\n\n        show: function vTabContentShow()\n        {\n            this.$el.show();\n        },\n\n        _identifyView: function vAttribute_identifyView(event)\n        {\n            event.haveView = true;\n            //Add the pointer to the current jquery element to a list passed by the event\n            event.elements = event.elements.add(this.$el);\n        },\n        remove: function vFrame_Remove()\n        {\n            $(window).off(\".v\" + this.model.cid);\n\n            return Backbone.View.prototype.remove.call(this);\n        }\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/attributes/tab/vTabContent.js","/* global Popper */\n\nimport Util from './util'\n\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.0.0-beta): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst Tooltip = (($) => {\n\n  /**\n   * Check for Popper dependency\n   * Popper - https://popper.js.org\n   */\n  if (typeof Popper === 'undefined') {\n    throw new Error('Bootstrap tooltips require Popper.js (https://popper.js.org)')\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'tooltip'\n  const VERSION             = '4.0.0-beta'\n  const DATA_KEY            = 'bs.tooltip'\n  const EVENT_KEY           = `.${DATA_KEY}`\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n  const TRANSITION_DURATION = 150\n  const CLASS_PREFIX        = 'bs-tooltip'\n  const BSCLS_PREFIX_REGEX = new RegExp(`(^|\\\\s)${CLASS_PREFIX}\\\\S+`, 'g')\n\n  const DefaultType = {\n    animation           : 'boolean',\n    template            : 'string',\n    title               : '(string|element|function)',\n    trigger             : 'string',\n    delay               : '(number|object)',\n    html                : 'boolean',\n    selector            : '(string|boolean)',\n    placement           : '(string|function)',\n    offset              : '(number|string)',\n    container           : '(string|element|boolean)',\n    fallbackPlacement   : '(string|array)'\n  }\n\n  const AttachmentMap = {\n    AUTO   : 'auto',\n    TOP    : 'top',\n    RIGHT  : 'right',\n    BOTTOM : 'bottom',\n    LEFT   : 'left'\n  }\n\n  const Default = {\n    animation           : true,\n    template            : '<div class=\"tooltip\" role=\"tooltip\">'\n                        + '<div class=\"arrow\"></div>'\n                        + '<div class=\"tooltip-inner\"></div></div>',\n    trigger             : 'hover focus',\n    title               : '',\n    delay               : 0,\n    html                : false,\n    selector            : false,\n    placement           : 'top',\n    offset              : 0,\n    container           : false,\n    fallbackPlacement   : 'flip'\n  }\n\n  const HoverState = {\n    SHOW : 'show',\n    OUT  : 'out'\n  }\n\n  const Event = {\n    HIDE       : `hide${EVENT_KEY}`,\n    HIDDEN     : `hidden${EVENT_KEY}`,\n    SHOW       : `show${EVENT_KEY}`,\n    SHOWN      : `shown${EVENT_KEY}`,\n    INSERTED   : `inserted${EVENT_KEY}`,\n    CLICK      : `click${EVENT_KEY}`,\n    FOCUSIN    : `focusin${EVENT_KEY}`,\n    FOCUSOUT   : `focusout${EVENT_KEY}`,\n    MOUSEENTER : `mouseenter${EVENT_KEY}`,\n    MOUSELEAVE : `mouseleave${EVENT_KEY}`\n  }\n\n  const ClassName = {\n    FADE : 'fade',\n    SHOW : 'show'\n  }\n\n  const Selector = {\n    TOOLTIP       : '.tooltip',\n    TOOLTIP_INNER : '.tooltip-inner',\n    ARROW         : '.arrow'\n  }\n\n  const Trigger = {\n    HOVER  : 'hover',\n    FOCUS  : 'focus',\n    CLICK  : 'click',\n    MANUAL : 'manual'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Tooltip {\n\n    constructor(element, config) {\n\n      // private\n      this._isEnabled     = true\n      this._timeout       = 0\n      this._hoverState    = ''\n      this._activeTrigger = {}\n      this._popper        = null\n\n      // protected\n      this.element = element\n      this.config  = this._getConfig(config)\n      this.tip     = null\n\n      this._setListeners()\n\n    }\n\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    static get NAME() {\n      return NAME\n    }\n\n    static get DATA_KEY() {\n      return DATA_KEY\n    }\n\n    static get Event() {\n      return Event\n    }\n\n    static get EVENT_KEY() {\n      return EVENT_KEY\n    }\n\n    static get DefaultType() {\n      return DefaultType\n    }\n\n\n    // public\n\n    enable() {\n      this._isEnabled = true\n    }\n\n    disable() {\n      this._isEnabled = false\n    }\n\n    toggleEnabled() {\n      this._isEnabled = !this._isEnabled\n    }\n\n    toggle(event) {\n      if (event) {\n        const dataKey = this.constructor.DATA_KEY\n        let context = $(event.currentTarget).data(dataKey)\n\n        if (!context) {\n          context = new this.constructor(\n            event.currentTarget,\n            this._getDelegateConfig()\n          )\n          $(event.currentTarget).data(dataKey, context)\n        }\n\n        context._activeTrigger.click = !context._activeTrigger.click\n\n        if (context._isWithActiveTrigger()) {\n          context._enter(null, context)\n        } else {\n          context._leave(null, context)\n        }\n\n      } else {\n\n        if ($(this.getTipElement()).hasClass(ClassName.SHOW)) {\n          this._leave(null, this)\n          return\n        }\n\n        this._enter(null, this)\n      }\n    }\n\n    dispose() {\n      clearTimeout(this._timeout)\n\n      $.removeData(this.element, this.constructor.DATA_KEY)\n\n      $(this.element).off(this.constructor.EVENT_KEY)\n      $(this.element).closest('.modal').off('hide.bs.modal')\n\n      if (this.tip) {\n        $(this.tip).remove()\n      }\n\n      this._isEnabled     = null\n      this._timeout       = null\n      this._hoverState    = null\n      this._activeTrigger = null\n      if (this._popper !== null) {\n        this._popper.destroy()\n      }\n      this._popper        = null\n\n      this.element = null\n      this.config  = null\n      this.tip     = null\n    }\n\n    show() {\n      if ($(this.element).css('display') === 'none') {\n        throw new Error('Please use show on visible elements')\n      }\n\n      const showEvent = $.Event(this.constructor.Event.SHOW)\n      if (this.isWithContent() && this._isEnabled) {\n        $(this.element).trigger(showEvent)\n\n        const isInTheDom = $.contains(\n          this.element.ownerDocument.documentElement,\n          this.element\n        )\n\n        if (showEvent.isDefaultPrevented() || !isInTheDom) {\n          return\n        }\n\n        const tip   = this.getTipElement()\n        const tipId = Util.getUID(this.constructor.NAME)\n\n        tip.setAttribute('id', tipId)\n        this.element.setAttribute('aria-describedby', tipId)\n\n        this.setContent()\n\n        if (this.config.animation) {\n          $(tip).addClass(ClassName.FADE)\n        }\n\n        const placement  = typeof this.config.placement === 'function' ?\n          this.config.placement.call(this, tip, this.element) :\n          this.config.placement\n\n        const attachment = this._getAttachment(placement)\n        this.addAttachmentClass(attachment)\n\n        const container = this.config.container === false ? document.body : $(this.config.container)\n\n        $(tip).data(this.constructor.DATA_KEY, this)\n\n        if (!$.contains(this.element.ownerDocument.documentElement, this.tip)) {\n          $(tip).appendTo(container)\n        }\n\n        $(this.element).trigger(this.constructor.Event.INSERTED)\n\n        this._popper = new Popper(this.element, tip, {\n          placement: attachment,\n          modifiers: {\n            offset: {\n              offset: this.config.offset\n            },\n            flip: {\n              behavior: this.config.fallbackPlacement\n            },\n            arrow: {\n              element: Selector.ARROW\n            }\n          },\n          onCreate: (data) => {\n            if (data.originalPlacement !== data.placement) {\n              this._handlePopperPlacementChange(data)\n            }\n          },\n          onUpdate : (data) => {\n            this._handlePopperPlacementChange(data)\n          }\n        })\n\n        $(tip).addClass(ClassName.SHOW)\n\n        // if this is a touch-enabled device we add extra\n        // empty mouseover listeners to the body's immediate children;\n        // only needed because of broken event delegation on iOS\n        // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n        if ('ontouchstart' in document.documentElement) {\n          $('body').children().on('mouseover', null, $.noop)\n        }\n\n        const complete = () => {\n          if (this.config.animation) {\n            this._fixTransition()\n          }\n          const prevHoverState = this._hoverState\n          this._hoverState     = null\n\n          $(this.element).trigger(this.constructor.Event.SHOWN)\n\n          if (prevHoverState === HoverState.OUT) {\n            this._leave(null, this)\n          }\n        }\n\n        if (Util.supportsTransitionEnd() && $(this.tip).hasClass(ClassName.FADE)) {\n          $(this.tip)\n            .one(Util.TRANSITION_END, complete)\n            .emulateTransitionEnd(Tooltip._TRANSITION_DURATION)\n        } else {\n          complete()\n        }\n      }\n    }\n\n    hide(callback) {\n      const tip       = this.getTipElement()\n      const hideEvent = $.Event(this.constructor.Event.HIDE)\n      const complete  = () => {\n        if (this._hoverState !== HoverState.SHOW && tip.parentNode) {\n          tip.parentNode.removeChild(tip)\n        }\n\n        this._cleanTipClass()\n        this.element.removeAttribute('aria-describedby')\n        $(this.element).trigger(this.constructor.Event.HIDDEN)\n        if (this._popper !== null) {\n          this._popper.destroy()\n        }\n\n        if (callback) {\n          callback()\n        }\n      }\n\n      $(this.element).trigger(hideEvent)\n\n      if (hideEvent.isDefaultPrevented()) {\n        return\n      }\n\n      $(tip).removeClass(ClassName.SHOW)\n\n      // if this is a touch-enabled device we remove the extra\n      // empty mouseover listeners we added for iOS support\n      if ('ontouchstart' in document.documentElement) {\n        $('body').children().off('mouseover', null, $.noop)\n      }\n\n      this._activeTrigger[Trigger.CLICK] = false\n      this._activeTrigger[Trigger.FOCUS] = false\n      this._activeTrigger[Trigger.HOVER] = false\n\n      if (Util.supportsTransitionEnd() &&\n          $(this.tip).hasClass(ClassName.FADE)) {\n\n        $(tip)\n          .one(Util.TRANSITION_END, complete)\n          .emulateTransitionEnd(TRANSITION_DURATION)\n\n      } else {\n        complete()\n      }\n\n      this._hoverState = ''\n\n    }\n\n    update() {\n      if (this._popper !== null) {\n        this._popper.scheduleUpdate()\n      }\n    }\n\n    // protected\n\n    isWithContent() {\n      return Boolean(this.getTitle())\n    }\n\n    addAttachmentClass(attachment) {\n      $(this.getTipElement()).addClass(`${CLASS_PREFIX}-${attachment}`)\n    }\n\n    getTipElement() {\n      return this.tip = this.tip || $(this.config.template)[0]\n    }\n\n    setContent() {\n      const $tip = $(this.getTipElement())\n      this.setElementContent($tip.find(Selector.TOOLTIP_INNER), this.getTitle())\n      $tip.removeClass(`${ClassName.FADE} ${ClassName.SHOW}`)\n    }\n\n    setElementContent($element, content) {\n      const html = this.config.html\n      if (typeof content === 'object' && (content.nodeType || content.jquery)) {\n        // content is a DOM node or a jQuery\n        if (html) {\n          if (!$(content).parent().is($element)) {\n            $element.empty().append(content)\n          }\n        } else {\n          $element.text($(content).text())\n        }\n      } else {\n        $element[html ? 'html' : 'text'](content)\n      }\n    }\n\n    getTitle() {\n      let title = this.element.getAttribute('data-original-title')\n\n      if (!title) {\n        title = typeof this.config.title === 'function' ?\n          this.config.title.call(this.element) :\n          this.config.title\n      }\n\n      return title\n    }\n\n\n    // private\n\n    _getAttachment(placement) {\n      return AttachmentMap[placement.toUpperCase()]\n    }\n\n    _setListeners() {\n      const triggers = this.config.trigger.split(' ')\n\n      triggers.forEach((trigger) => {\n        if (trigger === 'click') {\n          $(this.element).on(\n            this.constructor.Event.CLICK,\n            this.config.selector,\n            (event) => this.toggle(event)\n          )\n\n        } else if (trigger !== Trigger.MANUAL) {\n          const eventIn  = trigger === Trigger.HOVER ?\n            this.constructor.Event.MOUSEENTER :\n            this.constructor.Event.FOCUSIN\n          const eventOut = trigger === Trigger.HOVER ?\n            this.constructor.Event.MOUSELEAVE :\n            this.constructor.Event.FOCUSOUT\n\n          $(this.element)\n            .on(\n              eventIn,\n              this.config.selector,\n              (event) => this._enter(event)\n            )\n            .on(\n              eventOut,\n              this.config.selector,\n              (event) => this._leave(event)\n            )\n        }\n\n        $(this.element).closest('.modal').on(\n          'hide.bs.modal',\n          () => this.hide()\n        )\n      })\n\n      if (this.config.selector) {\n        this.config = $.extend({}, this.config, {\n          trigger  : 'manual',\n          selector : ''\n        })\n      } else {\n        this._fixTitle()\n      }\n    }\n\n    _fixTitle() {\n      const titleType = typeof this.element.getAttribute('data-original-title')\n      if (this.element.getAttribute('title') ||\n         titleType !== 'string') {\n        this.element.setAttribute(\n          'data-original-title',\n          this.element.getAttribute('title') || ''\n        )\n        this.element.setAttribute('title', '')\n      }\n    }\n\n    _enter(event, context) {\n      const dataKey = this.constructor.DATA_KEY\n\n      context = context || $(event.currentTarget).data(dataKey)\n\n      if (!context) {\n        context = new this.constructor(\n          event.currentTarget,\n          this._getDelegateConfig()\n        )\n        $(event.currentTarget).data(dataKey, context)\n      }\n\n      if (event) {\n        context._activeTrigger[\n          event.type === 'focusin' ? Trigger.FOCUS : Trigger.HOVER\n        ] = true\n      }\n\n      if ($(context.getTipElement()).hasClass(ClassName.SHOW) ||\n         context._hoverState === HoverState.SHOW) {\n        context._hoverState = HoverState.SHOW\n        return\n      }\n\n      clearTimeout(context._timeout)\n\n      context._hoverState = HoverState.SHOW\n\n      if (!context.config.delay || !context.config.delay.show) {\n        context.show()\n        return\n      }\n\n      context._timeout = setTimeout(() => {\n        if (context._hoverState === HoverState.SHOW) {\n          context.show()\n        }\n      }, context.config.delay.show)\n    }\n\n    _leave(event, context) {\n      const dataKey = this.constructor.DATA_KEY\n\n      context = context || $(event.currentTarget).data(dataKey)\n\n      if (!context) {\n        context = new this.constructor(\n          event.currentTarget,\n          this._getDelegateConfig()\n        )\n        $(event.currentTarget).data(dataKey, context)\n      }\n\n      if (event) {\n        context._activeTrigger[\n          event.type === 'focusout' ? Trigger.FOCUS : Trigger.HOVER\n        ] = false\n      }\n\n      if (context._isWithActiveTrigger()) {\n        return\n      }\n\n      clearTimeout(context._timeout)\n\n      context._hoverState = HoverState.OUT\n\n      if (!context.config.delay || !context.config.delay.hide) {\n        context.hide()\n        return\n      }\n\n      context._timeout = setTimeout(() => {\n        if (context._hoverState === HoverState.OUT) {\n          context.hide()\n        }\n      }, context.config.delay.hide)\n    }\n\n    _isWithActiveTrigger() {\n      for (const trigger in this._activeTrigger) {\n        if (this._activeTrigger[trigger]) {\n          return true\n        }\n      }\n\n      return false\n    }\n\n    _getConfig(config) {\n      config = $.extend(\n        {},\n        this.constructor.Default,\n        $(this.element).data(),\n        config\n      )\n\n      if (config.delay && typeof config.delay === 'number') {\n        config.delay = {\n          show : config.delay,\n          hide : config.delay\n        }\n      }\n\n      if (config.title && typeof config.title === 'number') {\n        config.title = config.title.toString()\n      }\n\n      if (config.content && typeof config.content === 'number') {\n        config.content = config.content.toString()\n      }\n\n      Util.typeCheckConfig(\n        NAME,\n        config,\n        this.constructor.DefaultType\n      )\n\n      return config\n    }\n\n    _getDelegateConfig() {\n      const config = {}\n\n      if (this.config) {\n        for (const key in this.config) {\n          if (this.constructor.Default[key] !== this.config[key]) {\n            config[key] = this.config[key]\n          }\n        }\n      }\n\n      return config\n    }\n\n    _cleanTipClass() {\n      const $tip = $(this.getTipElement())\n      const tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX)\n      if (tabClass !== null && tabClass.length > 0) {\n        $tip.removeClass(tabClass.join(''))\n      }\n    }\n\n    _handlePopperPlacementChange(data) {\n      this._cleanTipClass()\n      this.addAttachmentClass(this._getAttachment(data.placement))\n    }\n\n    _fixTransition() {\n      const tip                 = this.getTipElement()\n      const initConfigAnimation = this.config.animation\n      if (tip.getAttribute('x-placement') !== null) {\n        return\n      }\n      $(tip).removeClass(ClassName.FADE)\n      this.config.animation = false\n      this.hide()\n      this.show()\n      this.config.animation = initConfigAnimation\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let data      = $(this).data(DATA_KEY)\n        const _config = typeof config === 'object' && config\n\n        if (!data && /dispose|hide/.test(config)) {\n          return\n        }\n\n        if (!data) {\n          data = new Tooltip(this, _config)\n          $(this).data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = Tooltip._jQueryInterface\n  $.fn[NAME].Constructor = Tooltip\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Tooltip._jQueryInterface\n  }\n\n  return Tooltip\n\n})(jQuery)\n\nexport default Tooltip\n\n\n\n// WEBPACK FOOTER //\n// ./~/bootstrap/js/src/tooltip.js","/**\n * Script loading is difficult thanks to IE. We need callbacks to fire\n * immediately following the script's execution, with no other scripts\n * running in between. If other scripts on the page are able to run\n * between our script and its callback, bad things can happen, such as\n * `jQuery.noConflict` not being called in time, resulting in plugins\n * latching onto our version of jQuery, etc.\n *\n * For IE<10 we use a relatively well-documented \"preloading\" strategy,\n * which ensures that the script is ready to execute *before* appending\n * it to the DOM. That way when it is finally appended, it is\n * executed immediately.\n *\n * References:\n * - http://www.html5rocks.com/en/tutorials/speed/script-loading/\n * - http://blog.getify.com/ie11-please-bring-real-script-preloading-back/\n * - https://github.com/jrburke/requirejs/issues/526\n * - https://connect.microsoft.com/IE/feedback/details/729164/\n *           ie10-dynamic-script-element-fires-loaded-readystate-prematurely\n */\n(function () {\n\n  // Global state.\n  var pendingScripts = {};\n  var scriptCounter = 0;\n\n  /**\n   * Insert script into the DOM\n   *\n   * @param {Object} script Script DOM object\n   * @returns {void}\n   */\n  var _addScript = function (script) {\n    // Get the first script element, we're just going to use it\n    // as a reference for where to insert ours. Do NOT try to do\n    // this just once at the top and then re-use the same script\n    // as a reference later. Some weird loaders *remove* script\n    // elements after the browser has executed their contents,\n    // so the same reference might not have a parentNode later.\n    var firstScript = document.getElementsByTagName(\"script\")[0];\n\n    // Append the script to the DOM, triggering execution.\n    firstScript.parentNode.insertBefore(script, firstScript);\n  };\n\n  /**\n   * Load Script.\n   *\n   * @param {String}            src       URI of script\n   * @param {Function|Object}   callback  (Optional) Called on script load completion,\n   *                                      or options object\n   * @param {Object}            context   (Optional) Callback context (`this`)\n   * @returns {void}\n   */\n  var _lload = function (src, callback, context) {\n    /*eslint max-statements: [2, 32]*/\n    var setup;\n\n    if (callback && typeof callback !== \"function\") {\n      context = callback.context || context;\n      setup = callback.setup;\n      callback = callback.callback;\n    }\n\n    var script = document.createElement(\"script\");\n    var done = false;\n    var err;\n    var _cleanup; // _must_ be set below.\n\n    /**\n     * Final handler for error or completion.\n     *\n     * **Note**: Will only be called _once_.\n     *\n     * @returns {void}\n     */\n    var _finish = function () {\n      // Only call once.\n      if (done) { return; }\n      done = true;\n\n      // Internal cleanup.\n      _cleanup();\n\n      // Callback.\n      if (callback) {\n        callback.call(context, err);\n      }\n    };\n\n    /**\n     * Error handler\n     *\n     * @returns {void}\n     */\n    var _error = function () {\n      err = new Error(src || \"EMPTY\");\n      _finish();\n    };\n\n    if (script.readyState && !(\"async\" in script)) {\n      /*eslint-disable consistent-return*/\n\n      // This section is only for IE<10. Some other old browsers may\n      // satisfy the above condition and enter this branch, but we don't\n      // support those browsers anyway.\n\n      var id = scriptCounter++;\n      var isReady = { loaded: true, complete: true };\n      var inserted = false;\n\n      // Clear out listeners, state.\n      _cleanup = function () {\n        script.onreadystatechange = script.onerror = null;\n        pendingScripts[id] = void 0;\n      };\n\n      // Attach the handler before setting src, otherwise we might\n      // miss events (consider that IE could fire them synchronously\n      // upon setting src, for example).\n      script.onreadystatechange = function () {\n        var firstState = script.readyState;\n\n        // Protect against any errors from state change randomness.\n        if (err) { return; }\n\n        if (!inserted && isReady[firstState]) {\n          inserted = true;\n\n          // Append to DOM.\n          _addScript(script);\n        }\n\n        // --------------------------------------------------------------------\n        //                       GLORIOUS IE8 HACKAGE!!!\n        // --------------------------------------------------------------------\n        //\n        // Oh IE8, how you disappoint. IE8 won't call `script.onerror`, so\n        // we have to resort to drastic measures.\n        // See, e.g. http://www.quirksmode.org/dom/events/error.html#t02\n        //\n        // As with all things development, there's a Stack Overflow comment that\n        // asserts the following combinations of state changes in IE8 indicate a\n        // script load error. And crazily, it seems to work!\n        //\n        // http://stackoverflow.com/a/18840568/741892\n        //\n        // The `script.readyState` transitions we're interested are:\n        //\n        // * If state starts as `loaded`\n        // * Call `script.children`, which _should_ change state to `complete`\n        // * If state is now `loading`, then **we have a load error**\n        //\n        // For the reader's amusement, here is HeadJS's catalog of various\n        // `readyState` transitions in normal operation for IE:\n        // https://github.com/headjs/headjs/blob/master/src/2.0.0/load.js#L379-L419\n        if (firstState === \"loaded\") {\n          // The act of accessing the property should change the script's\n          // `readyState`.\n          //\n          // And, oh yeah, this hack is so hacky-ish we need the following\n          // eslint disable...\n          /*eslint-disable no-unused-expressions*/\n          script.children;\n          /*eslint-enable no-unused-expressions*/\n\n          if (script.readyState === \"loading\") {\n            // State transitions indicate we've hit the load error.\n            //\n            // **Note**: We are not intending to _return_ a value, just have\n            // a shorter short-circuit code path here.\n            return _error();\n          }\n        }\n\n        // It's possible for readyState to be \"complete\" immediately\n        // after we insert (and execute) the script in the branch\n        // above. So check readyState again here and react without\n        // waiting for another onreadystatechange.\n        if (script.readyState === \"complete\") {\n          _finish();\n        }\n      };\n\n      // Onerror handler _may_ work here.\n      script.onerror = _error;\n\n      // Since we're not appending the script to the DOM yet, the\n      // reference to our script element might get garbage collected\n      // when this function ends, without onreadystatechange ever being\n      // fired. This has been witnessed to happen. Adding it to\n      // `pendingScripts` ensures this can't happen.\n      pendingScripts[id] = script;\n\n      // call the setup callback to mutate the script tag\n      if (setup) {\n        setup.call(context, script);\n      }\n\n      // This triggers a request for the script, but its contents won't\n      // be executed until we append it to the DOM.\n      script.src = src;\n\n      // In some cases, the readyState is already \"loaded\" immediately\n      // after setting src. It's a lie! Don't append to the DOM until\n      // the onreadystatechange event says so.\n\n    } else {\n      // This section is for modern browsers, including IE10+.\n\n      // Clear out listeners.\n      _cleanup = function () {\n        script.onload = script.onerror = null;\n      };\n\n      script.onerror = _error;\n      script.onload = _finish;\n      script.async = true;\n      script.charset = \"utf-8\";\n\n      // call the setup callback to mutate the script tag\n      if (setup) {\n        setup.call(context, script);\n      }\n\n      script.src = src;\n\n      // Append to DOM.\n      _addScript(script);\n    }\n  };\n\n  // UMD wrapper.\n  /*global define:false*/\n  if (typeof exports === \"object\" && typeof module === \"object\") {\n    // CommonJS\n    module.exports = _lload;\n\n  } else if (typeof define === \"function\" && define.amd) {\n    // AMD\n    define([], function () { return _lload; });\n\n  } else {\n    // VanillaJS\n    window._lload = _lload;\n  }\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./~/little-loader/lib/little-loader.js","/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false Mustache: true*/\n\n(function defineMustache (global, factory) {\n  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n    factory(exports); // CommonJS\n  } else if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    global.Mustache = {};\n    factory(global.Mustache); // script, wsh, asp\n  }\n}(this, function mustacheFactory (mustache) {\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          value = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           **/\n          while (value != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = hasProperty(value, names[index]);\n\n            value = value[names[index++]];\n          }\n        } else {\n          value = context.view[name];\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit)\n          break;\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var tokens = cache[template];\n\n    if (tokens == null)\n      tokens = cache[template] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   */\n  Writer.prototype.render = function render (template, view, partials) {\n    var tokens = this.parse(template);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  mustache.name = 'mustache.js';\n  mustache.version = '2.3.0';\n  mustache.tags = [ '{{', '}}' ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer.\n   */\n  mustache.render = function render (template, view, partials) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n  return mustache;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/mustache/mustache.js","/*global define, _super*/\n\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/attributes/text/wText',\n            'kendo-culture-fr'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function wDate($, _, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpDate\", $.dcp.dcpText, {\n\n        options: {\n            type: \"date\",\n            minDate: new Date(1700, 0, 1),\n            renderOptions: {\n                kendoDateConfiguration: {\n                    parseFormats: [\"yyyy-MM-dd\"],\n                    format: null\n                }\n            },\n            labels: {\n                invalidDate: \"Invalid Date\"\n            }\n        },\n\n        kendoWidgetClass: \"kendoDatePicker\",\n\n        _initDom: function wDateInitDom()\n        {\n\n            if (this.options.renderOptions.kendoDateConfiguration.format) {\n                this.options.attributeValue.displayValue = this.formatDate(this.parseDate(this.options.attributeValue.value));\n            }\n            if (this.getMode() === \"read\") {\n                if (this.options.renderOptions.format) {\n                    this.options.attributeValue.formatValue = Mustache.render(this.options.renderOptions.format || \"\",\n                        this.options.attributeValue);\n                }\n            }\n            this.element.addClass(\"dcpAttribute__content\");\n            this.element.attr(\"data-type\", this.getType());\n            this.element.attr(\"data-attrid\", this.options.id);\n            //noinspection JSPotentiallyInvalidConstructorUsage,JSAccessibilityCheck\n            $.dcp.dcpAttribute.prototype._initDom.apply(this, []);\n\n            this.kendoWidget = this.element.find(\".dcpAttribute__value--edit\");\n\n            if (this.kendoWidget.length) {\n                if (this.options.hasAutocomplete) {\n                    this.activateAutocomplete(this.kendoWidget);\n                } else {\n                    this._activateDate(this.kendoWidget);\n                }\n            }\n\n            if (this.element.find(\".dcpAttribute__content__buttons button\").length === 0) {\n                this.element.find(\".k-picker-wrap\").addClass(\"dcpAttribute__content__nobutton\");\n            }\n        },\n\n        _initChangeEvent: function wDate_initChangeEvent()\n        {\n            // set by widget if no autocomplete\n            if (this.options.hasAutocomplete) {\n                this._super();\n            }\n        },\n\n        setValue: function wDateSetValue(value)\n        {\n            // this._super.(value);\n            // Don't call dcpText::setValue()\n\n            var originalValue, originalDate;\n            value = _.clone(value);\n            if (_.has(value, \"value\") && !_.has(value, \"displayValue\")) {\n                value.displayValue = this.formatDate(this.parseDate(value.value));\n            } else {\n                if (this.options.renderOptions.kendoDateConfiguration.format) {\n                    value.displayValue = this.formatDate(this.parseDate(value.value));\n                }\n            }\n\n            //noinspection JSPotentiallyInvalidConstructorUsage\n            $.dcp.dcpAttribute.prototype.setValue.call(this, value);\n\n            if (this.getMode() === \"write\") {\n                originalValue = this.convertDateToPseudoIsoString(this.kendoWidget.data(this.kendoWidgetClass).value());\n                // : explicit lazy equal\n                //noinspection JSHint, EqualityComparisonWithCoercionJS\n                if (originalValue != value.value) {\n                    if (value.value) {\n                        originalDate = new Date(value.value);\n                        if (!isNaN(originalDate.getTime())) {\n                            this.kendoWidget.data(this.kendoWidgetClass).value(originalDate);\n                        }\n                    } else {\n                        this.getContentElements().val('');\n                    }\n                    // Modify value only if different\n                    if (originalValue || value.value) {\n                        this.flashElement();\n                    }\n                }\n            } else\n                if (this.getMode() === \"read\") {\n                    this.getContentElements().text(value.displayValue);\n                } else {\n                    throw new Error(\"Attribute \" + this.options.id + \" unkown mode \" + this.getMode());\n                }\n        },\n\n        _activateDate: function wDateSetValueActivateDate(inputValue)\n        {\n            var currentWidget = this;\n            var kOptions = this.getKendoOptions();\n\n            kOptions.change = function wDateChange()\n            {\n                if (this.value() !== null) {\n                    // only valid date are setted\n                    // wrong date are set by blur event\n                    var isoDate = currentWidget.convertDateToPseudoIsoString(this.value());\n                    // Need to set by widget to use raw date\n                    currentWidget.setValue({value: isoDate, displayValue: inputValue.val()});\n                }\n            };\n\n            inputValue.kendoDatePicker(kOptions);\n\n            // Workaround for date paste : change event is not trigger in this case\n            inputValue.on(\"paste\" + this.eventNamespace, function wDatePaste()\n            {\n                var $input = $(this);\n                _.defer(function wDatePasteAfter()\n                {\n                    // set Value after\n                    inputValue.data(\"kendoDatePicker\").value($input.val().trim());\n                    inputValue.data(\"kendoDatePicker\").trigger(\"change\");\n                });\n            });\n\n            this._controlDate(inputValue);\n        },\n\n        _controlDate: function wDateControlDate(inputValue)\n        {\n            var currentWidget = this;\n            inputValue.on('blur' + this.eventNamespace, function validateDate(/*event*/)\n            {\n                var dateValue = $(this).val().trim();\n\n                if (currentWidget.invalidDate) {\n                    currentWidget.setError(null); // clear Error before\n                    currentWidget.invalidDate = false;\n                }\n\n                currentWidget._setVisibilitySavingMenu(\"visible\");\n\n                if (dateValue) {\n                    if (!currentWidget.parseDate(dateValue)) {\n\n                        currentWidget._setVisibilitySavingMenu(\"disabled\");\n                        _.defer(function wDateFocus()\n                        {\n                            currentWidget._getFocusInput().focus();\n                        });\n                        currentWidget.invalidDate = true;\n                        currentWidget.setError(currentWidget.options.labels.invalidDate);\n                    }\n                }\n            });\n        },\n\n        formatDate: function wDateFormatDate(value)\n        {\n            if (this.options.renderOptions.kendoDateConfiguration.format) {\n                return kendo.toString(value, this.options.renderOptions.kendoDateConfiguration.format);\n            }\n            return kendo.toString(value, \"d\");\n        },\n\n        parseDate: function wDateParseDate(value)\n        {\n            var parseFormat = this.options.renderOptions.kendoDateConfiguration.parseFormats;\n            var goodDate = kendo.parseDate(value);\n            if (goodDate) {\n                return goodDate;\n            }\n            if (this.options.renderOptions.kendoDateConfiguration.format) {\n                parseFormat.push(this.options.renderOptions.kendoDateConfiguration.format);\n            }\n            return kendo.parseDate(value, parseFormat);\n        },\n\n        convertDateToPseudoIsoString: function wDateconvertDateToPseudoIsoString(dateObject)\n        {\n            if (dateObject && _.isDate(dateObject)) {\n                return dateObject.getFullYear() + '-' + this.padNumber(dateObject.getMonth() + 1) + '-' + this.padNumber(dateObject.getDate());\n            }\n            return '';\n        },\n\n        padNumber: function wDatePadNumber(number)\n        {\n            if (number < 10) {\n                return '0' + number;\n            }\n            return number;\n        },\n\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoNumeric\n         * @returns {*}\n         */\n        getKendoOptions: function wDategetKendoOptions()\n        {\n            var currentWidget = this,\n                kendoOptions = {},\n                defaultOptions = {\n                    min: this.options.minDate\n                };\n\n            if (_.isObject(currentWidget.options.renderOptions.kendoDateConfiguration)) {\n                kendoOptions = currentWidget.options.renderOptions.kendoDateConfiguration;\n            }\n\n            return _.extend(defaultOptions, kendoOptions);\n        },\n\n        close: function wDate_close()\n        {\n            if (this.kendoWidget.data(this.kendoWidgetClass)) {\n                this.kendoWidget.data(this.kendoWidgetClass).close();\n            }\n            return this._super();\n        },\n\n        _destroy: function wDateDestroy()\n        {\n            if (this.kendoWidget.data(this.kendoWidgetClass)) {\n                this.kendoWidget.data(this.kendoWidgetClass).destroy();\n            }\n            this._super();\n        }\n    });\n\n    return $.fn.dcpDate;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/date/wDate.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/css-loader/lib/css-base.js","/*global define*/\n\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/widget',\n            'tooltip'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function wAttributeWidget($, _, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpAttribute\", {\n\n        options: {\n            eventPrefix: \"dcpAttribute\",\n            id: null,\n            type: \"abstract\",\n            mode: \"read\",\n            index: -1,\n            labels: {\n                deleteAttributeNames: \"\",\n                deleteLabel: \"\",\n                closeErrorMessage: \"Close message\"\n            },\n            template: null,\n            deleteButton: false,\n            renderOptions: {\n                displayDeleteButton: true\n            },\n            locale: \"fr_FR\"\n        },\n\n        /**\n         * Redraw element with updated values\n         */\n        redraw: function wAttributeRedraw()\n        {\n            this.element.find(\"[aria-describedby*='tooltip']\").tooltip(\"hide\");\n            this.element.empty();\n            this._initDom();\n            this.element.off(this.eventNamespace);\n            this._initEvent();\n            return this;\n        },\n\n        /**\n         * Verify if a common link option is set\n         *\n         * @returns boolean\n         */\n        hasLink: function hasLink()\n        {\n            return Boolean(this.options.renderOptions && this.options.renderOptions.htmlLink && this.options.renderOptions.htmlLink.url);\n        },\n        /**\n         * Return the url of link\n         * @returns string\n         */\n        getLink: function wAttributeGetLink()\n        {\n            if (this.options.renderOptions && this.options.renderOptions.htmlLink) {\n                return this.options.renderOptions.htmlLink;\n            }\n            return null;\n        },\n\n        /**\n         * Flash the element to attract user attention\n         *\n         * @param currentElement\n         */\n        flashElement: function wAttributeFlashElement(currentElement)\n        {\n            if (!currentElement) {\n                currentElement = this.element;\n            }\n            currentElement.addClass('dcpAttribute__value--flash');\n            _.delay(function wAttributeFlashDelay()\n            {\n                currentElement.removeClass('dcpAttribute__value--flash').addClass('dcpAttribute__value--endflash');\n                _.delay(function wAttributeFlashSecondDelay()\n                {\n                    currentElement.removeClass('dcpAttribute__value--endflash');\n                }, 600);\n            }, 10);\n        },\n\n        /**\n         * Display tooltip an error message\n         *\n         * @param message string or array of [{message:, index:}, ...]\n         */\n        setError: function wAttributeSetError(message)\n        {\n            var kt;\n            var scope = this;\n            if (message) {\n                var messages;\n                if (!_.isArray(message)) {\n                    messages = [\n                        {message: message, index: -1}\n                    ];\n                } else {\n                    messages = _.toArray(message);\n                }\n                _.each(messages, function wAttributeSetErrorMsg(indexMessage)\n                {\n                    if ((indexMessage.index === -1) ||\n                        (scope.element.closest('tr').data(\"line\") === indexMessage.index)) {\n                        scope.element.addClass(\"has-error\");\n                        // need to use sub element because tooltip add a div after element\n                        scope.element.find(\".input-group\").tooltip({\n                            placement: \"bottom\",\n                            html: true,\n                            animation: false,\n                            container: scope.element.parent(), //\".dcpDocument\",// no use scope.element because when item is in the bottom of the page a scrollbar can appear\n                            title: function wAttributeSetErrorTitle()\n                            {\n                                var rawMessage = $('<div/>').text(indexMessage.message).html();\n                                return '<div>' + '<span title=\"' + scope.options.labels.closeErrorMessage + '\" class=\"btn fa fa-times button-close-error\">&nbsp;</span>' + rawMessage + '</div>';\n                            },\n                            trigger: \"manual\"\n                        }).one(\"shown.bs.tooltip\", function wErrorTooltip () {\n                            var tipElement = $(this).data(\"bs.tooltip\").tip;\n                            if (tipElement) {\n                                $(tipElement).addClass(\"has-error\");\n                            }\n                        });\n                        scope.element.data(\"hasErrorTooltip\", true);\n                        scope.element.find(\".input-group\").tooltip(\"show\");\n                        // Need to refresh to update position after possible change on element value\n                        _.delay(function wAttributeSetErrorDelay()\n                        {\n                            var $input=scope.element.find(\".input-group\");\n                            //$input.tooltip(\"hide\").tooltip(\"show\");\n                        }, 1);\n                    }\n                });\n            } else {\n                this.element.removeClass(\"has-error\");\n                if (this.element.data(\"hasErrorTooltip\")) {\n                    // No use destroy because the destruction is deferred\n                    kt = this.element.find(\".input-group\");\n                    kt.tooltip(\"hide\").data(\"bs.tooltip\", null);\n                    this.element.data(\"hasErrorTooltip\", false);\n                }\n            }\n\n        },\n\n        /**\n         * Get the type of the widget\n         *\n         * @returns {string}\n         */\n        getType: function getType()\n        {\n            return this.options.type;\n        },\n\n        /**\n         * Get the mode of the widget\n         *\n         * @returns {string} Read|Write\n         */\n        getMode: function getMode()\n        {\n            if (this.options.mode !== \"read\" && this.options.mode !== \"write\" && this.options.mode !== \"hidden\") {\n                throw new Error(\"Attribute \" + this.option.id + \" have unknown mode \" + this.options.mode);\n            }\n            return this.options.mode;\n        },\n\n        /**\n         * Return the value stored in the wiget\n         *\n         * @returns {*|number|.options.attributeValue}\n         */\n        getValue: function wAttributegetValue()\n        {\n            return this.options.attributeValue;\n        },\n\n        /**\n         * Identify the input where is the raw value\n         * @returns {*}\n         */\n        getContentElements: function wAttributeGetContentElements()\n        {\n            return this.element.find('.dcpAttribute__value[name=\"' + this.options.id + '\"]');\n        },\n\n        /**\n         * Return the value of something\n         *\n         *\n         * @returns {*}\n         */\n        getWidgetValue: function getWidgetValue()\n        {\n            return this.getContentElements().val();\n\n        },\n        /**\n         * Set options.attributeValue element and trigger the view\n         *\n         * @param value\n         * @param event\n         */\n        setValue: function wAttributeSetValue(value, event)\n        {\n            this._checkValue(value);\n\n            var isEqual = false;\n\n            if (this._isMultiple()) {\n                isEqual = _.toArray(this.options.attributeValue).length === value.length;\n                if (isEqual) {\n\n                    isEqual = _.isEqual(this.options.attributeValue, value);\n                }\n            } else {\n                isEqual = _.isEqual(this.options.attributeValue.value, value.value);\n            }\n            if (!isEqual) {\n                this.options.attributeValue = value;\n\n                this._trigger(\"change\", event, {\n                    id: this.options.id,\n                    value: this.getValue(),\n                    index: this._getIndex()\n                });\n            }\n        },\n\n        /**\n         * Show the input tooltip\n         * @param  ktTarget DOMElement\n         *\n         * @return dcp.dcpAttribute\n         */\n        hideInputTooltip: function wAttributeHideInputTooltip(ktTarget)\n        {\n            var $ktTarger = $(ktTarget).closest(\".input-group\");\n            if ($ktTarger.data(\"hasTooltip\")) {\n                $ktTarger.tooltip(\"hide\");\n            }\n            return this;\n        },\n\n        /**\n         * Show the input tooltip\n         * @param  ktTarget DOMElement\n         *\n         * @return dcp.dcpAttribute\n         */\n        showInputTooltip: function showInputTooltip(ktTarget)\n        {\n            var scope = this;\n\n            if (scope.options.renderOptions.inputHtmlTooltip) {\n                var $ktTarger = $(ktTarget).closest(\".input-group\");\n                var kt = $ktTarger.data(\"hasTooltip\");\n\n                if (!kt) {\n                    $ktTarger.tooltip({\n                        trigger: \"manual\",\n                        html: true,\n                        title: scope.options.renderOptions.inputHtmlTooltip,\n                        placement: \"bottom\"\n                    }).on(\"shown.bs.tooltip\", function wErrorTooltip () {\n                        var tipElement = $(this).data(\"bs.tooltip\").tip;\n                        if (tipElement) {\n                            $(tipElement).addClass(\"dcpAttribute__editlabel\");\n                        }\n                    });;\n                    $ktTarger.data(\"hasTooltip\", true);\n                }\n                $ktTarger.tooltip(\"show\");\n            }\n            return this;\n        },\n\n        /**\n         * Close the attribute if open\n         *\n         * @returns {dcp.dcpAttribute}\n         */\n        close: function wAttribute_close()\n        {\n            return this;\n        },\n\n        /**\n         * Create the widget\n         * @private\n         */\n        _create: function _create()\n        {\n            var scope = this;\n            //If no id is provided one id generated\n            if (this.options.id === null) {\n                this.options.id = _.uniqueId(\"widget_\" + this.getType());\n            }\n\n            if (_.isUndefined(this.options.attributeValue) || this.options.attributeValue === null) {\n                if (this._isMultiple()) {\n                    this.options.attributeValue = [];\n                } else {\n                    this.options.attributeValue = {\n                        \"value\": null,\n                        displayValue: \"\"\n                    };\n                }\n            }\n            if (this.options.helpOutputs) {\n                this.options.hasAutocomplete = true;\n            }\n\n            if (this.options.renderOptions && this.options.renderOptions.buttons) {\n                // Add index for template to identify buttons\n                this.options.renderOptions.buttons = _.map(this.options.renderOptions.buttons, function wAttributeOptionMap(val, index)\n                {\n                    val.renderHtmlContent = Mustache.render(val.htmlContent || \"\", scope.options.attributeValue);\n                    val.index = index;\n                    return val;\n                });\n            }\n            this.options.emptyValue = _.bind(this._getEmptyValue, this);\n            this.options.hadButtons = this._hasButtons();\n            if (this.options.renderOptions && this.options.renderOptions.labels) {\n                this.options.labels = _.extend(this.options.labels, this.options.renderOptions.labels);\n            }\n\n            if (this.options.renderOptions && this.options.renderOptions.displayDeleteButton === false) {\n                this.options.deleteButton = false;\n            }\n            if (this.getMode() !== \"hidden\") {\n                this._initDom();\n                this._initEvent();\n            }\n\n            this._triggerReady();\n        },\n\n        /**\n         * Destroy the widget\n         *\n         * Suppress widget defined events and delete added dom\n         *\n         * @private\n         */\n        _destroy: function _destroy()\n        {\n            this.element.removeClass(\"dcpAttribute__content\");\n            this.element.removeAttr(\"data-type\");\n            this.element.removeAttr(\"data-attrid\");\n            this.element.empty();\n            this._trigger(\"destroy\");\n            this._super();\n        },\n\n        /**\n         * Init the DOM of the template\n         *\n         * @protected\n         */\n        _initDom: function wAttributeInitDom()\n        {\n            var htmlLink = this.getLink();\n            var scopeWidget = this;\n            this._initMainElementClass();\n            if (htmlLink) {\n                // Add render Url and title on links\n                var originalEscape = Mustache.escape;\n\n                if (this._isMultiple()) {\n                    this.options.attributeValues = _.map(this.options.attributeValue, function wAttributeLinkMultiple(val, index)\n                    {\n                        var urlIndex = index;\n                        Mustache.escape = encodeURIComponent;\n                        scopeWidget._completeRevisionData(val);\n                        if (scopeWidget.options.index >= 0) {\n                            // Use index of row prior to index of multiple value\n                            urlIndex = scopeWidget.options.index;\n                        }\n\n                        if (htmlLink.urls && htmlLink.urls[urlIndex]) {\n                            val.renderUrl = Mustache.render(htmlLink.urls[urlIndex], val);\n                        } else {\n                            val.renderUrl = Mustache.render(htmlLink.url || \"\", val);\n                        }\n                        Mustache.escape = originalEscape;\n                        val.renderTitle = Mustache.render(htmlLink.title || \"\", val);\n                        val.index = index;\n                        return val;\n                    });\n                } else {\n                    Mustache.escape = encodeURIComponent;\n                    this._completeRevisionData(this.options.attributeValue);\n                    if (htmlLink.urls && htmlLink.urls[this.options.index]) {\n                        this.options.renderOptions.htmlLink.renderUrl = Mustache.render(htmlLink.urls[this.options.index], this.options.attributeValue);\n                    } else {\n                        this.options.renderOptions.htmlLink.renderUrl = Mustache.render(htmlLink.url || \"\", this.options.attributeValue);\n                    }\n                    Mustache.escape = originalEscape;\n                    this.options.renderOptions.htmlLink.renderTitle = Mustache.render(htmlLink.title || \"\", this.options.attributeValue);\n                }\n            }\n            this.element.append(Mustache.render(this._getTemplate(this.options.mode) || \"\", this.options));\n\n\n            if (this.element.find(\".dcpAttribute__content__buttons button\").length === 0) {\n                this.element.find(\".dcpAttribute__content__buttons\").hide();\n                this.element.find(\".dcpAttribute__value\").addClass(\"dcpAttribute__content__nobutton\");\n            }\n        },\n\n        /**\n         * Add revision extra data to render link\n         * @param data\n         * @private\n         */\n        _completeRevisionData: function wAttribute_completeRevisionData(data)\n        {\n            data.isRevision = data.revision !== -1 && data.revision !== null && !_.isUndefined(data.revision);\n            if (data.isRevision) {\n                if (data.revision.state) {\n                    data.revisionTarget = \"state:\" + data.revision.state;\n                } else {\n                    data.revisionTarget = data.revision;\n                }\n            }\n        },\n\n        /**\n         * Init the DOM of the template\n         *\n         * @public\n         */\n        _initMainElementClass: function wAttributeInitMainElementClass()\n        {\n            this.element.addClass(\"dcpAttribute__content\");\n            this.element.attr(\"data-type\", this.getType());\n            this.element.attr(\"data-attrid\", this.options.id);\n        },\n        /**\n         * Init the events\n         *\n         * @protected\n         */\n        _initEvent: function _initEvent()\n        {\n            if (this.getMode() === \"write\") {\n                this._initDeleteEvent();\n                this._initButtonsEvent();\n                this._initFocusEvent();\n                this._initMoveEvent();\n            }\n            if (this.getMode() === \"read\") {\n                this._initButtonsEvent();\n                this._initActionClickEvent();\n                this._initLinkEvent();\n            }\n            this._initErrorEvent();\n            return this;\n        },\n\n        /**\n         * Init the focus event for tooltips (only for write attr)\n         *\n         * @protected\n         */\n        _initFocusEvent: function wAttributeInitFocusEvent()\n        {\n            if (this.options.renderOptions && this.options.renderOptions.inputHtmlTooltip) {\n                var scope = this;\n\n                var inputTargetFilter = \".dcpAttribute__value\";\n                this._getFocusInput().on(\"focus\" + this.eventNamespace, function wAttributeFocus(event)\n                {\n                    var ktTarget = $(event.currentTarget).closest(inputTargetFilter);\n                    scope.showInputTooltip(ktTarget);\n                });\n                this._getFocusInput().on(\"blur.\" + this.eventNamespace, function wAttributeBlur(event)\n                {\n                    var ktTarget = $(event.currentTarget).closest(inputTargetFilter);\n                    scope.hideInputTooltip(ktTarget);\n                });\n            }\n            this._getFocusInput().on(\"focus\" + this.eventNamespace, function wAttributeFocus(event)\n            {\n                var $content = $(event.currentTarget).closest(\".dcpAttribute__content\");\n                $content.addClass(\"dcpAttribute--focus\");\n            });\n            this._getFocusInput().on(\"blur\" + this.eventNamespace, function wAttributeFocus(event)\n            {\n                var $content = $(event.currentTarget).closest(\".dcpAttribute__content\");\n                $content.removeClass(\"dcpAttribute--focus\");\n            });\n\n            return this;\n        },\n        /**\n         * Reindex widget when a move is performed in an array\n         *\n         * @protected\n         */\n        _initMoveEvent: function wAttributeInitFocusEvent()\n        {\n            var scope = this;\n            if (this.options.index !== -1) {\n                this.element.on(\"postMoved\" + this.eventNamespace, function wAttributeinitMoveEvent()\n                    {\n                        var domLine = scope.element.closest('tr').data('line');\n                        if (!_.isUndefined(domLine)) {\n                            scope.options.index = domLine;\n                        }\n                    }\n                );\n            }\n            return this;\n        },\n        /**\n         * Init the events associated to buttons (only for write attributes)\n         *\n         * @protected\n         */\n        _initButtonsEvent: function _initButtonsEvent()\n        {\n            var currentWidget = this;\n            this.element.on(\"click\" + this.eventNamespace, \".dcpAttribute__content__button--extra\", function wAttributeButtonClick(event)\n            {\n                var buttonsConfig = currentWidget.options.renderOptions.buttons;\n                var $button = $(this);\n                var buttonIndex = $button.data(\"index\");\n                var buttonConfig = buttonsConfig[buttonIndex];\n                var wFeature = '';\n\n                if (buttonConfig && buttonConfig.url) {\n                    var originalEscape = Mustache.escape;\n                    Mustache.escape = encodeURIComponent;\n                    var url = Mustache.render(buttonConfig.url || \"\", currentWidget.options.attributeValue);\n                    Mustache.escape = originalEscape;\n\n                    if (buttonConfig.target !== \"_dialog\") {\n                        var $base = $(\"base\");\n                        var isAbsUrl = new RegExp('^(?:[a-z]+:)?//', 'i');\n\n                        if (buttonConfig && (buttonConfig.windowWidth || buttonConfig.windowHeight)) {\n                            if (buttonConfig.windowWidth) {\n                                wFeature += \"width=\" + parseInt(buttonConfig.windowWidth, 10) + \",\";\n                            }\n                            if (buttonConfig.windowHeight) {\n                                wFeature += \"height=\" + parseInt(buttonConfig.windowHeight, 10) + \",\";\n                            }\n                            wFeature += \"resizable=yes,scrollbars=yes\";\n                        }\n                        if (!isAbsUrl.test(url)) {\n                            // For IE : Not honor base href in this case\n                            url = $base.attr(\"href\") + url;\n                        }\n                        window.open(url, buttonConfig.target, wFeature);\n                    } else {\n                        var $bdw = $('<div/>');\n                        $('body').append($bdw);\n                        var renderTitle = Mustache.render(buttonConfig.windowTitle || \"\", currentWidget.options.attributeValue);\n                        var dw = $bdw.dcpWindow({\n                            title: renderTitle,\n                            width: buttonConfig.windowWidth,\n                            height: buttonConfig.windowHeight,\n                            content: url,\n                            iframe: true\n                        }).data('dcpWindow');\n                        dw.kendoWindow().center();\n                        dw.open();\n                    }\n                }\n\n                currentWidget._trigger(\"click\", event, {\n                    id: currentWidget.option.id,\n                    value: currentWidget.options.attributeValue,\n                    index: currentWidget._getIndex()\n                });\n            });\n            this.element.tooltip({\n                selector: \".dcpAttribute__content__buttons button\",\n                placement: \"top\",\n                trigger: \"hover\",\n                html: true,\n                title: function wAttributeGetButtonTitle()\n                {\n                    var title = $(this).data(\"title\");\n                    var attrValue = currentWidget.getValue();\n                    return Mustache.render(title || \"\", attrValue);\n                },\n                container: this.element.parent()\n            });\n\n            return this;\n        },\n\n        /**\n         * Init events for delete button on error tooltip\n         *\n         * @protected\n         */\n        _initErrorEvent: function wAttributeInitErrotEvent()\n        {\n            var scope = this;\n            // tooltip is created in same parent\n            this.element.parent().on(\"click\" + this.eventNamespace, \".button-close-error\", function closeError(/*event*/)\n            {\n                if (scope.element.data(\"hasErrorTooltip\")) {\n                    scope.element.find(\".input-group\").tooltip(\"hide\");\n                    scope.element.data(\"hasErrorTooltip\", false);\n                }\n            });\n        },\n        /**\n         * Init events for delete button (only for write attributes)\n         *\n         * @protected\n         */\n        _initDeleteEvent: function wAttributeInitDeleteEvent()\n        {\n            var currentWidget = this;\n\n            // Compose delete button title\n            var $deleteButton = this.element.find(\".dcpAttribute__content__button--delete\");\n            var titleDelete;\n            if (this.options.labels.deleteLabel) {\n                titleDelete = this.options.labels.deleteLabel;\n            } else {\n                titleDelete = $deleteButton.attr('title');\n                titleDelete += this.options.labels.deleteAttributeNames;\n            }\n            $deleteButton.attr('title', titleDelete);\n\n            this.element.on(\"click\" + this.eventNamespace, \".dcpAttribute__content__button--delete\", function destroyTable(event)\n            {\n                currentWidget._trigger(\"delete\", event, {\n                    index: currentWidget._getIndex(),\n                    id: currentWidget.options.id\n                });\n                // main input is focuses after deletion\n                _.defer(function wAttributeDeferDelete()\n                {\n                    currentWidget.element.find(\"input\").focus();\n                });\n            });\n            return this;\n        },\n        /**\n         * Init event for #action/ links\n         *\n         * @protected\n         */\n        _initActionClickEvent: function wAttributeInitActionClickEvent() {\n            var scopeWidget = this;\n\n            this.element.on(\"click.\" + this.eventNamespace, 'a[href^=\"#action/\"], a[data-action], button[data-action]', function wAttributeActionClick(event) {\n                var $this = $(this),\n                    action,\n                    options,\n                    eventOptions;\n\n                event.preventDefault();\n                if (event.stopPropagation) {\n                    event.stopPropagation();\n                }\n\n                action = $this.data('action') || $this.attr(\"href\");\n                options = action.substring(8).split(\":\");\n                eventOptions = {\n                    target: event.target,\n                    index: scopeWidget._getIndex(),\n                    eventId: options.shift(),\n                    options: options\n                };\n\n                scopeWidget._trigger(\"externalLinkSelected\", event, eventOptions);\n                return this;\n            });\n        },\n        /**\n         * Init event when a hyperlink is associated to the attribute\n         *\n         * @protected\n         */\n        _initLinkEvent: function wAttributeInitLinkEvent()\n        {\n            var htmlLink = this.getLink();\n            var scopeWidget = this;\n\n            if (htmlLink) {\n                this.element.on(\"click.\" + this.eventNamespace, '.dcpAttribute__content__link', function wAttributeAttributeClick(event)\n                {\n\n                    var $this = $(this), renderTitle, index, $dialogDiv, dpcWindow, href = $this.attr(\"href\");\n\n                    if (href.substring(0, 8) !== \"#action/\" && !$this.data(\"action\")) {\n                        if (htmlLink.target === \"_dialog\") {\n                            event.preventDefault();\n\n                            index = $(this).data(\"index\");\n                            if (typeof index !== \"undefined\" && index !== null) {\n                                renderTitle = Mustache.render(htmlLink.windowTitle || \"\", scopeWidget.options.attributeValue[index]);\n                            } else {\n                                renderTitle = Mustache.render(htmlLink.windowTitle || \"\", scopeWidget.options.attributeValue);\n                            }\n\n                            $dialogDiv = $('<div/>');\n                            $('body').append($dialogDiv);\n\n                            dpcWindow = $dialogDiv.dcpWindow({\n                                title: renderTitle,\n                                width: htmlLink.windowWidth,\n                                height: htmlLink.windowHeight,\n                                content: href,\n                                iframe: true\n                            });\n\n                            dpcWindow.data('dcpWindow').kendoWindow().center();\n                            dpcWindow.data('dcpWindow').open();\n                        }\n                    }\n                });\n\n                this.element.find('.dcpAttribute__content__link[title]').tooltip({\n                    placement: \"top\",\n                    container: this.element.parent(),\n                    html: true,\n                    trigger: \"hover\"\n                }).each(function wAttributeInitLinkTooltip()\n                {\n                    if ($(this).data(\"bs.tooltip\").tip) {\n                        $(this).data(\"bs.tooltip\").tip().addClass(\"dcpAttribute__linkvalue\");\n                    }\n                });\n            }\n            return this;\n        },\n\n        /**\n         * Get input that can handle focus class\n         *\n         * For the display of the focus class (in helpers)\n         *\n         * @return jquery elements\n         *\n         * @protected\n         */\n        _getFocusInput: function wAttributeFocusInput()\n        {\n            return this.element.find('input[name=\"' + this.options.id + '\"]');\n        },\n\n        /**\n         * Return the index of the attributes (for attribute in a widget array)\n         *\n         * @returns int\n         * @protected\n         */\n        _getIndex: function _getIndex()\n        {\n            if (this.options.index !== -1) {\n                this.options.index = this.element.closest('.dcpArray__content__line').data('line');\n            }\n            return this.options.index;\n        },\n\n        /**\n         * Return the empty value (default value if the attribute is empty)\n         *\n         * @returns {*}\n         * @private\n         */\n        _getEmptyValue: function _getEmptyValue()\n        {\n            if (_.isEmpty(this.options.attributeValue) || this.options.attributeValue.value === null) {\n                if (this.options.renderOptions && this.options.renderOptions.showEmptyContent) {\n                    return this.options.renderOptions.showEmptyContent === true ? \" \" : this.options.renderOptions.showEmptyContent;\n                }\n                return \"\";\n            }\n            return \"\";\n        },\n\n        /**\n         * Get the template of the current attribute\n         *\n         * The template can be in the options or in a global var of dcp namespace (initiated by require for widget)\n         *\n         * @param key\n         * @returns string\n         * @private\n         */\n        _getTemplate: function _getTemplate(key)\n        {\n            if (this.options.templates && this.options.templates[key]) {\n                return this.options.templates[key];\n            }\n            if (window.dcp && window.dcp.templates && window.dcp.templates[this.getType()] && window.dcp.templates[this.getType()][key]) {\n                return window.dcp.templates[this.getType()][key];\n            }\n            if (window.dcp && window.dcp.templates && window.dcp.templates[\"default\"] && window.dcp.templates[\"default\"][key]) {\n                return window.dcp.templates[\"default\"][key];\n            }\n            throw new Error(\"Unknown template  \" + key + \"/\" + this.options.type + \" for \" + this.options.id);\n        },\n\n        /**\n         * Test if the value of the setValue is correct\n         *\n         * @param value\n         * @returns {boolean}\n         */\n        _checkValue: function wAttributeTestValue(value)\n        {\n            //noinspection JSHint\n            if (this._isMultiple()) { // jshint ignore:line\n                // TODO : Verify each array entry\n// jscs:disable disallowEmptyBlocks\n            } else {\n// jscs:enable disallowEmptyBlocks\n                if (!_.isObject(value) || !_.has(value, \"value\") || !_.has(value, \"displayValue\")) {\n                    throw new Error(\"The value must be an object with value and displayValue properties (attrid id :\" + this.options.id + \")\");\n                }\n            }\n            return true;\n        },\n        /**\n         * Check if the attribute is multiple\n         *\n         * @returns boolean\n         * @public\n         */\n        _isMultiple: function _isMultiple()\n        {\n            return (this.options.options && this.options.options.multiple === \"yes\");\n        },\n\n        /**\n         * Check if the widget has buttons\n         *\n         * Used by template for rendering options\n         *\n         * @returns boolean\n         */\n        _hasButtons: function wAttributeHasButtons()\n        {\n            if (this.getMode() === \"write\") {\n                return this.options.hasAutocomplete || this.options.deleteButton || (this.options.renderOptions && this.options.renderOptions.buttons && true);\n            } else {\n                return (this.options.renderOptions && this.options.renderOptions.buttons && true);\n            }\n        },\n        /**\n         * Trigger a ready event when widget is render\n         */\n        _triggerReady: function wAttributeReady()\n        {\n            this._trigger(\"widgetReady\");\n        },\n\n        /**\n         * Trigger an event that should disable save menu on document\n         *\n         * @param visibility\n         * @private\n         */\n        _setVisibilitySavingMenu: function wAttribute_DisableSavingMenu(visibility)\n        {\n            var event = {prevent: false};\n            this._trigger(\"changeattrmenuvisibility\", event, {\n                id: \"save\",\n                onlyIfVisible: true,\n                visibility: visibility\n            });\n            this._trigger(\"changeattrmenuvisibility\", event, {\n                id: \"saveAndClose\",\n                onlyIfVisible: true,\n                visibility: visibility\n            });\n            this._trigger(\"changeattrmenuvisibility\", event, {\n                id: \"createAndClose\",\n                onlyIfVisible: true,\n                visibility: visibility\n            });\n            this._trigger(\"changeattrmenuvisibility\", event, {\n                id: \"create\",\n                onlyIfVisible: true,\n                visibility: visibility\n            });\n        }\n\n    });\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/wAttribute.js","/*global define*/\ndefine([\"underscore\"], function require_constraintHandler(_)\n{\n    'use strict';\n\n    return function ConstraintHandler()\n    {\n        var _messages = [];\n        this.addConstraintMessage = function addConstraintMessage(message, index)\n        {\n            index = _.isNumber(index) ? index : -1;\n            _messages.push({message: message, index: index});\n        };\n        this.getConstraintMessages = function getConstraintMessages()\n        {\n            return _messages.slice(0);\n        };\n        this.hasConstraintMessages = function hasConstraintMessages()\n        {\n            return _messages.length > 0;\n        };\n        this.deleteConstaintMessages = function deleteConstaintMessages()\n        {\n            _messages = [];\n        };\n    };\n\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/controllerObjects/constraintHandler.js","define([\n    \"underscore\",\n    \"backbone\"\n], function (_, Backbone) {\n    \"use strict\";\n\n    var url = _.template(\"api/v1/documents/<%- initid %>/usertags/lasttab\");\n\n    return Backbone.Model.extend({\n\n        typeModel:\"ddui:attributeTab\",\n        idAttribute : \"initid\",\n\n        url : function mDocumentTag_url() {\n            return url({initid : this.get(\"initid\")});\n        },\n\n        toJSON : function mDocumentTag_toJSON() {\n            return this.get(\"tabId\");\n        }\n\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mDocumentTab.js","define([\n    'jquery',\n    'underscore',\n    'mustache',\n    'dcpDocument/widgets/widget',\n    'dcpDocument/widgets/window/wDialog'\n], function require_wProperties($, _, Mustache)\n{\n    'use strict';\n\n    $.widget(\"dcp.dcpDocumentProperties\", $.dcp.dcpDialog, {\n        options: {\n            documentId: 0,\n            window: {\n                modal: true,\n                title: \"Document properties\"\n            },\n            labels: {\n                identifier: \"Identifier\",\n                title: \"Title\",\n                logicalName: \"Logical name\",\n                revision: \"Revision number\",\n                version: \"Version\",\n                family: \"Family\",\n                lockedBy: \"Locked by\",\n                createdBy: \"Created by\",\n                notLocked: \"Not locked\",\n                confidential: \"Confidential\",\n                notConfidential: \"Not confidential\",\n                creationDate: \"Creation date\",\n                lastModificationDate: \"Last modification date\",\n                lastAccessDate: \"Last access date\",\n                profil: \"Profil\",\n                profilReference: \"Profil reference\",\n                viewController: \"View controller\",\n                propertiesTitle: \"Properties of {{title}}\",\n                property: \"Property\",\n                propertyValue: \"Value\",\n                workflow: \"Workflow\",\n                activity: \"Activity\"\n            }\n        },\n        documentProperties: null,\n        htmlCaneva: function wProperties_htmlCaneva()\n        {\n            return '<table class=\"properties-main table table-condensed table-hover\"><thead>' +\n                '<tr class=\"properties-header\">' +\n                '<th class=\"properties-header--description\">{{labels.property}}</th>' +\n                '<th class=\"properties-header--value\">{{labels.propertyValue}}</th>' +\n                '</tr></thead>' +\n                '<tbody>' +\n                '<tr><td class=\"properties-description\">{{labels.title}}</td><td class=\"properties-value\">{{title}}</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.identifier}}</td><td class=\"properties-value\">{{initid}}</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.logicalName}}</td><td class=\"properties-value\">{{name}}</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.revision}}</td><td class=\"properties-value\">{{revision}}</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.version}}</td><td class=\"properties-value\">{{version}}</td></tr>' +\n                '<tr><td class=\"properties-separator\" colspan=\"2\"></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.workflow}}</td><td class=\"properties-value\"><a  data-document-id=\"{{workflow.id}}\" href=\"api/v1/documents/{{workflow.id}}.html\">{{#workflow.icon}}<img src=\"{{workflow.icon}}\"/>{{/workflow.icon}}{{workflow.title}}</a></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.activity}}</td><td class=\"properties-value\">{{#state.reference}}<div class=\"properties-value-statecolor\" style=\"background-color:{{state.color}}\"/>{{state.displayValue}}{{/state.reference}}</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.family}}</td><td class=\"properties-value\"><a data-document-id=\"{{family.id}}\" href=\"api/v1/documents/{{family.id}}.html\"><img src=\"{{family.icon}}\"/>{{family.title}}</a><br/><div class=\"properties-value--famname\">{{family.name}}</div></td></tr>' +\n                '<tr><td class=\"properties-separator\" colspan=\"2\"></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.createdBy}}</td><td class=\"properties-value\"><a data-document-id=\"{{createdBy.id}}\" href=\"api/v1/documents/{{createdBy.id}}.html\"><img src=\"{{createdBy.icon}}\"/>{{createdBy.title}}</a></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.lockedBy}}</td><td class=\"properties-value\">' +\n                '{{#security.lock.lockedBy.id}}' +\n                '<a data-document-id=\"{{security.lock.lockedBy.id}}\" href=\"api/v1/documents/{{security.lock.lockedBy.id}}.html\"><img src=\"{{security.lock.lockedBy.icon}}\"/>{{security.lock.lockedBy.title}}</a>' +\n                '{{/security.lock.lockedBy.id}}' +\n                '{{^security.lock.lockedBy.id}}{{labels.notLocked}}{{/security.lock.lockedBy.id}}' +\n                '</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.confidential}}</td><td class=\"properties-value\">' +\n                '{{#confidential}}' +\n                '{{labels.confidential}}' +\n                '{{/confidential}}' +\n                '{{^confidential}}{{labels.notConfidential}}{{/confidential}}' +\n                '</td></tr>' +\n                '<tr><td class=\"properties-separator\" colspan=\"2\"></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.creationDate}}</td><td class=\"properties-value\">{{#formatDate}}{{creationDate}}{{/formatDate}}</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.lastModificationDate}}</td><td class=\"properties-value\">{{#formatDate}}{{lastModificationDate}}{{/formatDate}}</td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.lastAccessDate}}</td><td class=\"properties-value\">{{#formatDate}}{{lastAccessDate}}{{/formatDate}}</td></tr>' +\n                '<tr><td class=\"properties-separator\" colspan=\"2\"></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.profil}}</td><td class=\"properties-value\"><a data-document-id=\"{{security.profil.id}}\" href=\"api/v1/documents/{{security.profil.id}}.html\">{{#security.profil.icon}}<img src=\"{{security.profil.icon}}\"/>{{/security.profil.icon}}{{security.profil.title}}</a></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.profilReference}}</td><td class=\"properties-value\"><a data-document-id=\"{{security.profil.reference.id}}\" href=\"api/v1/documents/{{security.profil.reference.id}}.html\">{{#security.profil.reference.icon}}<img src=\"{{security.profil.reference.icon}}\"/>{{/security.profil.reference.icon}}{{security.profil.reference.title}}</a></td></tr>' +\n                '<tr><td class=\"properties-description\">{{labels.viewController}}</td><td class=\"properties-value\"><a data-document-id=\"{{viewController.id}}\" href=\"api/v1/documents/{{viewController.id}}.html\">{{#viewController.icon}}<img src=\"{{viewController.icon}}\"/>{{/viewController.icon}}{{viewController.title}}</a></td></tr>' +\n                '</tbody></table>';\n        },\n\n        _create: function wProperties__create()\n        {\n            var scope = this;\n\n            this._displayProperties();\n\n            this._super();\n\n            this.element.data(\"dcpDocumentProperties\", this);\n            this.element.on(\"click\" + this.eventNamespace, \"a[data-document-id]\", function wProperties_bindClick(event)\n            {\n                var docid = $(this).data(\"document-id\");\n                if (docid) {\n                    event.preventDefault();\n                    scope.element.trigger(\"viewDocument\", docid);\n                }\n            });\n\n        },\n\n        _displayProperties: function wPropertiesGetProperties()\n        {\n            var scope = this;\n            $.getJSON(\"api/v1/documents/\" + this.options.documentId +\n                \".json?fields=document.properties.all\").done(function wProperties_done(data)\n            {\n                var info;\n                scope.documentProperties = data.data.document.properties;\n                info = _.extend(scope.documentProperties, {labels: scope.options.labels});\n                info.formatDate = function wProperties_formatDate()\n                {\n                    return function wProperties_formatDate2(text, render)\n                    {\n                        return kendo.toString(new Date(render(text).replace(' ', 'T')), \"G\");\n                    };\n                };\n                scope.element.html(Mustache.render(scope.htmlCaneva() || \"\", info));\n                //scope.dialogWindow.center();\n\n                scope.dialogWindow.setOptions({\n                    title: Mustache.render(scope.options.labels.propertiesTitle, data.data.document.properties)\n                });\n\n            }).fail(function wProperties_fail(xhr)\n            {\n                var result = JSON.parse(xhr.responseText);\n                window.alert(result.exceptionMessage);\n            });\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/properties/wProperties.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone',\n    'dcpDocument/models/mDocument'\n], function requireModelTransition(_, Backbone, mDocument) {\n    'use strict';\n\n    return mDocument.extend({\n\n        typeModel:\"ddui:transition\",\n        defaults: {\n            documentId: undefined,\n            documentModel: undefined,\n            state: undefined,\n            attributes: []\n        },\n\n        /**\n         * Compute the REST URL for the current document\n         *\n         * Used internally by backbone in fetch, save, destroy\n         *\n         * @returns {string}\n         */\n        url: function mTransition_url() {\n            var urlData = \"api/v1/documents/<%= documentId %>/views/states/<%= state %>\";\n\n            urlData = urlData.replace(\"<%= documentId %>\", encodeURIComponent(this.get(\"documentId\")));\n            urlData = urlData.replace(\"<%= state %>\", encodeURIComponent(this.get(\"state\")));\n\n            return urlData;\n        },\n        /**\n         * Parse the return of the REST API\n         * @param response\n         * @returns {{properties: (*|properties|exports.defaults.properties|exports.parse.properties|.createObjectExpression.properties), menus: (app.views.shared.menu|*), locale: *, renderMode: string, attributes: Array, templates: *, renderOptions: *}}\n         */\n        parse: function mTransition_Parse(response) {\n            var values, attributes, templates, renderOptions;\n            var documentModel = this.get(\"documentModel\");\n            if (response.success === false) {\n                throw new Error(\"Unable to get the data from change state\");\n            }\n            attributes = [];\n\n            renderOptions = response.data.renderOptions;\n\n            if (!renderOptions) {\n                renderOptions = documentModel.get(\"renderOptions\");\n            }\n            if (response.data.transition && response.data.transition.askAttributes.length > 0) {\n                _.each(response.data.transition.askAttributes, function mTransition_parseAsk(ask) {\n                    attributes.push(ask);\n                });\n            }\n            templates = documentModel.get(\"templates\");\n\n            if (response.data.templates) {\n                templates.body = response.data.templates.body;\n                _.each(response.data.templates.sections, function mTransition_parseTemplate(templateContent, templateIndex) {\n                    templates.sections[templateIndex] = templateContent;\n                });\n            }\n\n            this.initialProperties = {\n                \"renderMode\": \"edit\",\n                \"viewId\": \"!Transition\"\n            };\n\n            values = {\n                initid: null,//response.data.workflow.properties.initid, // set to null to send a POST (create) when save\n                properties: response.data.workflow.properties,\n                menus: [],\n                viewId: \"!Transition\",\n                locale: documentModel.get(\"locale\").culture,\n                renderMode: \"edit\",\n                attributes: attributes,\n                templates: documentModel.get(\"templates\"),\n                renderOptions: renderOptions,\n                customCSS: response.data.css,\n                customJS: response.data.js,\n                messages: response.messages,\n                workflow: {\n                    transition: response.data.transition,\n                    state: response.data.state,\n                    labels: response.data.labels\n                }\n            };\n            return values;\n        },\n\n        /**\n         * Used by backbone for the save part\n         * @returns {{document: {attributes: *, properties : *}}}\n         */\n        toJSON: function mTransition_toJSON() {\n            var values = this.getValues(), returnValues = {parameters: {}};\n\n            _.each(values, function mTransition_analyzeContent(value, aid) {\n                if (aid === \"_workflow_comment_\") {\n                    returnValues.comment = (_.isObject(value)) ? value.value : '';\n                } else {\n\n                    if (_.isArray(value)) {\n                        if (value.length > 0 && _.isArray(value[0])) {\n                            // double multiple\n                            returnValues.parameters[aid] = _.map(value, function mTransition_getParameter(aValue) {\n                                return _.pluck(aValue, \"value\");\n                            });\n                        } else {\n                            returnValues.parameters[aid] = _.pluck(value, \"value\");\n                        }\n                    } else if (_.isObject(value)) {\n                        returnValues.parameters[aid] = value.value;\n                    } else {\n                        returnValues.parameters[aid] = value;\n                    }\n                }\n            });\n            return returnValues;\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/models/mTransition.js","(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'dcpDocument/widgets/attributes/int/wInt'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery);\n    }\n}(window,  function require_double($) {\n    'use strict';\n\n    $.widget(\"dcp.dcpDouble\", $.dcp.dcpInt, {\n\n        options: {\n            type: \"double\",\n            renderOptions : {\n                decimalPrecision : null, // unlimited precision\n                numberFormat :  '#,#.######################'\n            }\n        },\n\n        _initDom: function wDoubleInitDom() {\n            if (this.options.renderOptions.decimalPrecision !== null && this.options.renderOptions.decimalPrecision >= 0) {\n                // view decimal precision\n                this.options.renderOptions.numberFormat = '#,#.' ;\n                for (var idx=0;idx<this.options.renderOptions.decimalPrecision; idx++) {\n                    this.options.renderOptions.numberFormat += '0';\n                }\n            }\n\n            this._super();\n        },\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoNumeric\n         * @returns {*}\n         */\n        getKendoNumericOptions: function wDoubleGetKendoNumericOptions () {\n            var options=this._super(); // get from wInt\n            //Limits are linked to this bug => https://github.com/telerik/kendo-ui-core/issues/423\n            if (options.max === null) {\n                options.max = 9.99999e19;\n            }\n            if (options.min === null) {\n                options.min = -9.9999e19;\n            }\n            if (this.options.renderOptions.decimalPrecision !== null) {\n                options.decimals = this.options.renderOptions.decimalPrecision;\n            } else {\n                options.decimals = 20;\n            }\n            return options;\n        },\n\n        getType: function wDoubleGetType () {\n            return \"double\";\n        }\n\n    });\n\n    return $.fn.dcpDouble;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/double/wDouble.js","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = external \"jQuery\"\n// module chunks = mainSmartElement smartElementGrid smartElement vendor","module.exports = kendo;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"kendo\"\n// module id = external \"kendo\"\n// module chunks = mainSmartElement","/*global define*/\n\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\"jquery\"], factory);\n    } else {\n        factory(window.jQuery);\n    }\n}(window, function documentCatalog(jQuery)\n{\n    \"use strict\";\n\n        var ErrorNoSuchMethod = function widget_ErrorNoSuchMethod(message)\n        {\n            this.name = 'noSuchMethodError';\n            this.message = message || 'No such method for current widget instance';\n        };\n\n        ErrorNoSuchMethod.prototype = Object.create(Error.prototype);\n        ErrorNoSuchMethod.prototype.constructor = ErrorNoSuchMethod;\n\n        (function widget_init($, undefined) {\n\n            var widgetUuid = 0,\n                slice = Array.prototype.slice,\n                _cleanData = $.cleanData;\n            $.cleanData = function widget_cleanData(elems) {\n                var events, elem=null, i;\n                for (i = 0, elem; (elem = elems[i]) != null; i++) { // jshint ignore:line\n                    try {\n                        // Only trigger remove when necessary to save time\n                        events = $._data( elem, \"events\" );\n                        if ( events && events.remove ) {\n                            $( elem ).triggerHandler( \"remove\" );\n                        }\n                    } catch (e) {\n                    }\n                }\n                _cleanData(elems);\n            };\n\n            $.widget = function widget_initWidget(name, Base, prototype) {\n                var fullName, existingConstructor, Constructor, basePrototype,\n                // proxiedPrototype allows the provided prototype to remain unmodified\n                // so that it can be used as a mixin for multiple widgets (#8876)\n                    proxiedPrototype = {},\n                    namespace = name.split(\".\")[ 0 ];\n\n                name = name.split(\".\")[ 1 ];\n                fullName = namespace + \"-\" + name;\n\n                if (!prototype) {\n                    prototype = Base;\n                    Base = $.Widget;\n                }\n\n                if ( $.isArray( prototype ) ) {\n                    prototype = $.extend.apply( null, [ {} ].concat( prototype ) );\n                }\n\n                // create selector for plugin\n                // $.expr[ \":\" ] is deprecated with jQuery 3.0.0+ in favor of $.expr.pseudos\n                // $.expr[ \":\" ][ fullName.toLowerCase() ] = function widget_createSelector(elem) {\n                //     return Boolean($(elem).data(fullName));\n                // };\n                $.expr.pseudos[ fullName.toLowerCase() ] = function widget_createSelector(elem) {\n                  return Boolean($(elem).data(fullName));\n                };\n\n                $[ namespace ] = $[ namespace ] || {};\n                existingConstructor = $[ namespace ][ name ];\n                Constructor = $[ namespace ][ name ] = function widget_Constructor(options, element) {\n                    // allow instantiation without \"new\" keyword\n                    if (!this._createWidget) {\n                        return new Constructor(options, element);\n                    }\n\n                    // allow instantiation without initializing for simple inheritance\n                    // must use \"new\" keyword (the code above always passes args)\n                    if (arguments.length) {\n                        this._createWidget(options, element);\n                    }\n                };\n                // extend with the existing constructor to carry over any static properties\n                $.extend(Constructor, existingConstructor, {\n                    version :            prototype.version,\n                    // copy the object used to create the prototype in case we need to\n                    // redefine the widget later\n                    _proto :             $.extend({}, prototype),\n                    // track widgets that inherit from this widget in case this widget is\n                    // redefined after a widget inherits from it\n                    _childConstructors : []\n                });\n\n                basePrototype = new Base();\n                // we need to make the options hash a property directly on the new instance\n                // otherwise we'll modify the options hash on the prototype that we're\n                // inheriting from\n                basePrototype.options = $.widget.extend({}, basePrototype.options);\n                $.each(prototype, function widget_proxiedElements(prop, value) {\n                    if (!$.isFunction(value)) {\n                        proxiedPrototype[ prop ] = value;\n                        return;\n                    }\n                    proxiedPrototype[ prop ] = (function widget_proxiedProperties() {\n                        var _super = function widget_super() {\n                                return Base.prototype[ prop ].apply(this, arguments);\n                            },\n                            _superApply = function widget_superApply(args) {\n                                return Base.prototype[ prop ].apply(this, args);\n                            };\n                        return function widget_proxied() {\n                            var __super = this._super,\n                                __superApply = this._superApply,\n                                returnValue;\n\n                            this._super = _super;\n                            this._superApply = _superApply;\n\n                            returnValue = value.apply(this, arguments);\n\n                            this._super = __super;\n                            this._superApply = __superApply;\n\n                            return returnValue;\n                        };\n                    })();\n                });\n                Constructor.prototype = $.widget.extend(basePrototype, {\n                }, proxiedPrototype, {\n                    constructor :    Constructor,\n                    namespace :      namespace,\n                    widgetName :     name,\n                    widgetFullName : fullName\n                });\n\n                // If this widget is being redefined then we need to find all widgets that\n                // are inheriting from it and redefine all of them so that they inherit from\n                // the new version of this widget. We're essentially trying to replace one\n                // level in the prototype chain.\n                if (existingConstructor) {\n                    $.each(existingConstructor._childConstructors, function widget_existingConstructor(i, child) {\n                        var childPrototype = child.prototype;\n\n                        // redefine the child widget using the same prototype that was\n                        // originally used, but inherit from the new version of the base\n                        $.widget(childPrototype.namespace + \".\" + childPrototype.widgetName, Constructor, child._proto);\n                    });\n                    // remove the list of existing child constructors from the old constructor\n                    // so the old child constructors can be garbage collected\n                    delete existingConstructor._childConstructors;\n                } else {\n                    Base._childConstructors.push(Constructor);\n                }\n\n                $.widget.bridge(name, Constructor);\n\n                return Constructor;\n            };\n\n            $.widget.extend = function widget_extend(target) {\n                var input = slice.call(arguments, 1),\n                    inputIndex = 0,\n                    inputLength = input.length,\n                    key,\n                    value;\n                for (; inputIndex < inputLength; inputIndex++) {\n                    for (key in input[ inputIndex ]) {  // jshint ignore:line\n                        //noinspection JSUnfilteredForInLoop\n                        value = input[ inputIndex ][ key ];\n                        if (input[ inputIndex ].hasOwnProperty(key) && value !== undefined) {\n                            // Clone objects\n                            if ($.isPlainObject(value)) {\n                                target[ key ] = $.isPlainObject(target[ key ]) ?\n                                    $.widget.extend({}, target[ key ], value) :\n                                    // Don't extend strings, arrays, etc. with objects\n                                    $.widget.extend({}, value);\n                                // Copy everything else by reference\n                            } else {\n                                target[ key ] = value;\n                            }\n                        }\n                    }\n                }\n                return target;\n            };\n\n            $.widget.bridge = function widget_bridge(name, Object) {\n                var fullName = Object.prototype.widgetFullName || name;\n                $.fn[ name ] = function widget_callElement(options) {\n                    var isMethodCall = typeof options === \"string\",\n                        args = slice.call(arguments, 1),\n                        returnValue = this;\n\n                    // allow multiple hashes to be passed on init\n                    options = !isMethodCall && args.length ?\n                        $.widget.extend.apply(null, [ options ].concat(args)) :\n                        options;\n\n                    if (isMethodCall) {\n                        this.each(function widget_eachMethodCall() {\n                            var methodValue,\n                                instance = $(this).data( fullName);\n                            if ( options === \"instance\" ) {\n                                returnValue = instance;\n                                return false;\n                            }\n                            if (!instance) {\n                                return $.error(\"cannot call methods on \" + name + \" prior to initialization; \" +\n                                    \"attempted to call method '\" + options + \"'\");\n                            }\n                            if (!$.isFunction(instance[options]) || options.charAt(0) === \"_\") {\n                                throw new ErrorNoSuchMethod(\"no such method '\" + options + \"' for \" + name + \" widget instance\");\n                            }\n                            methodValue = instance[ options ].apply(instance, args);\n                            if (methodValue !== instance && methodValue !== undefined) {\n                                returnValue = methodValue && methodValue.jquery ?\n                                    returnValue.pushStack(methodValue.get()) :\n                                    methodValue;\n                                return false;\n                            }\n                        });\n                    } else {\n\n                        // Allow multiple hashes to be passed on init\n                        if ( args.length ) {\n                            options = $.widget.extend.apply( null, [ options ].concat( args ) );\n                        }\n\n                        this.each(function widget_eachDataCall() {\n                            var instance = $(this).data(fullName);\n                            if (instance) {\n                                instance.option(options || {})._init();\n                            } else {\n                                $(this).data(fullName, new Object(options, this));\n                            }\n                        });\n                    }\n\n                    return returnValue;\n                };\n            };\n\n            $.Widget = function widget_Widget(/* options, element */) {\n            };\n            $.Widget._childConstructors = [];\n\n            $.Widget.prototype = {\n                widgetName :          \"widget\",\n                defaultElement :      \"<div>\",\n                options :             {\n                    classes: {},\n                    disabled :    false,\n                    eventPrefix : null,\n                    // callbacks\n                    create :      null\n                },\n                _createWidget :       function widget_createWidget(options, element) {\n                    element = $(element || this.defaultElement || this)[ 0 ];\n                    this.element = $(element);\n                    this.uuid = widgetUuid++;\n                    this.eventNamespace = \".\" + this.widgetName + this.uuid;\n                    this.options = $.widget.extend({},\n                        this.options,\n                        this._getCreateOptions(),\n                        options);\n\n                    this.bindings = $();\n                    this.classesElementLookup = {};\n                    if (this.options.eventPrefix === null) {\n                        this.options.eventPrefix = this.widgetName;\n                    }\n\n                    if (element !== this) {\n                        $(element).data(this.widgetFullName, this);\n                        this._on(true, this.element, {\n                            remove : function widget_remove(event) {\n                                if (event.target === element) {\n                                    this.destroy();\n                                }\n                            }\n                        });\n                        this.document = $(element.style ?\n                            // element within the document\n                            element.ownerDocument :\n                            // element is window or document\n                        element.document || element);\n                        this.window = $(this.document[0].defaultView || this.document[0].parentWindow);\n                    }\n                    this.options = $.widget.extend( {},\n                        this.options,\n                        this._getCreateOptions(),\n                        options );\n\n                    this._create();\n\n                    if ( this.options.disabled ) {\n                        this._setOptionDisabled( this.options.disabled );\n                    }\n\n                    this._trigger(\"create\", null, this._getCreateEventData());\n                    this._init();\n                },\n                _getCreateOptions: function widget_getCreateOptions() {\n                    return {};\n                },\n                _getCreateEventData : $.noop,\n                _create :             $.noop,\n                _init :               $.noop,\n\n                destroy :  function widget_destroy() {\n                    var that = this;\n\n                    this._destroy();\n                    $.each( this.classesElementLookup, function widget_destroyClass( key, value ) {\n                        that._removeClass( value, key );\n                    } );\n\n                    // We can probably remove the unbind calls in 2.0\n                    // all event bindings should go through this._on()\n                    this.element\n                        .off( this.eventNamespace )\n                        .removeData( this.widgetFullName );\n                    this.widget()\n                        .off( this.eventNamespace )\n                        .removeAttr( \"aria-disabled\" );\n\n                    // Clean up events and states\n                    this.bindings.off( this.eventNamespace );\n                },\n                _destroy : $.noop,\n\n                widget : function widget_widget() {\n                    return this.element;\n                },\n\n                option :      function widget_option(key, value) {\n                    var options = key,\n                        parts,\n                        curOption,\n                        i;\n\n                    if (arguments.length === 0) {\n                        // don't return a reference to the internal hash\n                        return $.widget.extend({}, this.options);\n                    }\n\n                    if (typeof key === \"string\") {\n                        // handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n                        options = {};\n                        parts = key.split(\".\");\n                        key = parts.shift();\n                        if (parts.length) {\n                            curOption = options[ key ] = $.widget.extend({}, this.options[ key ]);\n                            for (i = 0; i < parts.length - 1; i++) {\n                                curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n                                curOption = curOption[ parts[ i ] ];\n                            }\n                            key = parts.pop();\n                            if (arguments.length === 1) {\n                                return curOption[ key ] === undefined ? null : curOption[ key ];\n                            }\n                            curOption[ key ] = value;\n                        } else {\n                            if (arguments.length === 1) {\n                                return this.options[ key ] === undefined ? null : this.options[ key ];\n                            }\n                            options[ key ] = value;\n                        }\n                    }\n\n                    this._setOptions(options);\n\n                    return this;\n                },\n                _setOptions : function widget__setOptions(options) {\n                    var key;\n\n                    for (key in options) { // jshint ignore:line\n                        //noinspection JSUnfilteredForInLoop\n                        this._setOption(key, options[ key ]);\n                    }\n\n                    return this;\n                },\n                _setOption :  function widget__setOption(key, value) {\n                    this.options[ key ] = value;\n\n                    return this;\n                },\n\n                _setOptionClasses: function widget__setOptionClasses( value ) {\n                    var classKey, elements, currentElements;\n\n                    for ( classKey in value ) { // jshint ignore:line\n                        //noinspection JSUnfilteredForInLoop\n                        currentElements = this.classesElementLookup[ classKey ];\n                        //noinspection JSUnfilteredForInLoop\n                        if ( value[ classKey ] === this.options.classes[ classKey ] ||\n                            !currentElements ||\n                            !currentElements.length ) {\n                            continue;\n                        }\n\n                        // We are doing this to create a new jQuery object because the _removeClass() call\n                        // on the next line is going to destroy the reference to the current elements being\n                        // tracked. We need to save a copy of this collection so that we can add the new classes\n                        // below.\n                        elements = $( currentElements.get() );\n                        //noinspection JSUnfilteredForInLoop\n                        this._removeClass( currentElements, classKey );\n\n                        // We don't use _addClass() here, because that uses this.options.classes\n                        // for generating the string of classes. We want to use the value passed in from\n                        // _setOption(), this is the new value of the classes option which was passed to\n                        // _setOption(). We pass this value directly to _classes().\n                        //noinspection JSUnfilteredForInLoop\n                        elements.addClass( this._classes( {\n                            element: elements,\n                            keys: classKey,\n                            classes: value,\n                            add: true\n                        } ) );\n                    }\n                },\n\n                _classes: function widget__classes( options ) {\n                    var full = [];\n                    var that = this, processClassString;\n\n                    options = $.extend( {\n                        element: this.element,\n                        classes: this.options.classes || {}\n                    }, options );\n\n                    processClassString = function widget_processClassString( classes, checkOption ) {\n                        var current, i;\n                        for ( i = 0; i < classes.length; i++ ) {\n                            current = that.classesElementLookup[ classes[ i ] ] || $();\n                            if ( options.add ) {\n                                // unique is deprecated in jQuery 3.0.0+ renamed to uniqueSort\n                                var jqueryVersion = +$().jquery.split('.')[0];\n                                if (jqueryVersion >= 3) {\n                                  current = $( $.uniqueSort( current.get().concat( options.element.get() ) ) );\n                                } else {\n                                  current = $( $.unique( current.get().concat( options.element.get() ) ) );\n                                }\n                            } else {\n                                current = $( current.not( options.element ).get() );\n                            }\n                            that.classesElementLookup[ classes[ i ] ] = current;\n                            full.push( classes[ i ] );\n                            if ( checkOption && options.classes[ classes[ i ] ] ) {\n                                full.push( options.classes[ classes[ i ] ] );\n                            }\n                        }\n                    };\n\n                    if ( options.keys ) {\n                        processClassString( options.keys.match( /\\S+/g ) || [], true );\n                    }\n                    if ( options.extra ) {\n                        processClassString( options.extra.match( /\\S+/g ) || [] );\n                    }\n\n                    return full.join( \" \" );\n                },\n\n                _removeClass: function widget__removeClass( element, keys, extra ) {\n                    return this._toggleClass( element, keys, extra, false );\n                },\n\n                _addClass: function widget__addClass( element, keys, extra ) {\n                    return this._toggleClass( element, keys, extra, true );\n                },\n\n                _toggleClass: function widget__toggleClass( element, keys, extra, add ) {\n                    add = ( typeof add === \"boolean\" ) ? add : extra;\n                    var shift = ( typeof element === \"string\" || element === null ),\n                        options = {\n                            extra: shift ? keys : extra,\n                            keys: shift ? element : keys,\n                            element: shift ? this.element : element,\n                            add: add\n                        };\n                    options.element.toggleClass( this._classes( options ), add );\n                    return this;\n                },\n\n                _on : function widget__on(suppressDisabledCheck, element, handlers) {\n                    var delegateElement,\n                        instance = this;\n\n                    // no suppressDisabledCheck flag, shuffle arguments\n                    if (typeof suppressDisabledCheck !== \"boolean\") {\n                        handlers = element;\n                        element = suppressDisabledCheck;\n                        //suppressDisabledCheck = false;\n                    }\n\n                    // no element argument, shuffle and use this.element\n                    if (!handlers) {\n                        handlers = element;\n                        element = this.element;\n                        delegateElement = this.widget();\n                    } else {\n                        // accept selectors, DOM elements\n                        element = delegateElement = $(element);\n                        this.bindings = this.bindings.add(element);\n                    }\n\n                    $.each(handlers, function widget_iterateHandler(event, handler) {\n                        var handlerProxy = function handlerProxy() {\n                            // allow widgets to customize the disabled handling\n                            // - disabled as an array instead of boolean\n                            // - disabled class as method for disabling individual parts\n                            return ( typeof handler === \"string\" ? instance[ handler ] : handler )\n                                .apply(instance, arguments);\n                        };\n\n                        // copy the guid so direct unbinding works\n                        if (typeof handler !== \"string\") {\n                            handlerProxy.guid = handler.guid =\n                                handler.guid || handlerProxy.guid || $.guid++;\n                        }\n\n                        var match = event.match(/^(\\w+)\\s*(.*)$/),\n                            eventName = match[1] + instance.eventNamespace,\n                            selector = match[2];\n                        // delegate is deprecated in jQuery 3.0.0+ in favor of on method\n                        var jqueryVersion = +$().jquery.split('.')[0];\n                        if (selector) {\n                            if (jqueryVersion >= 3) {\n                              delegateElement.on(eventName, selector, handlerProxy);\n                            } else {\n                              delegateElement.delegate(selector, eventName, handlerProxy);\n                            }\n                        } else {\n                          // bind is deprecated in jQuery 3.0.0+ in favor of on method\n                          if (jqueryVersion >= 3) {\n                            element.on(eventName, handlerProxy);\n                          } else {\n                            element.bind(eventName, handlerProxy);\n                          }\n                        }\n                    });\n                },\n\n                _off : function widget__off(element, eventName) {\n                    eventName = (eventName || \"\").split(\" \").join(this.eventNamespace + \" \") + this.eventNamespace;\n                    element.unbind(eventName).undelegate(eventName);\n                },\n\n                _delay : function widget__delay(handler, delay) {\n                    var handlerProxy = function handlerProxy() {\n                        return ( typeof handler === \"string\" ? instance[ handler ] : handler )\n                            .apply(instance, arguments);\n                    };\n\n                    var instance = this;\n                    return setTimeout(handlerProxy, delay || 0);\n                },\n\n                _trigger : function widget__trigger(type, event, data) {\n                    var prop, orig,\n                        callback = this.options[ type ];\n\n                    data = data || {};\n                    event = $.Event(event);\n                    event.type = this.options.eventPrefix ? this.options.eventPrefix + type : type;\n                    event.type = event.type.toLocaleLowerCase();\n                    // the original event may come from any element\n                    // so we need to reset the target on the new event\n                    event.target = this.element[ 0 ];\n\n                    // copy original event properties over to the new event\n                    orig = event.originalEvent;\n                    if (orig) {\n                        for (prop in orig) {// jshint ignore:line\n                            if (!( prop in event )) {\n                                //noinspection JSUnfilteredForInLoop\n                                event[ prop ] = orig[ prop ];\n                            }\n                        }\n                    }\n\n                    this.element.trigger(event, data);\n                    return !( $.isFunction(callback) &&\n                    callback.apply(this.element[0], [ event ].concat(data)) === false ||\n                    event.isDefaultPrevented() );\n                }\n            };\n\n        })(jQuery);\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/widget.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/*global define*/\n/*global define*/\ndefine([\n    'underscore',\n    'backbone'\n], function define_router(_, Backbone)\n{\n    'use strict';\n\n    return Backbone.Router.extend({\n        initialize: function router_initialize(options)\n        {\n            var currentRouter = this;\n            this.useHistory = options.useHistory;\n\n            this.document = options.document;\n\n            this.route(/api\\/v1\\/documents\\/([^\\/]+)\\.html/, \"viewDocument\");\n            this.route(/api\\/v1\\/documents\\/(.+)\\/revisions\\/([^\\/]+)\\.html/, \"viewRevision\");\n            this.route(/api\\/v1\\/documents\\/(.+)\\/views\\/([^\\/]+)\\.html/, \"viewView\");\n            this.route(/api\\/v1\\/documents\\/(.+)\\/revisions\\/([^\\/]+)\\/views\\/([^\\/]+)\\.html/, \"viewRevisionView\");\n\n            this.route(/[^?]*\\?app=DOCUMENT([^#]+)/, \"fetch\");\n\n            // Listen to document sync and update url\n            this.document.listenTo(this.document, \"sync\", function sync()\n            {\n                var searchArguments;\n\n                var viewId = currentRouter.document.get(\"viewId\"),\n                    options = {\n                        \"path\": window.location.pathname,\n                        \"initid\": currentRouter.document.get(\"initid\"),\n                        \"revision\": currentRouter.document.get(\"revision\") >= 0 ? currentRouter.document.get(\"revision\") : undefined,\n                        \"viewId\": undefined\n                    };\n                var docProperties = currentRouter.document.getServerProperties();\n\n                if (!options.initid) {\n\n                    if (docProperties.renderMode === \"edit\") {\n                        options.initid = docProperties.family.name;\n                    }\n                }\n                options.viewId = viewId;\n                if (docProperties && docProperties.status === \"alive\") {\n                    // No write revision if not a fixed one\n                    options.revision = -1;\n                }\n\n                searchArguments = currentRouter.getUrlParameters(window.location.search);\n                if (searchArguments.app) {\n                    // old school url\n                    currentRouter.rewriteAppUrl(searchArguments, options);\n                } else {\n                    // api url\n                    currentRouter.rewriteApiUrl(options);\n                }\n            });\n\n        },\n\n        /**\n         * Rewrite access document render HTML page from url like ?app=DOCUMENT&initid=1456&revision=45\n         * @param searchArguments\n         * @param options\n         */\n        rewriteAppUrl: function router_rewriteAppUrl(searchArguments, options)\n        {\n            var searchPart, urlSecondPart = '', newUrl;\n            if (searchArguments.app) {\n                if (options.initid) {\n                    // Extract all GET parameters and rewrite if needed\n                    _.each(searchArguments, function routerGetUrl(getParameter, getKey)\n                    {\n                        if ([\"id\", \"initid\", \"app\", \"viewId\", \"revision\"].indexOf(getKey) >= 0) {\n                            searchArguments[getKey] = null;\n                        }\n                    });\n\n                    searchPart = _.compact(_.map(searchArguments, function router_composeSearchLocation(GETValue, GETKey)\n                    {\n                        if (GETValue === null) {\n                            return null;\n                        }\n                        return GETKey + \"=\" + encodeURIComponent(GETValue);\n\n                    }));\n\n                    if (options.viewId !== '!defaultConsultation') {\n                        urlSecondPart = \"/views/\" + encodeURIComponent(options.viewId);\n                        if (options.revision >= 0) {\n                            urlSecondPart += \"/revisions/\" + encodeURIComponent(options.revision);\n                        }\n                    } else {\n                        if (options.revision >= 0) {\n                            urlSecondPart = \"/revisions/\" + encodeURIComponent(options.revision);\n                        }\n                    }\n                    newUrl = window.location.pathname + 'api/v1/documents/' + options.initid + urlSecondPart + \".html\";\n                    if (searchPart.length > 0) {\n                        newUrl += '?' + searchPart.join('&');\n                    }\n                    newUrl += window.location.hash;\n                    this.navigate(newUrl, {replace: !this.useHistory});\n                }\n\n            }\n        },\n\n        /**\n         * Rewrite URL if mismatches detected between server information and url access\n         * @param options\n         */\n        rewriteApiUrl: function router_rewriteApiUrl(options)\n        {\n            var parsePath = false, parseHash = false, beginPath = '', urlSecondPart = '', locationSearch = window.location.search, locationHash = window.location.hash;\n            var noRecordHistory;\n            if (options.initid) {\n                parsePath = window.location.pathname.match('(.*)api\\\\/v1\\\\/documents\\\\/(.*)');\n                if (parsePath) {\n                    beginPath = parsePath[1];\n\n                    if (options.viewId !== '!defaultConsultation') {\n                        urlSecondPart = \"/views/\" + encodeURIComponent(options.viewId);\n                        if (options.revision >= 0) {\n                            urlSecondPart += \"/revisions/\" + encodeURIComponent(options.revision);\n                        }\n                    } else {\n                        if (options.revision >= 0) {\n                            urlSecondPart = \"/revisions/\" + encodeURIComponent(options.revision);\n                        }\n                    }\n\n                    noRecordHistory = /documents\\/0\\.html$/.test(options.path);\n\n                    parseHash = /#widgetValue{(.*)}/.exec(locationHash);\n                    if (parseHash) {\n                        try {\n                            var hashData = JSON.parse('{' + parseHash[1] + '}');\n\n                            delete hashData.viewId;\n                            delete hashData.initid;\n                            delete hashData.revision;\n\n                            if (hashData.customClientData) {\n                                locationSearch += locationSearch ? '&' : '?';\n                                locationSearch += \"customClientData=\";\n                                locationSearch += encodeURIComponent(JSON.stringify(hashData.customClientData));\n                                delete hashData.customClientData;\n                            }\n                            if (noRecordHistory) {\n                                locationHash='';\n                            } else {\n                                locationHash = '#widgetValue' + JSON.stringify(hashData);\n                            }\n                        } catch (e) {\n\n                        }\n                    }\n\n                    if (!this.useHistory) {\n                        noRecordHistory = true;\n                    }\n\n                    this.navigate(beginPath +\n                        'api/v1/documents/' +\n                        options.initid +\n                        urlSecondPart + '.html' +\n                        locationSearch + locationHash,\n                        {replace: noRecordHistory}\n                    );\n                }\n            }\n        },\n        viewDocument: function router_viewDocument(initid)\n        {\n            this.document.fetchDocument({initid: initid});\n        },\n        viewRevision: function router_viewRevision(initid, revision)\n        {\n            this.document.fetchDocument({\n                initid: initid,\n                revision: revision\n            });\n        },\n\n        viewView: function router_viewView(initid, viewId)\n        {\n            this.document.fetchDocument({\n                initid: initid,\n                viewId: viewId\n            });\n        },\n\n        viewRevisionView: function router_viewRevisionView(initid, revision, viewId)\n        {\n            this.document.fetchDocument({\n                initid: initid,\n                revision: revision,\n                viewId: viewId\n            });\n        },\n        fetch: function router_fetch(searchPart)\n        {\n            var searchObject, newValues = {};\n            searchObject = this.getUrlParameters(searchPart);\n\n            if (!_.isUndefined(searchObject.id)) {\n                newValues.initid = searchObject.id;\n            }\n            if (!_.isUndefined(searchObject.initid)) {\n                newValues.initid = searchObject.initid;\n            }\n            if (!_.isUndefined(searchObject.revision)) {\n                newValues.revision = parseInt(searchObject.revision, 10);\n            } else {\n                newValues.revision = -1;\n            }\n            if (!_.isUndefined(searchObject.viewId)) {\n                newValues.viewId = searchObject.viewId;\n            } else {\n                newValues.viewId = undefined;\n            }\n            this.document.fetchDocument(newValues);\n        },\n\n        /**\n         * extract url parameters and return an simple object indexed by parameters keys\n         * @param searchPart\n         * @returns {{}}\n         */\n        getUrlParameters: function router_getUrlParameters(searchPart)\n        {\n            var extract,\n                getParameters = searchPart.substr(1).split('&'),\n                result = {};\n\n            for (var i = 0; i < getParameters.length; i++) {\n                extract = getParameters[i].match(/^([^=]+)=(.*)$/);\n                if (extract) {\n                    result[extract[1]] = decodeURIComponent(extract[2]);\n                } else {\n                    result[getParameters[i]] = \"\";\n                }\n            }\n            return result;\n        }\n\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/routers/router.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone',\n    'dcpDocument/models/mAttributeData',\n    'dcpDocument/models/mAttributeStructural',\n    'dcpDocument/models/mAttributeArray'\n], function (_, Backbone, ModelAttributeData, ModelAttributeStructural, ModelAttributeArray) {\n    'use strict';\n\n    return Backbone.Collection.extend({\n        comparator : \"logicalOrder\",\n\n        model :      function CollectionAttributesSelectModel(attributes, options) {\n            if (attributes.type === \"array\") {\n                return new ModelAttributeArray(attributes, options);\n            }\n            if (attributes.type === \"tab\" || attributes.type === \"frame\") {\n                return new ModelAttributeStructural(attributes, options);\n            }\n            return new ModelAttributeData(attributes, options);\n        },\n\n        initialize : function CollectionAttributes_initialize(values, options) {\n            this.documentModel = options.documentModel;\n            this.renderOptions = options.renderOptions;\n            this.renderMode = options.renderMode;\n        },\n\n        destroy : function CollectionAttributes_destroy() {\n            var model;\n            while (model = this.first()) { // jshint ignore:line\n                model.destroy();\n            }\n            delete this.documentModel;\n            delete this.renderOptions;\n            delete this.renderMode;\n        }\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/collections/attributes.js","(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'dcpDocument/widgets/attributes/double/wDouble'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery);\n    }\n}(window,  function require_money($) {\n    'use strict';\n\n    $.widget(\"dcp.dcpMoney\", $.dcp.dcpDouble, {\n\n        options: {\n            type: \"money\",\n            renderOptions: {\n                currency: '€',\n                numberFormat: '#,#.00'\n            }\n        },\n\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoNumeric\n         * @returns {*}\n         */\n        getKendoNumericOptions: function wMoneyGetKendoNumericOptions() {\n            var options = this._super(); // get from wDouble\n            if (this.options.renderOptions.currency) {\n                // view decimal precision\n                switch (this.options.locale.substr(0, 2)) {\n                    case 'en':\n                    case 'ga': // Ireland Irish\n                        // currency before\n                        options.format = this.options.renderOptions.currency.replace('$', '\\\\$') + options.format;\n                        break;\n                    default :\n                        options.format += ' ' + this.options.renderOptions.currency.replace('$', '\\\\$');\n                }\n            }\n\n            return options;\n        },\n\n        getType: function wMoneyGetType() {\n            return \"money\";\n        }\n\n    });\n\n    return $.fn.dcpMoney;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/money/wMoney.js","/*global define, console*/\ndefine([\n    'jquery',\n    'underscore',\n    'backbone',\n    'mustache',\n    'dcpDocument/views/document/attributeTemplate',\n    'dcpDocument/widgets/attributes/label/wLabel',\n    'dcpDocument/widgets/attributes/text/wText',\n    'dcpDocument/widgets/attributes/int/wInt',\n    'dcpDocument/widgets/attributes/longtext/wLongtext',\n    'dcpDocument/widgets/attributes/htmltext/wHtmltext',\n    'dcpDocument/widgets/attributes/timestamp/wTimestamp',\n    'dcpDocument/widgets/attributes/time/wTime',\n    'dcpDocument/widgets/attributes/image/wImage',\n    'dcpDocument/widgets/attributes/money/wMoney',\n    'dcpDocument/widgets/attributes/enum/wEnum',\n    'dcpDocument/widgets/attributes/color/wColor',\n    'dcpDocument/widgets/attributes/password/wPassword',\n    'dcpDocument/widgets/attributes/file/wFile',\n    'dcpDocument/widgets/attributes/double/wDouble',\n    'dcpDocument/widgets/attributes/docid/wDocid'\n], function vAttribute($, _, Backbone, Mustache, attributeTemplate)\n{\n    'use strict';\n\n    return Backbone.View.extend({\n\n        className: \"row dcpAttribute form-group\",\n        customView: false,\n        displayLabel: true,\n        //Don't use standard event to launch the event only when there is no template\n        //********************************************************************************************\n        // If you add an event here, you probably want to add it in vColumn.js and test it in an array\n        //********************************************************************************************\n        attributeEvents: {\n            \"dcpattributechange .dcpAttribute__content,[data-dcpattribute_content]\": \"updateValue\",\n            \"dcpattributedelete .dcpAttribute__content\": \"deleteValue\",\n            \"dcpattributechangeattrmenuvisibility .dcpAttribute__content\": \"changeMenuVisibility\",\n            \"dcpattributechangeattrsvalue .dcpAttribute__content\": \"changeAttributesValue\",\n            \"dcpattributefetchdocument .dcpAttribute__content\": \"loadDocument\",\n            \"dcpattributeexternallinkselected .dcpAttribute__content\": \"externalLinkSelected\",\n            \"dcplabelexternallinkselected\": \"externalLinkSelected\",\n            \"dcpattributedownloadfile  .dcpAttribute__content\": \"downloadFileSelect\",\n            \"dcpattributeuploadfile  .dcpAttribute__content\": \"uploadFileSelect\",\n            \"dcpattributeuploadfiledone  .dcpAttribute__content\": \"uploadFileDone\",\n            \"dcpattributeanchorclick .dcpAttribute__content\": \"anchorClick\",\n            \"dcpattributewidgetready .dcpAttribute__content\": \"setWidgetReady\"\n        },\n\n        initialize: function vAttributeInitialize(options)\n        {\n            var events;\n            this.listenTo(this.model, 'change:label', this.refreshLabel);\n            this.listenTo(this.model, 'change:attributeValue', this.refreshValue);\n            this.listenTo(this.model, 'change:errorMessage', this.refreshError);\n            this.listenTo(this.model, 'moved', this.moveValueIndex);\n            this.listenTo(this.model, 'destroy', this.remove);\n            this.listenTo(this.model, 'showTab', this.afterShow);\n            this.listenTo(this.model, 'hide', this.hide);\n            this.listenTo(this.model, 'show', this.show);\n            this.listenTo(this.model, 'haveView', this._identifyView);\n            this.listenTo(this.model, 'closeWidget', this._closeWidget);\n            this.templateWrapper = this.model.getTemplates().attribute.simpleWrapper;\n\n            options = options || {};\n\n            //Guess if the view is a template (originalView = false in this case)\n            options.originalView = options.originalView !== false;\n\n            if (options.displayLabel === false || this.model.getOption(\"labelPosition\") === \"none\") {\n                this.displayLabel = false;\n            }\n\n            //Attribute without template so we bind event\n            if (options.originalView === true) {\n                events = this.attributeEvents;\n                //For vColumn events\n                if (_.isFunction(events)) {\n                    events = events.apply(this);\n                }\n                this.delegateEvents(events);\n            }\n            this.options = options;\n        },\n\n        /**\n         * The Data are the source of data shared with widget and templates\n         *\n         * @param index\n         * @returns {*}\n         */\n        getData: function vAttributeGetData(index)\n        {\n            var data;\n\n            //Made to JSON for all the values, or to data for value indexed (in cas of multiple)\n            data = this.model.toData(index, true);\n            data.viewCid = this.cid + '-' + this.model.id;\n            data.labels.deleteAttributeNames = this.getDeleteLabels();\n            // autoComplete detected\n            data.autocompleteRequest = _.bind(this.autocompleteRequestRead, this);\n\n            return data;\n        },\n\n        render: function vAttributeRender()\n        {\n            var currentView = this;\n            var renderPromise = new Promise(_.bind(function vAttributeRender_Promise(resolve, reject) {\n                var data,\n                    event = {prevent: false},\n                    customRender;\n\n                currentView.model.trigger(\"beforeRender\", event, {model: currentView.model, $el: currentView.$el});\n                if (event.prevent) {\n                    resolve();\n                    return currentView;\n                }\n\n                //We fetch data after beforeRender, if some data is modified by beforeRender we get it\n                data = currentView.getData();\n\n                currentView.$el.addClass(\"dcpAttribute--type--\" + currentView.model.get(\"type\"));\n                currentView.$el.addClass(\"dcpAttribute--visibility--\" + currentView.model.get(\"visibility\"));\n                currentView.$el.attr(\"data-attrid\", currentView.model.get(\"id\"));\n                if (currentView.model.get(\"needed\")) {\n                    currentView.$el.addClass(\"dcpAttribute--needed\");\n                }\n\n                currentView.$el.append($(Mustache.render(currentView.templateWrapper || \"\", data)));\n\n                attributeTemplate.insertDescription(currentView);\n\n                //analyze the display label and add display class\n                if (currentView.displayLabel === false) {\n                    currentView.$el.find(\".dcpAttribute__label\").remove();\n                    // set to 100% width\n                    currentView.$el.find(\".dcpAttribute__right\").addClass(\"dcpAttribute__right--full\");\n                } else {\n                    if (currentView.model.getOption(\"labelPosition\") === \"left\") {\n                        currentView.$el.addClass(\"dcpAttribute__labelPosition--left\");\n                        currentView.$el.find(\".dcpAttribute__right\").not(\".dcpAttribute__description\").addClass(\"dcpAttribute__labelPosition--left\");\n                        currentView.$el.find(\".dcpAttribute__left\").not(\".dcpAttribute__description\").addClass(\"dcpAttribute__labelPosition--left\");\n                    }\n                    if (currentView.model.getOption(\"labelPosition\") === \"up\") {\n                        currentView.$el.addClass(\"dcpAttribute__labelPosition--up\");\n                        currentView.$el.find(\".dcpAttribute__right\").not(\".dcpAttribute__description\").addClass(\"dcpAttribute__labelPosition--up\");\n                        currentView.$el.find(\".dcpAttribute__left\").not(\".dcpAttribute__description\").addClass(\"dcpAttribute__labelPosition--up\");\n                    }\n                    if (currentView.model.getOption(\"labelPosition\") === \"auto\") {\n                        currentView.$el.addClass(\"dcpAttribute__labelPosition--auto\");\n                        currentView.$el.find(\".dcpAttribute__right\").addClass(\"dcpAttribute__labelPosition--auto\");\n                        currentView.$el.find(\".dcpAttribute__left\").addClass(\"dcpAttribute__labelPosition--auto\");\n                    }\n                    currentView.$el.find(\".dcpAttribute__label\").dcpLabel(data);\n                }\n\n                //If there is a template render it\n                if (currentView.options.originalView !== true && currentView.model.getOption(\"template\")) {\n                    customRender = attributeTemplate.renderCustomView(currentView.model);\n                    currentView.customView = customRender.$el;\n                    currentView.$el.find(\".dcpAttribute__content\").append(currentView.customView);\n                    customRender.promise.then(resolve);\n                    customRender.promise[\"catch\"](reject);\n                } else {\n                    //there is not template render (default)\n                    currentView.$el.one(\"dcpattributewidgetready .dcpAttribute__content\", function vattributeRender_widgetready() {\n                        resolve();\n                    });\n                    currentView.currentDcpWidget = currentView.widgetInit(currentView.$el.find(\".dcpAttribute__content\"), data);\n                }\n\n                currentView.renderDone = true;\n                if (currentView.customView) {\n                    currentView.widgetReady = true;\n                }\n\n                currentView.triggerRenderDone();\n                return currentView;\n            }, this));\n            return renderPromise;\n        },\n\n        refreshLabel: function vAttributeRefreshLabel()\n        {\n            var label = this.model.get(\"label\"), labelDom = this.getDOMElements().find(\".dcpAttribute__label\");\n            if (this.model.getOption(\"attributeLabel\")) {\n                label = this.model.getOption(\"attributeLabel\");\n            }\n            if (labelDom.data(\"dcpDcpLabel\")) {\n                this.getDOMElements().find(\".dcpAttribute__label\").dcpLabel(\"setLabel\", label);\n            }\n        },\n\n        /**\n         * Autorefresh value when model change\n         */\n        refreshValue: function vAttributeRefreshValue(model, values, options)\n        {\n            var scope = this, allWrapper, arrayWrapper;\n            if (options.notUpdateArray) {\n                return this;\n            }\n\n            allWrapper = this.getDOMElements();\n\n            if (this.model.isInArray()) {\n                // adjust line number to column length\n                arrayWrapper = this.$el;\n                arrayWrapper.dcpArray(\"setLines\", values.length, options).then(_.bind(function setValue() {\n                    values = _.toArray(values);\n                    _.each(values, function analyzeValues(currentValue, index)\n                    {\n                        if (_.isUndefined(currentValue)) {\n                            return;\n                        }\n                        var cssIndex = '.dcpAttribute__content--widget[data-attrid=\"' + model.id + '\"]';\n                        $(allWrapper[index]).find(cssIndex).addBack(cssIndex).each(\n                            function vAttributeRefreshOneValue(index, element)\n                            {\n                                scope.widgetApply($(element), \"setValue\", currentValue);\n                            });\n                    });\n                }, this));\n            } else {\n                this.widgetApply(allWrapper.find('.dcpAttribute__content--widget[data-attrid=\"' + model.id + '\"]'), \"setValue\", values);\n            }\n        },\n\n        /**\n         * Display error message around the widget if needed\n         * @param event\n         */\n        refreshError: function vAttributeRefreshError(event)\n        {\n            this.$el.find(\".dcpAttribute__label\").dcpLabel(\"setError\", this.model.get(\"errorMessage\"));\n            // andSelf method was removed from jQuery 3.0.0+ use addBack instead\n            var jqueryVersion = +$().jquery.split('.')[0];\n            if (jqueryVersion >= 3) {\n              this.widgetApply(this.getDOMElements().find(\".dcpAttribute__content--widget\").addBack().filter(\".dcpAttribute__content--widget\"),\n                \"setError\", this.model.get(\"errorMessage\"));\n            } else {\n              this.widgetApply(this.getDOMElements().find(\".dcpAttribute__content--widget\").andSelf().filter(\".dcpAttribute__content--widget\"),\n                \"setError\", this.model.get(\"errorMessage\"));\n            }\n        },\n\n        /**\n         * Modify several attribute\n         * @param event event object\n         * @param index the value rank in case of multiple\n         * @param options object {dataItem :, valueIndex :}\n         */\n        changeAttributesValue: function vAttributeChangeAttributesValue(event, options, index)\n        {\n            var externalEvent = {prevent: false},\n                currentView = this,\n                dataItem = options.dataItem,\n                valueIndex = options.valueIndex,\n                currentValue;\n            this.model.trigger(\"helperSelect\", externalEvent, this.model.id, dataItem, index);\n            if (externalEvent.prevent) {\n                return this;\n            }\n            _.each(dataItem.values, function vAttributeChangeAttributeValue(attributeValue, attributeId)\n            {\n                if (typeof attributeValue === \"object\") {\n                    if (attributeValue.value === null) {\n                        //Value not completed by helper so don't use it\n                        return;\n                    }\n\n                    var attrModel = currentView.model.getDocumentModel().get('attributes').get(attributeId);\n                    if (attrModel) {\n                        if (attrModel.hasMultipleOption()) {\n                            currentValue = attrModel.getValue();\n                            if (valueIndex >= 0) {\n                                currentValue = currentValue[valueIndex];\n                            }\n                            // No add same value twice\n                            if (!_.some(currentValue, function vAttributeNoDouble(itemValue)\n                                {\n                                    return itemValue.value === attributeValue.value;\n                                })) {\n                                attrModel.addValue({\n                                    value: attributeValue.value,\n                                    displayValue: attributeValue.displayValue\n                                }, valueIndex);\n                            }\n                        } else {\n                            attrModel.setValue({\n                                value: attributeValue.value,\n                                displayValue: attributeValue.displayValue\n                            }, valueIndex);\n                        }\n                    }\n                    else {\n                        console.error(\"Unable to find \" + attributeId);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Modify view : triggered by wDocid\n         * @param event\n         * @param options\n         * @returns {*}\n         */\n        loadDocument: function changeAttributesValueLoadDocument(event, options)\n        {\n            var index = options.index, initid = null, attributeValue = this.model.get(\"attributeValue\"),\n                documentModel = this.model.getDocumentModel(), revision = -1;\n            if (_.isUndefined(index)) {\n                initid = attributeValue.value;\n                revision = attributeValue.revision;\n            } else {\n                initid = attributeValue[index].value;\n                revision = attributeValue[index].revision;\n            }\n\n            this.model.trigger(\"internalLinkSelected\", event, {\n                eventId: \"document.load\",\n                target: event.target,\n                attrid: this.model.id,\n                options: [initid, \"!defaultConsultation\"],\n                index: options.index\n            });\n\n            if (event.prevent) {\n                return this;\n            }\n\n            documentModel.trigger(\"loadDocument\",\n                {\n                    initid: initid,\n                    viewId: \"!defaultConsultation\",\n                    revision: revision\n                }\n            );\n        },\n\n        /**\n         * Create dialog window to create and insert document\n         */\n        displayFormDocument: function vAttributedisplayFormDocument(event, buttonConfig, index)\n        {\n            var attrid = this.model.id;\n            if (buttonConfig.createLabel) {\n                var documentModel = this.model.getDocumentModel();\n\n                require.ensure(['dcpDocument/widgets/attributes/docid/wCreateDocument'], function vDocumentCreateDocument()\n                {\n                    require('dcpDocument/widgets/attributes/docid/wCreateDocument');\n                    var $bdw = $('<div class=\"dcpDocid-create-window\"/>');\n                    var $dcp = $bdw.dcpCreateDocument(\n                        _.extend(buttonConfig, {\n                            originDocumentModel: documentModel,\n                            attributeId: attrid,\n                            index: index,\n                            listener: function vDocumentCreateListener(event, triggerId, options)\n                            {\n                                options.dialogDocument = this;\n                                options.triggerId = triggerId;\n                                documentModel.trigger(\"createDialogListener\", event, attrid, options);\n                            }\n                        })).data(\"dcpCreateDocument\");\n                    $dcp.open();\n                }, \"wCreateDocument\");\n            }\n        },\n\n        externalLinkSelected: function vAttributeExternalLinkSelected(event, options)\n        {\n            var documentModel = this.model.getDocumentModel();\n            options.attrid = this.model.id;\n            this.model.trigger(\"internalLinkSelected\", event, options);\n            if (event.prevent) {\n                return this;\n            }\n            if (options.eventId === \"attribute.createDocumentRelation\") {\n                this.displayFormDocument(event, options.buttonConfig, options.index);\n            } else {\n                documentModel.trigger(\"actionAttributeLink\", event, options);\n            }\n        },\n        downloadFileSelect: function vAttributedownloadFileSelect(widgetEvent, options)\n        {\n            var event = {prevent: false};\n\n            this.model.trigger(\"downloadFile\", event, this.model.id, options);\n            if (event.prevent) {\n                widgetEvent.preventDefault();\n            }\n        },\n        uploadFileSelect: function vAttributeuploadFileSelect(widgetEvent, options)\n        {\n            var event = {prevent: false};\n\n            this.model.trigger(\"uploadFile\", event, this.model.id, options);\n            if (event.prevent) {\n                widgetEvent.preventDefault();\n            }\n        },\n        uploadFileDone: function vAttributeuploadFileSEnd(widgetEvent, options)\n        {\n            var event = {prevent: false};\n\n            this.model.trigger(\"uploadFileDone\", event, this.model.id, options);\n        },\n\n        anchorClick: function vAttributeAnchorClick(widgetEvent, options)\n        {\n            var internalEvent = {prevent: false};\n\n            this.model.trigger(\"anchorClick\", internalEvent, this.model.id, options);\n            if (internalEvent.prevent) {\n                widgetEvent.preventDefault();\n            }\n        },\n\n        /**\n         * Delete value,\n         * If has help, clear also target attributes\n         * @param event\n         * @param data index info {index:\"the index}\n         */\n        deleteValue: function changeAttributesValueDeleteValue(event, data)\n        {\n\n            if (data.id === this.model.id) {\n                var attrToClear = this.model.get('helpOutputs'),\n                    docModel = this.model.getDocumentModel();\n                if ((!attrToClear) || typeof attrToClear === \"undefined\") {\n                    attrToClear = [this.model.id];\n                } else {\n                    attrToClear = _.toArray(attrToClear);\n                }\n                _.each(attrToClear, function vAttributeCleanAssociatedElement(aid)\n                {\n                    var attr = docModel.get('attributes').get(aid);\n                    if (attr) {\n                        if (attr.hasMultipleOption()) {\n                            attr.setValue([], data.index);\n                        } else {\n                            attr.setValue({value: null, displayValue: ''}, data.index);\n                        }\n                    }\n                });\n            }\n        },\n\n        /**\n         * Return another attribute model\n         *\n         * @param attributeId\n         * @returns {*}\n         */\n        getAttributeModel: function vAttributeGetAttributeModel(attributeId)\n        {\n            var docModel = this.model.getDocumentModel();\n            return docModel.get('attributes').get(attributeId);\n        },\n\n        /**\n         * Used for render attribute\n         *\n         * @returns {Array}\n         */\n        getDeleteLabels: function vAttributeGetDeleteLabels()\n        {\n            var attrToClear = this.model.get('helpOutputs'),\n                scope = this, attrLabels;\n            if ((!attrToClear) || typeof attrToClear === \"undefined\") {\n                attrToClear = [this.model.id];\n            } else {\n                attrToClear = _.toArray(attrToClear);\n            }\n            attrLabels = _.map(attrToClear, function vAttributeGetAssociatedLabel(aid)\n            {\n                var attr = scope.getAttributeModel(aid);\n                if (attr) {\n                    return attr.attributes.label;\n                }\n                return '';\n            });\n            return attrLabels;\n        },\n\n        /**\n         * Propagate move value event to widgets\n         * @param eventData\n         */\n        moveValueIndex: function vAttributeMoveValueIndex(eventData)\n        {\n            this.getDOMElements().trigger(\"postMoved\", eventData);\n        },\n\n        /**\n         * method use for transport multiselect widget\n         * @param index the row index of autocomplete when it is in array\n         * @param options\n         */\n        autocompleteRequestRead: function vAttributeAutocompleteRequestRead(options, index)\n        {\n            var currentView = this,\n                documentModel = this.model.getDocumentModel(),\n                success = options.success,\n                externalOptions = {\n                    setResult: function vAttributeAutoCompleteSet(content)\n                    {\n                        _.each(content, function (item)\n                        {\n                            if (item.message) {\n                                item.message.contentText = item.message.contentText || '';\n                                item.message.contentHtml = item.message.contentHtml || '';\n                                item.message.type = item.message.type || 'message';\n                            } else\n                                if (item.error) {\n                                    item.message = {\n                                        contentHtml: '',\n                                        contentText: item.error,\n                                        type: \"error\"\n                                    }\n                                }\n                            item.title = item.title || '';\n\n                        });\n                        success(content);\n                    },\n                    data: options.data\n                },\n                autocompleteUrl,\n                event = {prevent: false};\n            //Add helperResonse event (can be used to reprocess the content of the request)\n            success = _.wrap(success, function vAttributeAutoCompleteSuccess(success, content)\n            {\n                var options = {}, event = {prevent: false};\n                options.data = content;\n                currentView.model.trigger(\"helperResponse\", event, currentView.model.id, options, index);\n                if (event.prevent) {\n                    return success([]);\n                }\n                success(content);\n            });\n\n            //Add helperSearch event (can prevent default ajax request)\n            options.data.attributes = documentModel.getValues();\n            this.model.trigger(\"helperSearch\", event, this.model.id, externalOptions, index);\n            if (event.prevent) {\n                return this;\n            }\n            autocompleteUrl = \"api/v1/documents/\" + (documentModel.id || \"0\" ) + \"/autocomplete/\" + this.model.id;\n\n\n            options.data.fromid = documentModel.get(\"properties\").get(\"family\").id;\n\n            $.ajax({\n                type: \"POST\",\n                url: autocompleteUrl,\n                data: options.data,\n\n                dataType: \"json\" // \"jsonp\" is required for cross-domain requests; use \"json\" for same-domain requestsons.error(result);\n            }).pipe(\n                function vAttributeAutocompletehandleSuccessRequest(response)\n                {\n                    if (response.success) {\n                        return response;\n                    } else {\n                        return ($.Deferred().reject(response));\n                    }\n                },\n                function vAttributeAutocompletehandleErrorRequest(response)\n                {\n                    if (response.status === 0) {\n                        return {\n                            success: false,\n                            error: \"Your navigator seems offline, try later\"\n                        };\n                    }\n                    return ({\n                        success: false,\n                        error: \"Unexpected error: \" + response.status + \" \" + response.statusText\n                    });\n                }\n            ).then(function vAttributeAutocompleteSuccessResult(result)\n                {\n                    // notify the data source that the request succeeded\n                    _.each(result.messages, function (message)\n                    {\n                        message.contentText = message.contentText || '';\n                        message.contentHtml = message.contentHtml || '';\n                        result.data.unshift({\n                            message: message,\n                            title: ''\n                        });\n                    });\n                    success(result.data);\n                }, function vAttributeAutocompleteErrorResult(result)\n                {\n                    // notify the data source that the request failed\n                    if (_.isArray(result.error)) {\n                        result.error = result.error.join(\" \");\n                    }\n                    //use the success callback because http error are handling by the pipe\n                    success([{\"title\": \"\", \"error\": result.error}]);\n                }\n            );\n        },\n\n        /**\n         * Modify visibility access of an item menu\n         * @param event event object\n         * @param data menu config {id: menuId, visibility: \"disabled\", \"visible\", \"hidden\"}\n         */\n        changeMenuVisibility: function vAttributeChangeMenuVisibility(event, data)\n        {\n            this.model.trigger(\"changeMenuVisibility\", event, data);\n        },\n\n        getDOMElements: function vAttributeGetDOMElements()\n        {\n            if (this.options && this.options.els) {\n                return this.options.els();\n            } else {\n                return this.$el;\n            }\n        },\n\n        afterShow: function vAttributeAfterShow(/*event, data*/)\n        {\n            // propagate event to widgets\n            this.getDOMElements().trigger(\"show\");\n        },\n        /**\n         *\n         * @param event\n         * @param data\n         */\n        updateValue: function vAttributeUpdateValue(event, data)\n        {\n            this.model.setValue(data.value, data.index);\n        },\n\n        widgetInit: function vAttributeWidgetInit($element, data)\n        {\n            $element.addClass(\"dcpAttribute__content--widget\");\n            return this.getWidgetClass($element).call($element, data);\n        },\n\n        widgetApply: function vAttributeWidgetApply($element, method, argument)\n        {\n            try {\n                if (_.isString(method) && $element && this.getWidgetClass($element)) {\n                    this.getWidgetClass($element).call($element, method, argument);\n                }\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n            return this;\n        },\n\n        getWidgetClass: function vAttributeGetWidgetClass($element)\n        {\n            $element = $element || this.$el;\n            if (!$element.data(\"currentWidgetClass\")) {\n                $element.data(\"currentWidgetClass\", this.getTypedWidgetClass(this.model.get(\"type\")));\n            }\n            return $element.data(\"currentWidgetClass\");\n        },\n\n        getTypedWidgetClass: function vAttributeGetTypedWidgetClass(type)\n        {\n            switch (type) {\n                case \"text\" :\n                    return $.fn.dcpText;\n                case \"int\" :\n                    return $.fn.dcpInt;\n                case \"double\" :\n                    return $.fn.dcpDouble;\n                case \"money\" :\n                    return $.fn.dcpMoney;\n                case \"longtext\" :\n                    return $.fn.dcpLongtext;\n                case \"htmltext\" :\n                    return $.fn.dcpHtmltext;\n                case \"date\" :\n                    return $.fn.dcpDate;\n                case \"timestamp\" :\n                    return $.fn.dcpTimestamp;\n                case \"time\" :\n                    return $.fn.dcpTime;\n                case \"image\" :\n                    return $.fn.dcpImage;\n                case \"color\" :\n                    return $.fn.dcpColor;\n                case \"file\" :\n                    return $.fn.dcpFile;\n                case \"enum\" :\n                    return $.fn.dcpEnum;\n                case \"password\" :\n                    return $.fn.dcpPassword;\n                case \"thesaurus\" :\n                case \"account\" :\n                case \"docid\" :\n                    return $.fn.dcpDocid;\n                default:\n                    return $.fn.dcpText;\n            }\n        },\n\n        setWidgetReady: function Vattribute_setWidgetReady()\n        {\n            this.widgetReady = true;\n            this.triggerRenderDone();\n        },\n\n        triggerRenderDone: function vAttribute_triggerRenderDone()\n        {\n            if (this.noRenderEvent !== false && this.renderDone && this.widgetReady && !this.triggerRender) {\n                this.model.trigger(\"renderDone\", {model: this.model, $el: this.$el});\n                this.triggerRender = true;\n            }\n        },\n\n        remove: function vAttributeRemove()\n        {\n            try {\n                if (this.currentDcpWidget && this.getWidgetClass(this.currentDcpWidget) && this._findWidgetName(this.$el)) {\n                    this.getWidgetClass(this.currentDcpWidget).call(this.$el, \"destroy\");\n                }\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n            return Backbone.View.prototype.remove.call(this);\n        },\n\n        hide: function vAttributeHide()\n        {\n            this.$el.hide();\n        },\n\n        show: function vAttributeShow()\n        {\n            this.$el.show();\n        },\n\n        _closeWidget: function vAttribute__closeWidget()\n        {\n            try {\n                if (this.currentDcpWidget && this.getWidgetClass(this.currentDcpWidget) && this._findWidgetName(this.currentDcpWidget)) {\n                    this.getWidgetClass(this.currentDcpWidget).call(this.currentDcpWidget, \"close\");\n                }\n            } catch (e) {\n                if (window.dcp.logger) {\n                    window.dcp.logger(e);\n                } else {\n                    console.error(e);\n                }\n            }\n        },\n\n        _findWidgetName: function vAttribute_findWidgetName($element)\n        {\n            return _.find(_.keys($element.data()), function vAttribute_findWidgetNameFind(currentKey)\n            {\n                return currentKey.indexOf(\"dcpDcp\") !== -1;\n            });\n        },\n\n        _identifyView: function vAttribute_identifyView(event)\n        {\n            event.haveView = true;\n            //Add the pointer to the current jquery element to a list passed by the event\n            event.elements = event.elements.add(this.$el);\n        }\n    });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/views/attributes/vAttribute.js","/*global define*/\n\n(function umdRequire(root, factory)\n{\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'underscore',\n            'mustache',\n            'dcpDocument/widgets/attributes/wAttribute'\n        ], factory);\n    } else {\n        //noinspection JSUnresolvedVariable\n        factory(window.jQuery, window._, window.Mustache);\n    }\n}(window, function require_wDocid($, _, Mustache)\n{\n    'use strict';\n\n    //noinspection JSUnusedGlobalSymbols\n    $.widget(\"dcp.dcpDocid\", $.dcp.dcpAttribute, {\n\n        options: {\n            type: \"docid\",\n            renderOptions: {\n                kendoMultiSelectConfiguration: {\n                    minLength: 1,\n                    itemTemplate: '<div class=\"dcpAutocomplete\"><span class=\"k-state-default\">#= data.title#</span>' +\n                    '#if (data.message) {#' +\n                    '<div class=\"dcpAutocomplete--#= data.message.type#\">#: data.message.contentText# #= data.message.contentHtml#</div>' +\n                    '#}# </div>'\n                },\n                kendoComboBoxConfiguration: {\n                    template: '<div class=\"dcpAutocomplete\"><span class=\"k-state-default\">#= data.title#</span>' +\n                    '#if (data.message) {#' +\n                    '<div class=\"dcpAutocomplete--#= data.message.type#\">#: data.message.contentText# #= data.message.contentHtml#</div>' +\n                    '#}# </div>'\n                },\n                editDisplay: \"autoCompletion\"\n            },\n            labels: {\n                allSelectedDocument: \"No more matching\"\n            }\n        },\n\n        kendoWidget: null,\n\n        _initDom: function wDocidInitDom()\n        {\n            var scope = this;\n            this.element.addClass(\"dcpAttribute__content\");\n            this.element.attr(\"data-type\", this.getType());\n            this.element.attr(\"data-attrid\", this.options.id);\n\n            if (this._isMultiple()) {\n                this.options.attributeValues = _.toArray(this.options.attributeValue);\n                this.options.isMultiple = true;\n            }\n\n            if (this.getMode() === \"read\") {\n                if (this.options.renderOptions.format) {\n                    if (this._isMultiple()) {\n                        _.each(this.options.attributeValues, function wDocidinitDomFormat(singleValue)\n                        {\n                            singleValue.formatValue = Mustache.render(scope.options.renderOptions.format,\n                                singleValue);\n                        });\n                    } else {\n                        this.options.attributeValue.formatValue = Mustache.render(this.options.renderOptions.format,\n                            this.options.attributeValue);\n                    }\n                }\n                if (this.options.renderOptions.documentIconSize) {\n                    var reSize = /sizes\\/([0-9xcfs]+)/;\n                    var noIcon = ([\"0\", \"0x0\", \"x0\"].indexOf(this.options.renderOptions.documentIconSize) !== -1);\n                    if (this._isMultiple()) {\n                        _.each(this.options.attributeValues, function wDocidResizeIcons(singleValue)\n                        {\n                            if (noIcon) {\n                                singleValue.icon = null;\n                            } else\n                                if (singleValue.icon) {\n                                    singleValue.icon = singleValue.icon.replace(reSize, \"sizes/\" + scope.options.renderOptions.documentIconSize);\n                                }\n                        });\n                    } else\n                        if (noIcon) {\n                            this.options.attributeValue.icon = null;\n                        } else\n                            if (this.options.attributeValue.icon) {\n                                this.options.attributeValue.icon = this.options.attributeValue.icon.replace(reSize, \"sizes/\" + this.options.renderOptions.documentIconSize);\n                            }\n                }\n\n                //noinspection JSPotentiallyInvalidConstructorUsage,JSAccessibilityCheck\n                $.dcp.dcpAttribute.prototype._initDom.apply(this, []);\n\n            } else\n                if (this.getMode() === \"write\") {\n                    //noinspection JSPotentiallyInvalidConstructorUsage,JSAccessibilityCheck\n                    $.dcp.dcpAttribute.prototype._initDom.apply(this, []);\n                    this.kendoWidget = this.element.find(\".dcpAttribute__value--docid\");\n                    if (this.options.renderOptions.placeHolder) {\n                        this.options.renderOptions.kendoMultiSelectConfiguration.placeholder = this.options.renderOptions.placeHolder;\n                    }\n                    if (this._isMultiple()) {\n                        this._decorateMultipleValue(this.kendoWidget);\n                    } else {\n                        switch (this.options.renderOptions.editDisplay) {\n                            case \"singleMultiple\" :\n                                this._decorateSingleValue(this.kendoWidget);\n\n                                break;\n                            case \"autoCompletion\":\n                                this.singleCombobox(this.kendoWidget);\n                                break;\n                            case \"list\":\n                                this.singleDropdown(this.kendoWidget);\n                                break;\n                            default:\n                                this.singleCombobox(this.kendoWidget);\n                        }\n                    }\n                    this._updateCreateButton();\n                }\n        },\n\n        _updateCreateButton: function wDocid_updateCreateButton()\n        {\n            var currentValue = this.options.attributeValue;\n            var buttonsConfig = this.options.renderOptions.buttons;\n\n            this.element.find(\".dcpAttribute__content__button--create\").each(function wDocid_updateCreateButtonEach()\n            {\n                var $button = $(this);\n                var buttonIndex = $button.data(\"index\");\n                var buttonConfig = buttonsConfig[buttonIndex];\n\n                $button.prop(\"disabled\", false);\n                if (currentValue.value) {\n                    $button.html(buttonConfig.renderHtmlContent + buttonConfig.htmlEditContent);\n                    // @TODO Find an efficient way to verify edit access of target\n                    /*\n                     if (!currentValue.value) {\n                     $button.prop(\"disabled\", true);\n                     }*/\n                } else {\n                    // also when mutiple always create\n                    $button.html(buttonConfig.renderHtmlContent + buttonConfig.htmlCreateContent);\n                }\n            });\n        },\n\n        /**\n         * Init event when a hyperlink is associated to the attribute\n         *\n         * @protected\n         */\n        _initLinkEvent: function wDocidInitLinkEvent()\n        {\n            this._super();\n            var htmlLink = this.getLink();\n            var currentWidget = this;\n            if (htmlLink) {\n                this.element.on(\"click.\" + this.eventNamespace, '.dcpAttribute__content__link', function wDocidInitLinkOnClick(event)\n                {\n                    var $this = $(this);\n                    if (htmlLink.target === \"_render\") {\n                        event.preventDefault();\n                        currentWidget._trigger(\"fetchdocument\", event, {\n                            \"index\": $this.data(\"index\"),\n                            \"tableLine\": $this.closest(\".dcpArray__content__line\").data(\"line\")\n                        });\n                    }\n                });\n            }\n            return this;\n        },\n        _initButtonsEvent: function _initButtonsEvent()\n        {\n            var currentWidget = this;\n            this._super();\n\n            this.element.on(\"click\" + this.eventNamespace, \".dcpAttribute__content__button--create\", function wAttributeButtonClick(event)\n            {\n                var buttonsConfig = currentWidget.options.renderOptions.buttons;\n                var $button = $(this);\n                var buttonIndex = $button.data(\"index\");\n                var buttonConfig = buttonsConfig[buttonIndex];\n\n                currentWidget._trigger(\"externalLinkSelected\", event, {\n                    target: event.target,\n                    eventId: \"attribute.createDocumentRelation\",\n                    index: currentWidget._getIndex(),\n                    buttonConfig: buttonConfig\n                });\n            });\n            this.element.tooltip({\n                selector: \".dcpAttribute__content__buttons button\",\n                placement: \"top\",\n                trigger: \"hover\",\n                html: true,\n                title: function wAttributeGetButtonTitle()\n                {\n                    var title = $(this).data(\"title\");\n                    var attrValue = currentWidget.getValue();\n                    return Mustache.render(title || \"\", attrValue);\n                },\n                container: this.element\n            });\n\n            return this;\n        },\n        /**\n         * Define inputs for focus\n         * @protected\n         */\n        _getFocusInput: function wDocidFocusInput()\n        {\n            return this.element.find('input');\n        },\n\n        /**\n         * Get kendo option from normal options and from renderOptions.kendoMultiSelectConfiguration\n         * @returns {*}\n         */\n        getKendoOptions: function wDocidGetKendoOptions(inputValue, extraOptions)\n        {\n            var currentWidget = this;\n            var options = {\n                autoBind: false,\n                clearButton: false,\n                dataTextField: \"docTitle\",\n                dataValueField: \"docId\",\n                highlightFirst: true,\n                //value: values,\n                dataSource: {\n                    // type: \"json\",\n                    serverFiltering: true,\n                    transport: {\n                        read: function wDocidSelectRead(options)\n                        {\n                            currentWidget._hasBeenRequested = true;\n                            options.data.index = currentWidget._getIndex();\n                            return currentWidget.options.autocompleteRequest.call(null, options, currentWidget._getIndex());\n                        }\n                    },\n                    schema: {\n                        // Add already recorded data to items\n                        data: function wDocidSelectSchema(items)\n                        {\n                            //Add new elements\n                            _.each(items, function wDocidDataCompose(currentItem)\n                            {\n                                if (currentItem.values && currentItem.values[currentWidget.options.id]) {\n                                    currentItem.docId = currentItem.values[currentWidget.options.id].value;\n                                    currentItem.docTitle = currentItem.values[currentWidget.options.id].displayValue;\n                                }\n                            });\n\n                            //Suppress multiple items\n                            return _.uniq(items, false, function wDocidDataUniq(currentItem)\n                            {\n                                return currentItem.docId || currentItem.message;\n                            });\n                        }\n                    }\n                },\n                select: function kendoDocidSelect(event)\n                {\n                    if (!event.item || _.isUndefined(event.item.index())) {\n                        return;\n                    }\n\n                    var valueIndex = currentWidget._getIndex();\n                    var dataItem = this.dataSource.at(event.item.index()).toJSON();\n\n                    if (dataItem.message) {\n                        event.preventDefault();\n                    } else {\n                        //The object returned by dataSource.at are internal kendo object so I clean it with toJSON\n\n                        _.defer(function wDocidChangeOnSelect()\n                        {\n                            // Change others attributes designed by help returns\n                            currentWidget._trigger(\"changeattrsvalue\", event, {\n                                dataItem: dataItem,\n                                valueIndex: valueIndex\n                            }, currentWidget._getIndex());\n                        });\n                    }\n\n                },\n                change: function kendoChangeSelect(event)\n                {\n                    // set in case of delete item\n                    var oldValues = currentWidget.options.attributeValue;\n                    var displayValue;\n                    var newValues = [];\n                    var kMultiSelect = this;\n                    var widgetValue = this.value();\n\n                    if (_.isArray(widgetValue)) {\n                        _.each(widgetValue, function wDocidSelectChange(val)\n                        {\n                            if (!_.isUndefined(val)) {\n                                displayValue = _.where(oldValues, {value: val});\n                                if (displayValue.length === 0) {\n                                    displayValue = _.where(kMultiSelect.dataSource.data(), {docId: val});\n                                    if (displayValue.length > 0) {\n                                        displayValue = displayValue[0].docTitle;\n                                    } else {\n                                        displayValue = \"-\";\n                                    }\n                                } else {\n                                    displayValue = displayValue[0].displayValue;\n                                }\n\n                                newValues.push({value: val, displayValue: displayValue});\n                            }\n                        });\n\n                        if (!currentWidget._isMultiple()) {\n                            if (newValues.length > 0) {\n                                newValues = newValues[0];\n                            } else {\n                                newValues = {value: null, displayValue: \"\"};\n                            }\n                        }\n\n                    } else {\n                        if (widgetValue) {\n                            displayValue = _.where(kMultiSelect.dataSource.data(), {docId: widgetValue});\n                            if (displayValue.length > 0) {\n                                displayValue = displayValue[0].docTitle;\n                                newValues = {value: widgetValue, displayValue: displayValue};\n                            } else {\n                                newValues = {value: null, displayValue: \"\"};\n                            }\n                        } else {\n                            newValues = {value: null, displayValue: \"\"};\n                        }\n                    }\n\n                    currentWidget.setValue(newValues, event);\n                },\n                open: function wDocidSelectOpen(event)\n                {\n                    if (currentWidget._hasBeenRequested !== true) {\n                        event.preventDefault();\n                        currentWidget.kendoWidgetObject.search(\"\");\n                    }\n                    this.ul.addClass(\"dcpAttribute__select--docid\");\n                },\n                close: function wDocidSelectClose() {\n                    currentWidget._hasBeenRequested = false;\n                },\n                filtering: function wDocidSelectOpen()\n                {\n                    this._isFiltering = true;\n                },\n                dataBound: function wDocidFilteringNoOne()\n                {\n                    if (this._isFiltering) {\n                        if (this.ul.find(\"li:not(.k-state-selected)\").length === 0 && this.ul.find(\"li.k-state-selected\").length > 0) {\n                            // No one more : display\n                            var $noOne = $('<li class=\"k-item\"/>')\n                                .append('<span class=\"k-state-default\"/>')\n                                .append($('<span class=\"k-state-error dcpAttribute__select--docid-none\"/>')\n                                    .text(currentWidget.options.labels.allSelectedDocument));\n                            this.ul.append($noOne);\n                        }\n                        this._isFiltering = false;\n                    }\n                }\n            };\n\n            if (extraOptions) {\n                options = _.extend(options, extraOptions);\n            }\n            if (this.options.renderOptions.kendoComboBoxConfiguration) {\n                options = _.extend(this.options.renderOptions.kendoComboBoxConfiguration, options);\n            }\n\n            return options;\n        },\n\n        /**\n         * When docid is not multiple, it is a multiselect limited to one element\n         * @param inputValue select  element\n         */\n        _decorateSingleValue: function wDocidDecorateSingleValue(inputValue)\n        {\n\n            this.options.attributeValues = [];\n            if (this.options.attributeValue) {\n                this.options.attributeValues.push(this.options.attributeValue);\n            }\n\n            this._decorateMultipleValue(inputValue, {\n                    maxSelectedItems: 1\n                }\n            );\n\n            if (this.options.attributeValue && this.options.attributeValue.value !== null) {\n                this.element.find('.dcpAttribute__value--docid--button').attr(\"disabled\", \"disabled\");\n                this.element.find('input.k-input').attr(\"disabled\", \"disabled\");\n\n            }\n        },\n\n        _decorateMultipleValue: function wDocidDecorateMultipleValue(inputValue, extraOptions)\n        {\n            var options = this.getKendoOptions(inputValue, {\n                filter: \"contains\"\n            });\n            var currentWidget = this,\n                values = _.map(this.options.attributeValues, function wDocidSelectMap(val)\n                {\n                    var info = {};\n                    info.docTitle = val.displayValue;\n                    info.docId = val.value;\n                    return info;\n                });\n\n            if (extraOptions) {\n                options = _.extend(options, extraOptions);\n            }\n\n            if (this.options.renderOptions.kendoMultiSelectConfiguration) {\n                options = _.extend(this.options.renderOptions.kendoMultiSelectConfiguration, options);\n            }\n            //noinspection JSUnresolvedFunction\n            inputValue.kendoMultiSelect(options);\n            this.kendoWidgetObject = inputValue.data(\"kendoMultiSelect\");\n            this.kendoWidgetObject.dataSource.data(values);\n\n            if (this.options.attributeValues.value !== null) {\n                // Init kendo widget with identifier array\n                this.kendoWidgetObject.value(_.filter(_.map(values, function wDocidInitValue(item)\n                {\n                    return item.docId;\n                }), function wDocidFilterEmpty(item)\n                {\n                    return !_.isEmpty(item);\n                }));\n            }\n            this.element.on(\"click\" + this.eventNamespace, '.dcpAttribute__value--docid--button', function wDocidSelectClick(event)\n            {\n                event.preventDefault();\n                currentWidget.kendoWidgetObject.search(\"\");\n            });\n\n            this.element.find('.dcpAttribute__value--docid--button[title]').tooltip({\n                html: true\n            });\n        },\n\n        singleDropdown: function wDocidSingleDropdown(inputValue)\n        {\n            var kendoOptions = this.getKendoOptions(inputValue);\n\n            this.kendoWidgetObject = inputValue.kendoDropDownList(kendoOptions).data(\"kendoDropDownList\");\n\n            this.kendoWidgetObject.list.find(\".k-list-optionlabel\").addClass(\"placeholder--clear\");\n            this.kendoWidgetObject.value(this.options.attributeValue.value);\n            this.element.find(\".dcpAttribute__value--docid--button\").parent().hide();\n        },\n\n        singleCombobox: function wDocidSingleCombobox(inputValue)\n        {\n            var kendoOptions = this.getKendoOptions(inputValue, {\n                filter: \"startswith\" //@TODO use filter option in standard auto complete\n            });\n            var kendoSelect;\n\n            this.kendoWidgetObject = inputValue.kendoComboBox(kendoOptions).data(\"kendoComboBox\");\n            kendoSelect = this.kendoWidgetObject;\n            this.kendoWidgetObject.list.find(\".k-list-optionlabel\").addClass(\"placeholder--clear\");\n\n            if (this.options.attributeValue && this.options.attributeValue.value) {\n                kendoSelect.dataSource.add({\n                    docId: this.options.attributeValue.value,\n                    docTitle: this.options.attributeValue.displayValue\n                });\n            }\n\n            if (this.options.attributeValue.value) {\n                // Init value in kendo only if any : if not call to server is performed\n                this.kendoWidgetObject.value(this.options.attributeValue.value);\n            }\n            this.element.find(\".dcpAttribute__value--docid--button\").parent().hide();\n        },\n\n        /**\n         * Return true if attribut has multiple option\n         * @returns bool\n         */\n        hasMultipleOption: function wDocidHasMultipleOption()\n        {\n            return (this.options.options && this.options.options.multiple === \"yes\");\n        },\n\n        setValue: function wDocidSetValue(value, event)\n        {\n            var newValues;\n            this._super(value, event);\n            if (this.getMode() === \"write\") {\n                if (!this.hasMultipleOption() && this.options.renderOptions.editDisplay === \"singleMultiple\") {\n                    if (!_.isArray(value)) {\n                        if (value.value !== null) {\n                            value = [value];\n                        } else {\n                            value = [];\n                        }\n                    } else\n                        if (value.length === 1 && value.value === null) {\n                            value = [];\n                        }\n                    if (value.length === 0) {\n                        this.element.find('.dcpAttribute__value--docid--button').removeAttr(\"disabled\");\n                        this.element.find('input.k-input').removeAttr(\"disabled\");\n                    } else {\n                        this.element.find('.dcpAttribute__value--docid--button').attr(\"disabled\", \"disabled\");\n                        this.element.find('input.k-input').attr(\"disabled\", \"disabled\");\n                    }\n                }\n\n                if (this.hasMultipleOption() || this.options.renderOptions.editDisplay === \"singleMultiple\") {\n                    newValues = _.map(value, function wDocidMapValue(val)\n                    {\n                        return val.value;\n                    });\n\n                } else {\n                    newValues = value.value;\n                }\n                var kendoSelect = this.kendoWidgetObject;\n                var originalValues = _.clone(kendoSelect.value());\n                // update values in kendo widget\n\n                var dataOri = _.map(_.filter(kendoSelect.dataSource.data(), function wDocIdFilter(item)\n                {\n                    return !_.isEmpty(item.docId);\n                }), function wDocidFilterEmpty(currentElement)\n                {\n                    return {\n                        docId: currentElement.docId,\n                        docTitle: currentElement.docTitle\n                    };\n                });\n\n                if (!_.isArray(value)) {\n                    value = [value];\n                }\n                _.each(value, function wDocidEachData(val)\n                {\n                    var info = {};\n\n                    if (!_.some(dataOri, function wDocidEachUniq(elt)\n                        {\n                            return val && elt.docId === val.value;\n                        })\n                    ) {\n                        // add more static data in dataSource\n                        if (val.value !== null) {\n                            info.docTitle = val.displayValue;\n                            info.docId = val.value;\n                            kendoSelect.dataSource.add(info);\n                        }\n                    }\n                });\n\n                if (!this._isEqual(originalValues, newValues)) {\n                    kendoSelect.value(newValues);\n                    this.flashElement();\n                }\n                this._updateCreateButton();\n\n            } else\n                if (this.getMode() === \"read\") {\n                    this.redraw();\n                } else {\n                    throw new Error(\"Attribute \" + this.options.id + \" unkown mode \" + this.getMode());\n                }\n        },\n\n        _isEqual: function(values1, values2) {\n            var convertToString = function(currentValue) {\n                if (!currentValue || !currentValue.toString) {\n                    currentValue = \"\";\n                }\n                return currentValue.toString();\n            };\n            if (!_.isArray(values1)) {\n                values1 = [values1];\n            }\n            if (!_.isArray(values2)) {\n                values2 = [values2];\n            }\n            values1 = _.filter(_.uniq(_.map(values1, convertToString)), function(value) {return !!value;});\n            values2 = _.filter(_.uniq(_.map(values2, convertToString)), function(value) {return !!value;});\n            return _.isEqual(values1, values2);\n        },\n\n        close: function wDocid_close()\n        {\n            if (this.kendoWidget && this.kendoWidgetObject) {\n                this.kendoWidgetObject.close();\n            }\n        },\n\n        getType: function wDocid_getType()\n        {\n            return \"docid\";\n        },\n\n        _destroy: function wDocid__destroy()\n        {\n            if (this.kendoWidget && this.kendoWidgetObject) {\n                this.kendoWidgetObject.destroy();\n            }\n            $(\".dcpDocid-create-window\").each(function wDocid_destroyWindow()\n            {\n                var kWindow = $(this).data(\"dcpWindow\");\n                if (kWindow) {\n                    kWindow.destroy();\n                }\n            });\n            this._super();\n        }\n\n    });\n\n    return $.fn.dcpDocid;\n}));\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/widgets/attributes/docid/wDocid.js","/*global define*/\ndefine([\n    'underscore',\n    'backbone',\n    'dcpDocument/models/mMenu'\n], function (_, Backbone, ModelMenu)\n{\n    'use strict';\n\n    return Backbone.Collection.extend({\n        model: ModelMenu,\n\n        destroy: function CollectionMenu_destroy()\n        {\n            var model;\n            while (model = this.first()) { // jshint ignore:line\n                model.destroy();\n            }\n        },\n\n        _deepSearchMenu: function CollectionMenu__deepSearchMenu(contents, id, key, value)\n        {\n            var scope = this, subMenu, i, subSubMenu;\n            if (contents) {\n                for (i = 0; i < contents.length; i++) {\n                    subMenu = contents[i];\n                    if (subMenu.id === id) {\n                        if (key) {\n                            subMenu[key]=value;\n                        }\n                        return subMenu;\n                    } else {\n                        subSubMenu = scope._deepSearchMenu(subMenu.content, id, key, value);\n                        if (subSubMenu) {\n                            return subSubMenu;\n                        }\n                    }\n                }\n            }\n            return null;\n        },\n\n        getMenu: function CollectionMenu_getMenu(id)\n        {\n            var menuInfo = null, menuInfoItem = null, scope = this;\n\n            if (this.get(id)) {\n                return this.get(id).attributes;\n            } else {\n                this.each(function (oneMenu)\n                {\n                    if (oneMenu.get(\"content\")) {\n                        menuInfoItem = scope._deepSearchMenu(oneMenu.get(\"content\"), id);\n                        if (menuInfoItem) {\n                            menuInfo = menuInfoItem;\n                        }\n                    }\n                });\n                return menuInfo;\n            }\n        },\n\n\n        setMenu: function CollectionMenu_setMenu(id, key, value)\n        {\n            var menuInfo = null, menuInfoItem = null, scope = this, menuModel=null, newContent={};\n\n            if (this.get(id)) {\n                menuModel= this.get(id);\n                menuModel.set(key, value);\n                return menuModel.attributes;\n            } else {\n                this.each(function (oneMenu)\n                {\n                    if (oneMenu.get(\"content\")) {\n                        menuInfoItem = scope._deepSearchMenu(oneMenu.get(\"content\"), id, key, value);\n                        if (menuInfoItem) {\n                            newContent=oneMenu.get(\"content\");\n                            oneMenu.set(\"content\", newContent);\n                            menuInfo=newContent;\n                            oneMenu.trigger('change');\n                        }\n                    }\n                });\n                return menuInfo;\n            }\n        }\n\n    });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Apps/DOCUMENT/IHM/collections/menus.js"],"sourceRoot":""}