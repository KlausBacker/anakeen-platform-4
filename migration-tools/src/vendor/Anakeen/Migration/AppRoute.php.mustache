<?php

namespace {{VENDOR}}\{{MODULE}}\Routes\Apps\{{APPNAME}};
/**
 * {{APPNAME}}
 * @description {{short_name}}
 * @use by route GET /apps/{{APPNAME}}/{{name}}
 */
class {{name}}
{
    public function __invoke(\Slim\Http\request $request, \Slim\Http\response $response, $args)
    {
        $this->initParameters($args, $request);
        $data = $this->doRequest();
        return $response->write($data);
    }

    protected function initParameters($args, \Slim\Http\request $request)
    {
        //@FIXME HERE set parameters in protected fields
    }

    protected function doRequest()
    {
        $layoutFile = '<PATH TO LAYOUT>/{{layout}}';
        $layoutContent=file_get_contents($layoutFile);
        $lay=new \Layout("", $layoutContent);

        // @FIXME HERE The action code

        return $lay->gen();
    }
}
