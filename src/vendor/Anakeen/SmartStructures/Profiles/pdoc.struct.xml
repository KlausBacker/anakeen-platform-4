<?xml version="1.0" encoding="UTF-8"?>
<smart:config xmlns:smart="http://www.anakeen.com/ns/smart/v1/">

    <smart:structure-configuration name="PDOC" id="3" label="Profil de document">
        <smart:icon file="se-pdoc.png"/>
        <smart:class disable-inheritance-condition="true">Anakeen\SmartStructures\Profiles\PDocHooks</smart:class>
        <smart:revisable>false</smart:revisable>
        <smart:usefor>SP</smart:usefor>
        <smart:attributes>
            <smart:attr-fieldset name="fr_basic" type="frame" label="Basique" visibility="W">
                <smart:attr-text name="ba_title" label="Titre" visibility="O" needed="true" is-title="true"/>
                <smart:attr-longtext name="prf_desc" label="Description" visibility="W"/>
            </smart:attr-fieldset>
            <smart:attr-fieldset name="dpdoc_fr_dyn" type="frame" label="Dynamique" visibility="W">
                <smart:attr-docid name="dpdoc_famid" label="Smart Structure" visibility="W" relation="-1"/>
                <smart:attr-text name="dpdoc_fam" label="Smart Structure (titre)" visibility="H" is-abstract="true"/>
            </smart:attr-fieldset>
        </smart:attributes>
        <smart:parameters/>
        <smart:hooks>
            <smart:attr-hook event="onPreRefresh" attr="dpdoc_fam">
                <smart:attr-callable function="::getTitle"/>
                <smart:attr-argument type="attribute">dpdoc_famid</smart:attr-argument>
            </smart:attr-hook>
        </smart:hooks>
    </smart:structure-configuration>

    <smart:structure-configuration name="PDIR" id="4" label="Profil de dossier" extends="PDOC">
        <smart:icon file="se-pdir.png"/>
        <smart:class disable-inheritance-condition="true">Anakeen\SmartStructures\Profiles\PDirHooks</smart:class>
        <smart:revisable>false</smart:revisable>
        <smart:usefor>SP</smart:usefor>
    </smart:structure-configuration>

    <smart:structure-configuration name="PSEARCH" id="6" label="Profil de recherche" extends="PDOC">
        <smart:icon file="se-psearch.png"/>
        <smart:class disable-inheritance-condition="true">Anakeen\SmartStructures\Profiles\PSearchHooks</smart:class>
        <smart:revisable>false</smart:revisable>
        <smart:usefor>SP</smart:usefor>
    </smart:structure-configuration>

    <smart:structure-configuration name="PFAM" id="23" label="Profil de famille" extends="PDOC">
        <smart:icon file="se-pfam.png"/>
        <smart:class disable-inheritance-condition="true">Anakeen\SmartStructures\Profiles\PFamHooks</smart:class>
        <smart:revisable>false</smart:revisable>
        <smart:usefor>SP</smart:usefor>
        <smart:attr-override attr="dpdoc_fr_dyn" visibility="H"/>
    </smart:structure-configuration>

</smart:config>
