<?php


namespace Anakeen\Hub\SmartStructures\HubConfigurationGeneric\Render;

use Anakeen\Core\Internal\SmartElement;
use Anakeen\Hub\SmartStructures\HubConfigurationVue\Render\HubConfigurationVueEditRender;
use Anakeen\Ui\RenderAttributeVisibilities;
use Anakeen\Ui\RenderOptions;
use SmartStructure\Fields\Hubconfigurationgeneric as HubConfigurationGenericFields;

class HubConfigurationGenericEditRender extends HubConfigurationVueEditRender
{
    use THubConfigurationGenericCommonRender;
    public function getOptions(SmartElement $document): RenderOptions
    {
        $options = parent::getOptions($document);

        $options->arrayAttribute(HubConfigurationGenericFields::hge_cssassets)->setRowMinDefault(0);
        $options->arrayAttribute(HubConfigurationGenericFields::hge_jsassets)->setRowMinDefault(1);
        $this->addDescriptions($options);

        return $options;
    }

    public function getVisibilities(\Anakeen\Core\Internal\SmartElement $document, \SmartStructure\Mask $mask = null): RenderAttributeVisibilities
    {
        $visibilities = parent::getVisibilities($document, $mask); // TODO: Change the autogenerated stub
        $visibilities->setVisibility(HubConfigurationGenericFields::hub_execution_roles, RenderAttributeVisibilities::ReadWriteVisibility);
        return $visibilities;
    }
}
