<!doctype html>
<html>
<head>
    <title>{{#i18n}}ddui::Document Render{{/i18n}}</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <style>

        .dcpLoading--logo {
            width: 20%;
            min-width: 20rem;
            padding: 3em;
            overflow: hidden;
            margin-top: 10rem;
        }

        .dcpLoading--logo .text-logo, .dcpLoading--logo .main-logo {
            margin: 0 auto;
            width: 100%;
        }

        .dcpLoading--logo .text-logo svg, .dcpLoading--logo .main-logo svg {
            overflow: visible;
            width: 100%;
        }

        .dcpLoading--logo .text-logo _:-ms-input-placeholder, :root .dcpLoading--logo .text-logo {
            margin-bottom: -2.2rem;
        }

        .dcpLoading--logo.isotype {
            height: 20%;
        }

        .dcpLoading--logo.isotype .main-logo {
            height: 100%;
        }

        .dcpLoading--logo.isotype .main-logo svg.bounce {
            width: 20%;
            margin: 0 auto;
            display: block;
        }

        .dcpLoading--logo.isotype .main-logo svg.bounce > * {
            animation: bounce-isotype infinite 800ms alternate ease-in-out;
        }

        .main-logo {
            position: relative;
        }

        .main-logo svg.bounce > * {
            animation: bounce infinite 2500ms normal ease-in-out;
            opacity: 1;
        }

        .main-logo svg.bounce > *:nth-child(1) {
            animation-delay: 0ms;
        }

        .main-logo svg.bounce > *:nth-child(2) {
            animation-delay: 50ms;
        }

        .main-logo svg.bounce > *:nth-child(3) {
            animation-delay: 100ms;
        }

        .main-logo svg.bounce > *:nth-child(4) {
            animation-delay: 150ms;
        }

        .main-logo svg.bounce > *:nth-child(5) {
            animation-delay: 200ms;
        }

        .main-logo svg.bounce > *:nth-child(6) {
            animation-delay: 250ms;
        }

        .main-logo svg.bounce > *:nth-child(7) {
            animation-delay: 300ms;
        }

        .main-logo .moving-path {
            opacity: 0;
            width: 130%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transform: translate(100%, 0);
            animation: slide-right infinite 2500ms normal ease-in;
        }

        @keyframes slide-right {
            0% {
                opacity: 0;
                transform: translate(-20%, 0);
            }
            35% {
                opacity: 0;
                transform: translate(-20%, 0);
            }
            50% {
                opacity: 1;
                transform: translate(-20%, 0);
            }
            75% {
                transform: translate(100%, 0);
            }
            100% {
                opacity: 1;
            }
        }

        @keyframes bounce {
            0% {
                transform: scale(1);
            }
            70% {
                transform: scale(1);
                opacity: 1;
            }
            85% {
                transform: scale(1.1);
                opacity: 0.5;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes bounce-isotype {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            60% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(1.1);
                opacity: 0.5;
            }
        }

        html, body {
            margin: 0;
        }

        .dcpLoading--content {
            background-color: #FFF;
            width: 100%;
            display: flex;
            flex-grow: 1;
            justify-content: center;
        }

        .dcpLoading--content + .dcpLoading--content {
            margin-top: 2px;
        }

        .dcpLoading {
            padding: 0;
            border: none;
            text-align: center;
            position: fixed;
            display:flex;
            flex-direction: column;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: 0;
            line-height: 1px;
            z-index: 11;
            background-color: white;
        }
    </style>
    {{#CSS}}
    <link rel="stylesheet" type="text/css" data-id="{{key}}" href="{{path}}"/>
    {{/CSS}}
    <link rel="shortcut icon" href="/Images/doc.png">
    <script>
        if (!window.console) {
            window.console = {};
            window.console.log = function () {
            };
        }
        if (!window.console.error) {
            window.console.error = window.console.log;
        }
        if (!(window.console.time)) {
            window.console.timeEnd = function () {
            };
            window.console.time = function () {
            };
        }
        window.dcp = window.dcp || {};
        console.time("main");
        console.time("js loading");
        window.dcp.viewData = {{{viewInformation}}};
        window.dcp.messages = {{{messages}}};
        window.dcp.ws = "{{ws}}";
        window.dcp.notifications = {
            autoHideAfter: "{{NOTIFICATION_DELAY}}",
            labels: {moreButton: "{{notificationLabelMore}}", moreWindowTitle: "{{notificationTitleMore}}"}
        };
    </script>
    {{#JS_DEPS}}
        <script type="text/javascript" data-id="{{key}}" src="{{path}}"></script>
    {{/JS_DEPS}}
    {{#JS}}
        <script type="module" data-id="{{key}}" src="{{path}}"></script>
    {{/JS}}
</head>
<body>

<div class="document">

</div>

<div class="dcpLoading">
    <div class="progress active dcpLoading--progressbar">
        <div class="progress-bar progress-bar-striped" style="width: 10%"></div>
    </div>
    <div class="dcpLoading--content">
         <div class="dcpLoading--logo black-logo">
            <div class="text-logo">
                <img inline src="../../../../vendor/Anakeen/DOCUMENT/IHM/loading/loading-text-logo.svg">
            </div>
            <div class="main-logo">
                <img inline src="../../../../vendor/Anakeen/DOCUMENT/IHM/loading/loading-main-logo.svg">
                <div class="moving-path"></div>
            </div>
         </div>
    </div>
</div>

<div class="dcpStaticErrorMessage" hidden>
    <div class="alert alert-danger" role="alert">
        <h4>{{#i18n}}ddui::Unable to load try again{{/i18n}}</h4>
        <button class="btn btn-default" onclick="window.location.reload();">{{#i18n}}ddui::Click to reload the document{{/i18n}}
        </button>
    </div>
</div>

{{#JS_LEGACY}}
    <script nomodule data-id="{{key}}" src="{{path}}"></script>
{{/JS_LEGACY}}

</body>
</html>