(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["wDocument"],{

/***/ "0b2f2c4ba8a17326d5a7":
/*!*****************************************************!*\
  !*** ./src/vendor/Anakeen/DOCUMENT/IHM/document.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*global define, console*/\n(function umdRequire(root, factory) {\n  \"use strict\";\n\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"127c8cf59f228bb01a21\"), __webpack_require__(/*! underscore */ \"8e08e542008e4aef1f58\"), __webpack_require__(/*! dcpDocument/widgets/widget */ \"a903b12ace80b5b4ecce\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(window, function require_document($, _) {\n  \"use strict\";\n\n  var eventList = [\n    \"beforeRender\",\n    \"ready\",\n    \"change\",\n    \"displayMessage\",\n    \"displayError\",\n    \"validate\",\n    \"attributeBeforeRender\",\n    \"attributeReady\",\n    \"attributeHelperSearch\",\n    \"attributeHelperResponse\",\n    \"attributeHelperSelect\",\n    \"attributeArrayChange\",\n    \"actionClick\",\n    \"attributeAnchorClick\",\n    \"beforeClose\",\n    \"close\",\n    \"beforeSave\",\n    \"afterSave\",\n    \"attributeDownloadFile\",\n    \"attributeUploadFile\",\n    \"attributeUploadFileDone\",\n    \"beforeDelete\",\n    \"afterDelete\",\n    \"beforeRestore\",\n    \"afterRestore\",\n    \"attributeBeforeTabSelect\",\n    \"attributeAfterTabSelect\",\n    \"attributeTabChange\",\n    \"failTransition\",\n    \"successTransition\",\n    \"beforeDisplayTransition\",\n    \"afterDisplayTransition\",\n    \"beforeTransition\",\n    \"beforeTransitionClose\",\n    \"destroy\",\n    \"attributeCreateDialogDocumentBeforeSetFormValues\",\n    \"attributeCreateDialogDocumentBeforeSetTargetValue\",\n    \"attributeCreateDialogDocumentReady\",\n    \"attributeCreateDialogDocumentBeforeClose\",\n    \"attributeCreateDialogDocumentBeforeDestroy\"\n  ];\n\n  //Create a new kind of event\n  var ErrorNotLoaded = function dcpDocument_ErrorNotLoaded(message) {\n    this.name = \"WidgetDocumentNotLoaded\";\n    this.message =\n      message ||\n      \"The document widget is not loaded, wait for the documentloaded event\";\n  };\n  ErrorNotLoaded.prototype = Object.create(Error.prototype);\n  ErrorNotLoaded.prototype.constructor = ErrorNotLoaded;\n\n  $.widget(\"dcp.document\", {\n    _template: _.template(\n      '<iframe class=\"dcpDocumentWrapper\" name=\"<%- options.iframeName %>\" style=\"border : 0;\" data-src=\"<%- base %>api/v2/documents/0.html#widgetValue<%- options.json_encode %>\"></iframe>'\n    ),\n\n    defaults: {\n      resizeMarginHeight: 3,\n      resizeMarginWidth: 0,\n      resizeDebounceTime: 50,\n      withoutResize: false,\n      iframeName: _.uniqueId(\"documentFrame\"),\n      noRouter: true,\n      eventPrefix: \"document\"\n    },\n\n    /**\n     * Create the widget\n     *\n     * Check if initid is present\n     */\n    _create: function dcpDocument_create() {\n      this.options = _.extend({}, this.defaults, this.options);\n      this.options.eventListener = {};\n      this.options.constraintList = {};\n      this.options.cssToInject = [];\n      this.options.jsToInject = [];\n      this._render();\n      this._bindEvents();\n    },\n\n    /**\n     * Create the iframe with the content and register to load event\n     */\n    _render: function dcpDocument_render() {\n      var $iframe,\n        currentWidget = this,\n        documentWindow,\n        options_encode;\n      //inject the iframe\n      options_encode = JSON.stringify(\n        _.omit(\n          this.options,\n          \"resizeMarginHeight\",\n          \"resizeMarginWidth\",\n          \"resizeDebounceTime\",\n          \"withoutResize\",\n          \"iframeName\",\n          \"eventPrefix\",\n          \"eventListener\",\n          \"constraintList\"\n        )\n      );\n      this.element.empty().append(\n        this._template({\n          options: {\n            iframeName: this.options.iframeName,\n            json_encode: options_encode\n          },\n          base: $(\"base\").attr(\"href\") || \"\"\n        })\n      );\n      //bind the internal controller to the documentWidget\n      $iframe = this.element.find(\".dcpDocumentWrapper\");\n      //Listen the load to the iframe (initial JS added and page loaded)\n\n      if ($iframe.length > 0) {\n        documentWindow = $iframe[0].contentWindow;\n        //Use this way to set url for firefox (when the document is in iframe in another document)\n        documentWindow.location.href = $iframe.data(\"src\");\n        // This event is used when use a hard link (aka href anchor) to change document\n        // It is load also the first time\n        $iframe.on(\"load\", function dcpDocument_setReadyEvent() {\n          documentWindow.documentLoaded = function dcpDocument_loadedCallback(\n            domNode,\n            viewData\n          ) {\n            // Re Bind the internalController function to the current widget\n            currentWidget._bindInternalWidget.call(\n              currentWidget,\n              domNode.data(\"dcpDocumentController\"),\n              viewData\n            );\n            // voidLoaded is true when document 0 is loaded\n            currentWidget.element.data(\n              \"voidLoaded\",\n              !viewData || !viewData.initid\n            );\n          };\n\n          $(documentWindow).on(\"unload\", function dcpDocument_setUnloadEvent() {\n            currentWidget._unbindInternalWidget.call(currentWidget);\n          });\n          if (\n            documentWindow.dcp &&\n            documentWindow.dcp.triggerReload &&\n            documentWindow.dcp.documentReady === false\n          ) {\n            documentWindow.dcp.triggerReload();\n          }\n        });\n      }\n      this._resize();\n    },\n\n    /**\n     * Suppress internal widget reference\n     */\n    _unbindInternalWidget: function dcpDocument_unbindInternalWidget() {\n      this.element.data(\"internalWidgetInitialised\", false);\n      this.element.data(\"internalWidget\", false);\n      this._trigger(\"internalWidgetUnloaded\");\n      this._trigger(\"unloaded\");\n    },\n\n    rebindEvents: function dcpDocument_rebindEvents() {\n      var internalController = this.element.data(\"internalWidget\");\n      if (internalController) {\n        //Rebind event\n        _.each(this.options.eventListener, function dcpDocument_bindEvent(\n          currentEvent\n        ) {\n          internalController.addEventListener(currentEvent);\n        });\n        //Rebind constraint\n        _.each(this.options.constraintList, function dcpDocument_bindEvent(\n          currentConstaint\n        ) {\n          internalController.addConstraint(currentConstaint);\n        });\n      }\n    },\n\n    reinjectCSSAndJS: function dcpDocument_reinjectCSSAndJS() {\n      var internalController = this.element.data(\"internalWidget\");\n      if (internalController) {\n        try {\n          internalController.injectCSS(this.options.cssToInject);\n          internalController.injectJS(this.options.jsToInject);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    },\n\n    /**\n     * Bind the internal controller to the current widget\n     * Reinit the constraint and the event\n     *\n     * @param internalController\n     * @param voidLoaded\n     */\n    _bindInternalWidget: function dcpDocument_bindInternalWidget(\n      internalController,\n      voidLoaded\n    ) {\n      this.element.data(\"internalWidget\", internalController);\n      if (!voidLoaded) {\n        this.rebindEvents();\n        this.reinjectCSSAndJS();\n      }\n      this.element.data(\"internalWidgetInitialised\", true);\n      if (voidLoaded) {\n        this._trigger(\"loaded\", {}, { isEmpty: true });\n        return this;\n      }\n      this._trigger(\"loaded\");\n      return this;\n    },\n\n    /**\n     * Add resize event\n     */\n    _bindEvents: function dcpDocument_bindEvents() {\n      if (!this.options.withoutResize) {\n        $(window).on(\n          \"resize\" + this.eventNamespace,\n          _.debounce(\n            _.bind(this._resize, this),\n            parseInt(this.options.resizeDebounceTime, 10)\n          )\n        );\n        this._resize();\n      }\n    },\n\n    /**\n     * Compute the size of the widget\n     */\n    _resize: function dcpDocument_resize() {\n      var event = this._trigger(\"autoresize\"),\n        $documentWrapper = this.element.find(\".dcpDocumentWrapper\"),\n        currentWidget = this,\n        element = this.element;\n      //the computation can be done by an external function and default prevented\n      if (!this.options.withoutResize && event) {\n        //compute two times height (one for disapear horizontal scrollbar, two to get the actual size)\n        //noinspection JSValidateTypes\n        $documentWrapper.height(\n          element.innerHeight() -\n            parseInt(currentWidget.options.resizeMarginHeight, 10)\n        );\n        //noinspection JSValidateTypes\n        $documentWrapper.width(\n          element.innerWidth() -\n            parseInt(currentWidget.options.resizeMarginWidth, 10)\n        );\n        //defer height computation to let the time to scrollbar disapear\n        _.defer(function dcpDocument_computeHeight() {\n          //noinspection JSValidateTypes\n          $documentWrapper.height(\n            element.innerHeight() -\n              parseInt(currentWidget.options.resizeMarginHeight, 10)\n          );\n        });\n      }\n    },\n\n    tryToDestroy: function dcpDocument_tryToDestroy() {\n      var currentWidget = this;\n      return new Promise(function dcpDocument_tryToDestroy_promise(\n        resolve,\n        reject\n      ) {\n        var internalWidget;\n        if (currentWidget.isLoaded()) {\n          internalWidget = currentWidget.element.data(\"internalWidget\");\n          internalWidget\n            .tryToDestroy()\n            .then(function dcpDocument_destroy_then() {\n              resolve();\n              currentWidget._destroy();\n            })\n            .catch(function dcpDocument_destroy_catch(errorMessage) {\n              reject(errorMessage);\n            });\n          return;\n        }\n        resolve();\n        currentWidget._destroy();\n      });\n    },\n\n    /**\n     * Destroy the widget\n     */\n    _destroy: function dcpDocument_destroy() {\n      $(window).off(this.eventNamespace);\n      this.element.empty();\n      this._unbindInternalWidget();\n      this._trigger(\"destroy\");\n      this._super();\n    },\n\n    /**\n     * Check if event name is valid\n     *\n     * @param eventName string\n     * @private\n     */\n    _checkEventName: function documentController_checkEventName(eventName) {\n      if (\n        _.isString(eventName) &&\n        (eventName.indexOf(\"custom:\") === 0 ||\n          _.find(eventList, function documentController_CheckEventType(\n            currentEventType\n          ) {\n            return currentEventType === eventName;\n          }))\n      ) {\n        return true;\n      }\n      throw new Error(\n        \"The event type \" +\n          eventName +\n          \" is not known. It must be one of \" +\n          eventList.join(\" ,\")\n      );\n    },\n\n    /**\n     * Update options\n     */\n    options: function dcpDocument_options() {\n      throw new Error(\n        \"You cannot modify the options, you need to suppress the widget\"\n      );\n    },\n\n    /**\n     * Fetch a new document\n     *\n     * Use internal controller if ready\n     * Re-render the widget if internal is not ready\n     *\n     * @param values\n     * @param options\n     */\n    fetchDocument: function dcpDocument_fetchDocument(values, options) {\n      var internalWidget,\n        currentWidget = this,\n        fetchPromise = null,\n        initWidget = function dpcDocument_successWidget() {\n          currentWidget.rebindEvents.call(currentWidget);\n          currentWidget.element.data(\"voidLoaded\", false);\n        };\n      options = options || {};\n\n      if (!values.initid) {\n        throw new Error(\"You need to set the initid to fetch the document\");\n      }\n      _.each(\n        _.pick(values, \"initid\", \"revision\", \"viewId\", \"customClientData\"),\n        function dcpDocument_setNewOptions(value, key) {\n          currentWidget.options[key] = value;\n        }\n      );\n\n      if (this.element.data(\"internalWidgetInitialised\")) {\n        internalWidget = this.element.data(\"internalWidget\");\n\n        if (options.success) {\n          // @deprecated : use promise instead\n          options.success = _.wrap(\n            options.success,\n            function dcpDocument_success(success) {\n              initWidget.apply(this, _.rest(arguments));\n              return success.apply(this, _.rest(arguments));\n            }\n          );\n        }\n        if (options.error) {\n          // @deprecated : use promise instead\n          options.error = _.wrap(options.error, function dcpDocument_error(\n            error\n          ) {\n            initWidget.apply(this, _.rest(arguments));\n            return error.apply(this, _.rest(arguments));\n          });\n        }\n        fetchPromise = internalWidget.fetchDocument.call(\n          internalWidget,\n          values,\n          options\n        );\n\n        if (!options.success) {\n          fetchPromise.then(initWidget);\n        }\n        if (!options.error) {\n          fetchPromise.catch(initWidget);\n        }\n        return fetchPromise;\n      } else {\n        this._render();\n      }\n    },\n\n    /**\n     * Add a new external event\n     * The event is added in the widget and is auto-rebinded when the internal widget is reloaded\n     *\n     * @param eventType string|object type of the widget or an object event\n     * @param options object|function conf of the event or callback\n     * @param callback function callback\n     * @returns {*}\n     */\n    addEventListener: function dcpDocument_addEventListener(\n      eventType,\n      options,\n      callback\n    ) {\n      var currentEvent,\n        currentWidget = this;\n      if (_.isUndefined(callback) && _.isFunction(options)) {\n        callback = options;\n        options = {};\n      }\n      // the first parameters can be the final object (chain removeEvent and addEvent)\n      if (\n        _.isObject(eventType) &&\n        _.isUndefined(options) &&\n        _.isUndefined(callback)\n      ) {\n        currentEvent = eventType;\n        if (!currentEvent.name) {\n          throw new Error(\n            \"When an event is initiated with a single object, this object needs to have the name property \".JSON.stringify(\n              currentEvent\n            )\n          );\n        }\n      } else {\n        currentEvent = _.defaults(options, {\n          name: _.uniqueId(\"event_\" + eventType),\n          eventType: eventType,\n          eventCallback: callback,\n          externalEvent: true,\n          once: false\n        });\n      }\n      // the eventType must be one the list\n      this._checkEventName(currentEvent.eventType);\n      if (currentEvent.once === true) {\n        currentEvent.eventCallback = _.wrap(\n          currentEvent.eventCallback,\n          function dcpDocument_onceWrapper(callback) {\n            try {\n              callback.apply(this, _.rest(arguments));\n            } catch (e) {\n              console.error(e);\n            }\n            currentWidget.removeEventListener(currentEvent.name);\n          }\n        );\n      }\n      //Remove once property because already wrapped\n      currentEvent.once = false;\n      this.options.eventListener[currentEvent.name] = currentEvent;\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        this.element.data(\"internalWidget\").addEventListener(currentEvent);\n      }\n      return currentEvent.name;\n    },\n\n    /**\n     * List of the events of the current widget\n     *\n     * @returns {*}\n     */\n    listEventListeners: function documentControllerListEvents() {\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        return this.element.data(\"internalWidget\").listEventListeners();\n      } else {\n        return this.options.eventListener;\n      }\n    },\n\n    /**\n     * Remove the event of the widget list and the internal list (if internal is ready)\n     *\n     * @param eventName\n     * @returns {Array}\n     */\n    removeEventListener: function dcpDocument_removeEventListener(eventName) {\n      var removed = [],\n        testRegExp = new RegExp(\"\\\\\" + eventName + \"$\"),\n        newList,\n        eventList;\n      newList = _.filter(\n        this.options.eventListener,\n        function dcpDocument_removeCurrentEvent(currentEvent) {\n          if (\n            currentEvent.name === eventName ||\n            testRegExp.test(currentEvent.name)\n          ) {\n            removed.push(currentEvent);\n            return false;\n          }\n          return true;\n        }\n      );\n      eventList = {};\n      _.each(newList, function dcp_documentIterateEach(currentEvent) {\n        eventList[currentEvent.name] = currentEvent;\n      });\n      this.options.eventListener = eventList;\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        this.element\n          .data(\"internalWidget\")\n          .removeEventListener(eventName, true);\n      }\n      return removed;\n    },\n\n    /**\n     * Add a constraint\n     * The constraint is added in the widget and is auto-rebinded when the internal widget is reloaded\n     *\n     * @param options\n     * @param callback\n     * @returns {*}\n     */\n    addConstraint: function dcpDocument_addConstraint(options, callback) {\n      var parameters,\n        currentWidget = this;\n      if (_.isUndefined(callback) && _.isFunction(options)) {\n        callback = options;\n        options = {};\n      }\n      if (_.isObject(options) && _.isUndefined(callback)) {\n        if (!options.name) {\n          throw new Error(\n            \"When a constraint is initiated with a single object, this object needs to have the name property \".JSON.stringify(\n              options\n            )\n          );\n        }\n      } else {\n        parameters = _.defaults(options, {\n          documentCheck: function dcpDocument_defaultDocumentCheck() {\n            return true;\n          },\n          attributeCheck: function dcpDocument_defaultAttributeCheck() {\n            return true;\n          },\n          constraintCheck: callback,\n          name: _.uniqueId(\"constraint\"),\n          externalConstraint: false,\n          once: false\n        });\n      }\n      if (!_.isFunction(parameters.constraintCheck)) {\n        throw new Error(\"An event need a callback\");\n      }\n      if (parameters.once === true) {\n        parameters.eventCallback = _.wrap(\n          parameters.constraintCheck,\n          function dcpDocument_onceWrapper(callback) {\n            try {\n              callback.apply(this, _.rest(arguments));\n            } catch (e) {\n              console.error(e);\n            }\n            currentWidget.removeConstraint(\n              parameters.name,\n              parameters.externalConstraint\n            );\n          }\n        );\n      }\n      this.options.constraintList[parameters.name] = parameters;\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        this.element.data(\"internalWidget\").addConstraint(parameters);\n      }\n      return parameters.name;\n    },\n    /**\n     * List the constraint of the widget\n     *\n     * @returns {*}\n     */\n    listConstraints: function documentControllerListConstraint() {\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        return this.element.data(\"internalWidget\").listConstraints();\n      } else {\n        return this.options.constraintList;\n      }\n    },\n    /**\n     * Remove the constraint of the widget\n     *\n     * @param constraintName\n     * @returns {Array}\n     */\n    removeConstraint: function dcpDocument_removeConstraint(constraintName) {\n      var removed = [],\n        newConstraintList,\n        constraintList,\n        testRegExp = new RegExp(\"\\\\\" + constraintName + \"$\");\n      newConstraintList = _.filter(\n        this.options.constraintList,\n        function dcpDocument_removeConstraint(currentConstraint) {\n          if (\n            currentConstraint.name === constraintName ||\n            testRegExp.test(currentConstraint.name)\n          ) {\n            removed.push(currentConstraint);\n            return false;\n          }\n          return true;\n        }\n      );\n      constraintList = {};\n      _.each(newConstraintList, function dcpDocument_reinitConstraint(\n        currentConstraint\n      ) {\n        constraintList[currentConstraint.name] = currentConstraint;\n      });\n      this.options.constraintList = constraintList;\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        this.element\n          .data(\"internalWidget\")\n          .removeConstraint(constraintName, true);\n      }\n      return removed;\n    },\n\n    isLoaded: function dcpDocument_isLoaded() {\n      return (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      );\n    },\n\n    injectCSS: function documentController_injectCSS(cssToInject) {\n      if (!_.isArray(cssToInject) && !_.isString(cssToInject)) {\n        throw new Error(\n          \"The css to inject must be an array string or a string\"\n        );\n      }\n      if (_.isString(cssToInject)) {\n        cssToInject = [cssToInject];\n      }\n\n      this.options.cssToInject = _.union(this.options.cssToInject, cssToInject);\n\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        this.element.data(\"internalWidget\").injectCSS(cssToInject);\n      }\n    },\n\n    injectJS: function documentController_injectCSS(jsToInject) {\n      if (!_.isArray(jsToInject) && !_.isString(jsToInject)) {\n        throw new Error(\"The js to inject must be an array string or a string\");\n      }\n      if (_.isString(jsToInject)) {\n        jsToInject = [jsToInject];\n      }\n\n      this.options.jsToInject = _.union(this.options.jsToInject, jsToInject);\n\n      if (\n        this.element.data(\"internalWidgetInitialised\") &&\n        !this.element.data(\"voidLoaded\")\n      ) {\n        this.element.data(\"internalWidget\").injectJS(jsToInject);\n      }\n    }\n  });\n\n  //noinspection JSValidateJSDoc\n  /**\n   * Wrap the bridge that find the function to be executed\n   * Search in the current widget if the function is here\n   * Search in the internal widget (if ready to find the widget)\n   *\n   * @type {Function|function(): Function|function(): _Chain<T>|*}\n   */\n  //noinspection JSUnresolvedVariable\n  $.fn.document = _.wrap($.fn.document, function dcpDocument_wrap(\n    initialDocumentBridge,\n    methodName\n  ) {\n    // jshint ignore:line\n    var isMethodCall, internalWidget;\n    try {\n      return initialDocumentBridge.apply(this, _.rest(arguments));\n    } catch (error) {\n      if (error.name === \"noSuchMethodError\") {\n        isMethodCall = typeof methodName === \"string\";\n        if (isMethodCall && !this.data(\"internalWidgetInitialised\")) {\n          throw new ErrorNotLoaded();\n        }\n        internalWidget = this.data(\"internalWidget\");\n        if (\n          _.isFunction(internalWidget[methodName]) &&\n          methodName.charAt(0) !== \"_\"\n        ) {\n          return internalWidget[methodName].apply(\n            internalWidget,\n            _.rest(arguments, 2)\n          );\n        }\n      }\n      throw error;\n    }\n  });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMGIyZjJjNGJhOGExNzMyNmQ1YTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmVuZG9yL0FuYWtlZW4vRE9DVU1FTlQvSUhNL2RvY3VtZW50LmpzPzdlNzUiXSwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWwgZGVmaW5lLCBjb25zb2xlKi9cbihmdW5jdGlvbiB1bWRSZXF1aXJlKHJvb3QsIGZhY3RvcnkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFtcImpxdWVyeVwiLCBcInVuZGVyc2NvcmVcIiwgXCJkY3BEb2N1bWVudC93aWRnZXRzL3dpZGdldFwiXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeSh3aW5kb3cualF1ZXJ5LCB3aW5kb3cuXyk7XG4gIH1cbn0pKHdpbmRvdywgZnVuY3Rpb24gcmVxdWlyZV9kb2N1bWVudCgkLCBfKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBldmVudExpc3QgPSBbXG4gICAgXCJiZWZvcmVSZW5kZXJcIixcbiAgICBcInJlYWR5XCIsXG4gICAgXCJjaGFuZ2VcIixcbiAgICBcImRpc3BsYXlNZXNzYWdlXCIsXG4gICAgXCJkaXNwbGF5RXJyb3JcIixcbiAgICBcInZhbGlkYXRlXCIsXG4gICAgXCJhdHRyaWJ1dGVCZWZvcmVSZW5kZXJcIixcbiAgICBcImF0dHJpYnV0ZVJlYWR5XCIsXG4gICAgXCJhdHRyaWJ1dGVIZWxwZXJTZWFyY2hcIixcbiAgICBcImF0dHJpYnV0ZUhlbHBlclJlc3BvbnNlXCIsXG4gICAgXCJhdHRyaWJ1dGVIZWxwZXJTZWxlY3RcIixcbiAgICBcImF0dHJpYnV0ZUFycmF5Q2hhbmdlXCIsXG4gICAgXCJhY3Rpb25DbGlja1wiLFxuICAgIFwiYXR0cmlidXRlQW5jaG9yQ2xpY2tcIixcbiAgICBcImJlZm9yZUNsb3NlXCIsXG4gICAgXCJjbG9zZVwiLFxuICAgIFwiYmVmb3JlU2F2ZVwiLFxuICAgIFwiYWZ0ZXJTYXZlXCIsXG4gICAgXCJhdHRyaWJ1dGVEb3dubG9hZEZpbGVcIixcbiAgICBcImF0dHJpYnV0ZVVwbG9hZEZpbGVcIixcbiAgICBcImF0dHJpYnV0ZVVwbG9hZEZpbGVEb25lXCIsXG4gICAgXCJiZWZvcmVEZWxldGVcIixcbiAgICBcImFmdGVyRGVsZXRlXCIsXG4gICAgXCJiZWZvcmVSZXN0b3JlXCIsXG4gICAgXCJhZnRlclJlc3RvcmVcIixcbiAgICBcImF0dHJpYnV0ZUJlZm9yZVRhYlNlbGVjdFwiLFxuICAgIFwiYXR0cmlidXRlQWZ0ZXJUYWJTZWxlY3RcIixcbiAgICBcImF0dHJpYnV0ZVRhYkNoYW5nZVwiLFxuICAgIFwiZmFpbFRyYW5zaXRpb25cIixcbiAgICBcInN1Y2Nlc3NUcmFuc2l0aW9uXCIsXG4gICAgXCJiZWZvcmVEaXNwbGF5VHJhbnNpdGlvblwiLFxuICAgIFwiYWZ0ZXJEaXNwbGF5VHJhbnNpdGlvblwiLFxuICAgIFwiYmVmb3JlVHJhbnNpdGlvblwiLFxuICAgIFwiYmVmb3JlVHJhbnNpdGlvbkNsb3NlXCIsXG4gICAgXCJkZXN0cm95XCIsXG4gICAgXCJhdHRyaWJ1dGVDcmVhdGVEaWFsb2dEb2N1bWVudEJlZm9yZVNldEZvcm1WYWx1ZXNcIixcbiAgICBcImF0dHJpYnV0ZUNyZWF0ZURpYWxvZ0RvY3VtZW50QmVmb3JlU2V0VGFyZ2V0VmFsdWVcIixcbiAgICBcImF0dHJpYnV0ZUNyZWF0ZURpYWxvZ0RvY3VtZW50UmVhZHlcIixcbiAgICBcImF0dHJpYnV0ZUNyZWF0ZURpYWxvZ0RvY3VtZW50QmVmb3JlQ2xvc2VcIixcbiAgICBcImF0dHJpYnV0ZUNyZWF0ZURpYWxvZ0RvY3VtZW50QmVmb3JlRGVzdHJveVwiXG4gIF07XG5cbiAgLy9DcmVhdGUgYSBuZXcga2luZCBvZiBldmVudFxuICB2YXIgRXJyb3JOb3RMb2FkZWQgPSBmdW5jdGlvbiBkY3BEb2N1bWVudF9FcnJvck5vdExvYWRlZChtZXNzYWdlKSB7XG4gICAgdGhpcy5uYW1lID0gXCJXaWRnZXREb2N1bWVudE5vdExvYWRlZFwiO1xuICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICBtZXNzYWdlIHx8XG4gICAgICBcIlRoZSBkb2N1bWVudCB3aWRnZXQgaXMgbm90IGxvYWRlZCwgd2FpdCBmb3IgdGhlIGRvY3VtZW50bG9hZGVkIGV2ZW50XCI7XG4gIH07XG4gIEVycm9yTm90TG9hZGVkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgRXJyb3JOb3RMb2FkZWQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRXJyb3JOb3RMb2FkZWQ7XG5cbiAgJC53aWRnZXQoXCJkY3AuZG9jdW1lbnRcIiwge1xuICAgIF90ZW1wbGF0ZTogXy50ZW1wbGF0ZShcbiAgICAgICc8aWZyYW1lIGNsYXNzPVwiZGNwRG9jdW1lbnRXcmFwcGVyXCIgbmFtZT1cIjwlLSBvcHRpb25zLmlmcmFtZU5hbWUgJT5cIiBzdHlsZT1cImJvcmRlciA6IDA7XCIgZGF0YS1zcmM9XCI8JS0gYmFzZSAlPmFwaS92Mi9kb2N1bWVudHMvMC5odG1sI3dpZGdldFZhbHVlPCUtIG9wdGlvbnMuanNvbl9lbmNvZGUgJT5cIj48L2lmcmFtZT4nXG4gICAgKSxcblxuICAgIGRlZmF1bHRzOiB7XG4gICAgICByZXNpemVNYXJnaW5IZWlnaHQ6IDMsXG4gICAgICByZXNpemVNYXJnaW5XaWR0aDogMCxcbiAgICAgIHJlc2l6ZURlYm91bmNlVGltZTogNTAsXG4gICAgICB3aXRob3V0UmVzaXplOiBmYWxzZSxcbiAgICAgIGlmcmFtZU5hbWU6IF8udW5pcXVlSWQoXCJkb2N1bWVudEZyYW1lXCIpLFxuICAgICAgbm9Sb3V0ZXI6IHRydWUsXG4gICAgICBldmVudFByZWZpeDogXCJkb2N1bWVudFwiXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgd2lkZ2V0XG4gICAgICpcbiAgICAgKiBDaGVjayBpZiBpbml0aWQgaXMgcHJlc2VudFxuICAgICAqL1xuICAgIF9jcmVhdGU6IGZ1bmN0aW9uIGRjcERvY3VtZW50X2NyZWF0ZSgpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy5vcHRpb25zLmV2ZW50TGlzdGVuZXIgPSB7fTtcbiAgICAgIHRoaXMub3B0aW9ucy5jb25zdHJhaW50TGlzdCA9IHt9O1xuICAgICAgdGhpcy5vcHRpb25zLmNzc1RvSW5qZWN0ID0gW107XG4gICAgICB0aGlzLm9wdGlvbnMuanNUb0luamVjdCA9IFtdO1xuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgaWZyYW1lIHdpdGggdGhlIGNvbnRlbnQgYW5kIHJlZ2lzdGVyIHRvIGxvYWQgZXZlbnRcbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbiBkY3BEb2N1bWVudF9yZW5kZXIoKSB7XG4gICAgICB2YXIgJGlmcmFtZSxcbiAgICAgICAgY3VycmVudFdpZGdldCA9IHRoaXMsXG4gICAgICAgIGRvY3VtZW50V2luZG93LFxuICAgICAgICBvcHRpb25zX2VuY29kZTtcbiAgICAgIC8vaW5qZWN0IHRoZSBpZnJhbWVcbiAgICAgIG9wdGlvbnNfZW5jb2RlID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIF8ub21pdChcbiAgICAgICAgICB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgXCJyZXNpemVNYXJnaW5IZWlnaHRcIixcbiAgICAgICAgICBcInJlc2l6ZU1hcmdpbldpZHRoXCIsXG4gICAgICAgICAgXCJyZXNpemVEZWJvdW5jZVRpbWVcIixcbiAgICAgICAgICBcIndpdGhvdXRSZXNpemVcIixcbiAgICAgICAgICBcImlmcmFtZU5hbWVcIixcbiAgICAgICAgICBcImV2ZW50UHJlZml4XCIsXG4gICAgICAgICAgXCJldmVudExpc3RlbmVyXCIsXG4gICAgICAgICAgXCJjb25zdHJhaW50TGlzdFwiXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLmVsZW1lbnQuZW1wdHkoKS5hcHBlbmQoXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlKHtcbiAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBpZnJhbWVOYW1lOiB0aGlzLm9wdGlvbnMuaWZyYW1lTmFtZSxcbiAgICAgICAgICAgIGpzb25fZW5jb2RlOiBvcHRpb25zX2VuY29kZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYmFzZTogJChcImJhc2VcIikuYXR0cihcImhyZWZcIikgfHwgXCJcIlxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIC8vYmluZCB0aGUgaW50ZXJuYWwgY29udHJvbGxlciB0byB0aGUgZG9jdW1lbnRXaWRnZXRcbiAgICAgICRpZnJhbWUgPSB0aGlzLmVsZW1lbnQuZmluZChcIi5kY3BEb2N1bWVudFdyYXBwZXJcIik7XG4gICAgICAvL0xpc3RlbiB0aGUgbG9hZCB0byB0aGUgaWZyYW1lIChpbml0aWFsIEpTIGFkZGVkIGFuZCBwYWdlIGxvYWRlZClcblxuICAgICAgaWYgKCRpZnJhbWUubGVuZ3RoID4gMCkge1xuICAgICAgICBkb2N1bWVudFdpbmRvdyA9ICRpZnJhbWVbMF0uY29udGVudFdpbmRvdztcbiAgICAgICAgLy9Vc2UgdGhpcyB3YXkgdG8gc2V0IHVybCBmb3IgZmlyZWZveCAod2hlbiB0aGUgZG9jdW1lbnQgaXMgaW4gaWZyYW1lIGluIGFub3RoZXIgZG9jdW1lbnQpXG4gICAgICAgIGRvY3VtZW50V2luZG93LmxvY2F0aW9uLmhyZWYgPSAkaWZyYW1lLmRhdGEoXCJzcmNcIik7XG4gICAgICAgIC8vIFRoaXMgZXZlbnQgaXMgdXNlZCB3aGVuIHVzZSBhIGhhcmQgbGluayAoYWthIGhyZWYgYW5jaG9yKSB0byBjaGFuZ2UgZG9jdW1lbnRcbiAgICAgICAgLy8gSXQgaXMgbG9hZCBhbHNvIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICRpZnJhbWUub24oXCJsb2FkXCIsIGZ1bmN0aW9uIGRjcERvY3VtZW50X3NldFJlYWR5RXZlbnQoKSB7XG4gICAgICAgICAgZG9jdW1lbnRXaW5kb3cuZG9jdW1lbnRMb2FkZWQgPSBmdW5jdGlvbiBkY3BEb2N1bWVudF9sb2FkZWRDYWxsYmFjayhcbiAgICAgICAgICAgIGRvbU5vZGUsXG4gICAgICAgICAgICB2aWV3RGF0YVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gUmUgQmluZCB0aGUgaW50ZXJuYWxDb250cm9sbGVyIGZ1bmN0aW9uIHRvIHRoZSBjdXJyZW50IHdpZGdldFxuICAgICAgICAgICAgY3VycmVudFdpZGdldC5fYmluZEludGVybmFsV2lkZ2V0LmNhbGwoXG4gICAgICAgICAgICAgIGN1cnJlbnRXaWRnZXQsXG4gICAgICAgICAgICAgIGRvbU5vZGUuZGF0YShcImRjcERvY3VtZW50Q29udHJvbGxlclwiKSxcbiAgICAgICAgICAgICAgdmlld0RhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyB2b2lkTG9hZGVkIGlzIHRydWUgd2hlbiBkb2N1bWVudCAwIGlzIGxvYWRlZFxuICAgICAgICAgICAgY3VycmVudFdpZGdldC5lbGVtZW50LmRhdGEoXG4gICAgICAgICAgICAgIFwidm9pZExvYWRlZFwiLFxuICAgICAgICAgICAgICAhdmlld0RhdGEgfHwgIXZpZXdEYXRhLmluaXRpZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJChkb2N1bWVudFdpbmRvdykub24oXCJ1bmxvYWRcIiwgZnVuY3Rpb24gZGNwRG9jdW1lbnRfc2V0VW5sb2FkRXZlbnQoKSB7XG4gICAgICAgICAgICBjdXJyZW50V2lkZ2V0Ll91bmJpbmRJbnRlcm5hbFdpZGdldC5jYWxsKGN1cnJlbnRXaWRnZXQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGRvY3VtZW50V2luZG93LmRjcCAmJlxuICAgICAgICAgICAgZG9jdW1lbnRXaW5kb3cuZGNwLnRyaWdnZXJSZWxvYWQgJiZcbiAgICAgICAgICAgIGRvY3VtZW50V2luZG93LmRjcC5kb2N1bWVudFJlYWR5ID09PSBmYWxzZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZG9jdW1lbnRXaW5kb3cuZGNwLnRyaWdnZXJSZWxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVzaXplKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1cHByZXNzIGludGVybmFsIHdpZGdldCByZWZlcmVuY2VcbiAgICAgKi9cbiAgICBfdW5iaW5kSW50ZXJuYWxXaWRnZXQ6IGZ1bmN0aW9uIGRjcERvY3VtZW50X3VuYmluZEludGVybmFsV2lkZ2V0KCkge1xuICAgICAgdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldEluaXRpYWxpc2VkXCIsIGZhbHNlKTtcbiAgICAgIHRoaXMuZWxlbWVudC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRcIiwgZmFsc2UpO1xuICAgICAgdGhpcy5fdHJpZ2dlcihcImludGVybmFsV2lkZ2V0VW5sb2FkZWRcIik7XG4gICAgICB0aGlzLl90cmlnZ2VyKFwidW5sb2FkZWRcIik7XG4gICAgfSxcblxuICAgIHJlYmluZEV2ZW50czogZnVuY3Rpb24gZGNwRG9jdW1lbnRfcmViaW5kRXZlbnRzKCkge1xuICAgICAgdmFyIGludGVybmFsQ29udHJvbGxlciA9IHRoaXMuZWxlbWVudC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRcIik7XG4gICAgICBpZiAoaW50ZXJuYWxDb250cm9sbGVyKSB7XG4gICAgICAgIC8vUmViaW5kIGV2ZW50XG4gICAgICAgIF8uZWFjaCh0aGlzLm9wdGlvbnMuZXZlbnRMaXN0ZW5lciwgZnVuY3Rpb24gZGNwRG9jdW1lbnRfYmluZEV2ZW50KFxuICAgICAgICAgIGN1cnJlbnRFdmVudFxuICAgICAgICApIHtcbiAgICAgICAgICBpbnRlcm5hbENvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcihjdXJyZW50RXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy9SZWJpbmQgY29uc3RyYWludFxuICAgICAgICBfLmVhY2godGhpcy5vcHRpb25zLmNvbnN0cmFpbnRMaXN0LCBmdW5jdGlvbiBkY3BEb2N1bWVudF9iaW5kRXZlbnQoXG4gICAgICAgICAgY3VycmVudENvbnN0YWludFxuICAgICAgICApIHtcbiAgICAgICAgICBpbnRlcm5hbENvbnRyb2xsZXIuYWRkQ29uc3RyYWludChjdXJyZW50Q29uc3RhaW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlaW5qZWN0Q1NTQW5kSlM6IGZ1bmN0aW9uIGRjcERvY3VtZW50X3JlaW5qZWN0Q1NTQW5kSlMoKSB7XG4gICAgICB2YXIgaW50ZXJuYWxDb250cm9sbGVyID0gdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldFwiKTtcbiAgICAgIGlmIChpbnRlcm5hbENvbnRyb2xsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbnRlcm5hbENvbnRyb2xsZXIuaW5qZWN0Q1NTKHRoaXMub3B0aW9ucy5jc3NUb0luamVjdCk7XG4gICAgICAgICAgaW50ZXJuYWxDb250cm9sbGVyLmluamVjdEpTKHRoaXMub3B0aW9ucy5qc1RvSW5qZWN0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZCB0aGUgaW50ZXJuYWwgY29udHJvbGxlciB0byB0aGUgY3VycmVudCB3aWRnZXRcbiAgICAgKiBSZWluaXQgdGhlIGNvbnN0cmFpbnQgYW5kIHRoZSBldmVudFxuICAgICAqXG4gICAgICogQHBhcmFtIGludGVybmFsQ29udHJvbGxlclxuICAgICAqIEBwYXJhbSB2b2lkTG9hZGVkXG4gICAgICovXG4gICAgX2JpbmRJbnRlcm5hbFdpZGdldDogZnVuY3Rpb24gZGNwRG9jdW1lbnRfYmluZEludGVybmFsV2lkZ2V0KFxuICAgICAgaW50ZXJuYWxDb250cm9sbGVyLFxuICAgICAgdm9pZExvYWRlZFxuICAgICkge1xuICAgICAgdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldFwiLCBpbnRlcm5hbENvbnRyb2xsZXIpO1xuICAgICAgaWYgKCF2b2lkTG9hZGVkKSB7XG4gICAgICAgIHRoaXMucmViaW5kRXZlbnRzKCk7XG4gICAgICAgIHRoaXMucmVpbmplY3RDU1NBbmRKUygpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldEluaXRpYWxpc2VkXCIsIHRydWUpO1xuICAgICAgaWYgKHZvaWRMb2FkZWQpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlcihcImxvYWRlZFwiLCB7fSwgeyBpc0VtcHR5OiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHRoaXMuX3RyaWdnZXIoXCJsb2FkZWRcIik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIHJlc2l6ZSBldmVudFxuICAgICAqL1xuICAgIF9iaW5kRXZlbnRzOiBmdW5jdGlvbiBkY3BEb2N1bWVudF9iaW5kRXZlbnRzKCkge1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMud2l0aG91dFJlc2l6ZSkge1xuICAgICAgICAkKHdpbmRvdykub24oXG4gICAgICAgICAgXCJyZXNpemVcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsXG4gICAgICAgICAgXy5kZWJvdW5jZShcbiAgICAgICAgICAgIF8uYmluZCh0aGlzLl9yZXNpemUsIHRoaXMpLFxuICAgICAgICAgICAgcGFyc2VJbnQodGhpcy5vcHRpb25zLnJlc2l6ZURlYm91bmNlVGltZSwgMTApXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9yZXNpemUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgc2l6ZSBvZiB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgX3Jlc2l6ZTogZnVuY3Rpb24gZGNwRG9jdW1lbnRfcmVzaXplKCkge1xuICAgICAgdmFyIGV2ZW50ID0gdGhpcy5fdHJpZ2dlcihcImF1dG9yZXNpemVcIiksXG4gICAgICAgICRkb2N1bWVudFdyYXBwZXIgPSB0aGlzLmVsZW1lbnQuZmluZChcIi5kY3BEb2N1bWVudFdyYXBwZXJcIiksXG4gICAgICAgIGN1cnJlbnRXaWRnZXQgPSB0aGlzLFxuICAgICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgLy90aGUgY29tcHV0YXRpb24gY2FuIGJlIGRvbmUgYnkgYW4gZXh0ZXJuYWwgZnVuY3Rpb24gYW5kIGRlZmF1bHQgcHJldmVudGVkXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy53aXRob3V0UmVzaXplICYmIGV2ZW50KSB7XG4gICAgICAgIC8vY29tcHV0ZSB0d28gdGltZXMgaGVpZ2h0IChvbmUgZm9yIGRpc2FwZWFyIGhvcml6b250YWwgc2Nyb2xsYmFyLCB0d28gdG8gZ2V0IHRoZSBhY3R1YWwgc2l6ZSlcbiAgICAgICAgLy9ub2luc3BlY3Rpb24gSlNWYWxpZGF0ZVR5cGVzXG4gICAgICAgICRkb2N1bWVudFdyYXBwZXIuaGVpZ2h0KFxuICAgICAgICAgIGVsZW1lbnQuaW5uZXJIZWlnaHQoKSAtXG4gICAgICAgICAgICBwYXJzZUludChjdXJyZW50V2lkZ2V0Lm9wdGlvbnMucmVzaXplTWFyZ2luSGVpZ2h0LCAxMClcbiAgICAgICAgKTtcbiAgICAgICAgLy9ub2luc3BlY3Rpb24gSlNWYWxpZGF0ZVR5cGVzXG4gICAgICAgICRkb2N1bWVudFdyYXBwZXIud2lkdGgoXG4gICAgICAgICAgZWxlbWVudC5pbm5lcldpZHRoKCkgLVxuICAgICAgICAgICAgcGFyc2VJbnQoY3VycmVudFdpZGdldC5vcHRpb25zLnJlc2l6ZU1hcmdpbldpZHRoLCAxMClcbiAgICAgICAgKTtcbiAgICAgICAgLy9kZWZlciBoZWlnaHQgY29tcHV0YXRpb24gdG8gbGV0IHRoZSB0aW1lIHRvIHNjcm9sbGJhciBkaXNhcGVhclxuICAgICAgICBfLmRlZmVyKGZ1bmN0aW9uIGRjcERvY3VtZW50X2NvbXB1dGVIZWlnaHQoKSB7XG4gICAgICAgICAgLy9ub2luc3BlY3Rpb24gSlNWYWxpZGF0ZVR5cGVzXG4gICAgICAgICAgJGRvY3VtZW50V3JhcHBlci5oZWlnaHQoXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySGVpZ2h0KCkgLVxuICAgICAgICAgICAgICBwYXJzZUludChjdXJyZW50V2lkZ2V0Lm9wdGlvbnMucmVzaXplTWFyZ2luSGVpZ2h0LCAxMClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdHJ5VG9EZXN0cm95OiBmdW5jdGlvbiBkY3BEb2N1bWVudF90cnlUb0Rlc3Ryb3koKSB7XG4gICAgICB2YXIgY3VycmVudFdpZGdldCA9IHRoaXM7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGNwRG9jdW1lbnRfdHJ5VG9EZXN0cm95X3Byb21pc2UoXG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIHJlamVjdFxuICAgICAgKSB7XG4gICAgICAgIHZhciBpbnRlcm5hbFdpZGdldDtcbiAgICAgICAgaWYgKGN1cnJlbnRXaWRnZXQuaXNMb2FkZWQoKSkge1xuICAgICAgICAgIGludGVybmFsV2lkZ2V0ID0gY3VycmVudFdpZGdldC5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldFwiKTtcbiAgICAgICAgICBpbnRlcm5hbFdpZGdldFxuICAgICAgICAgICAgLnRyeVRvRGVzdHJveSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiBkY3BEb2N1bWVudF9kZXN0cm95X3RoZW4oKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgY3VycmVudFdpZGdldC5fZGVzdHJveSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiBkY3BEb2N1bWVudF9kZXN0cm95X2NhdGNoKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICByZWplY3QoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIGN1cnJlbnRXaWRnZXQuX2Rlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB3aWRnZXRcbiAgICAgKi9cbiAgICBfZGVzdHJveTogZnVuY3Rpb24gZGNwRG9jdW1lbnRfZGVzdHJveSgpIHtcbiAgICAgICQod2luZG93KS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSk7XG4gICAgICB0aGlzLmVsZW1lbnQuZW1wdHkoKTtcbiAgICAgIHRoaXMuX3VuYmluZEludGVybmFsV2lkZ2V0KCk7XG4gICAgICB0aGlzLl90cmlnZ2VyKFwiZGVzdHJveVwiKTtcbiAgICAgIHRoaXMuX3N1cGVyKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGV2ZW50IG5hbWUgaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudE5hbWUgc3RyaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2hlY2tFdmVudE5hbWU6IGZ1bmN0aW9uIGRvY3VtZW50Q29udHJvbGxlcl9jaGVja0V2ZW50TmFtZShldmVudE5hbWUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXy5pc1N0cmluZyhldmVudE5hbWUpICYmXG4gICAgICAgIChldmVudE5hbWUuaW5kZXhPZihcImN1c3RvbTpcIikgPT09IDAgfHxcbiAgICAgICAgICBfLmZpbmQoZXZlbnRMaXN0LCBmdW5jdGlvbiBkb2N1bWVudENvbnRyb2xsZXJfQ2hlY2tFdmVudFR5cGUoXG4gICAgICAgICAgICBjdXJyZW50RXZlbnRUeXBlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEV2ZW50VHlwZSA9PT0gZXZlbnROYW1lO1xuICAgICAgICAgIH0pKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBldmVudCB0eXBlIFwiICtcbiAgICAgICAgICBldmVudE5hbWUgK1xuICAgICAgICAgIFwiIGlzIG5vdCBrbm93bi4gSXQgbXVzdCBiZSBvbmUgb2YgXCIgK1xuICAgICAgICAgIGV2ZW50TGlzdC5qb2luKFwiICxcIilcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBvcHRpb25zXG4gICAgICovXG4gICAgb3B0aW9uczogZnVuY3Rpb24gZGNwRG9jdW1lbnRfb3B0aW9ucygpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJZb3UgY2Fubm90IG1vZGlmeSB0aGUgb3B0aW9ucywgeW91IG5lZWQgdG8gc3VwcHJlc3MgdGhlIHdpZGdldFwiXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGZXRjaCBhIG5ldyBkb2N1bWVudFxuICAgICAqXG4gICAgICogVXNlIGludGVybmFsIGNvbnRyb2xsZXIgaWYgcmVhZHlcbiAgICAgKiBSZS1yZW5kZXIgdGhlIHdpZGdldCBpZiBpbnRlcm5hbCBpcyBub3QgcmVhZHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZldGNoRG9jdW1lbnQ6IGZ1bmN0aW9uIGRjcERvY3VtZW50X2ZldGNoRG9jdW1lbnQodmFsdWVzLCBvcHRpb25zKSB7XG4gICAgICB2YXIgaW50ZXJuYWxXaWRnZXQsXG4gICAgICAgIGN1cnJlbnRXaWRnZXQgPSB0aGlzLFxuICAgICAgICBmZXRjaFByb21pc2UgPSBudWxsLFxuICAgICAgICBpbml0V2lkZ2V0ID0gZnVuY3Rpb24gZHBjRG9jdW1lbnRfc3VjY2Vzc1dpZGdldCgpIHtcbiAgICAgICAgICBjdXJyZW50V2lkZ2V0LnJlYmluZEV2ZW50cy5jYWxsKGN1cnJlbnRXaWRnZXQpO1xuICAgICAgICAgIGN1cnJlbnRXaWRnZXQuZWxlbWVudC5kYXRhKFwidm9pZExvYWRlZFwiLCBmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgaWYgKCF2YWx1ZXMuaW5pdGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBuZWVkIHRvIHNldCB0aGUgaW5pdGlkIHRvIGZldGNoIHRoZSBkb2N1bWVudFwiKTtcbiAgICAgIH1cbiAgICAgIF8uZWFjaChcbiAgICAgICAgXy5waWNrKHZhbHVlcywgXCJpbml0aWRcIiwgXCJyZXZpc2lvblwiLCBcInZpZXdJZFwiLCBcImN1c3RvbUNsaWVudERhdGFcIiksXG4gICAgICAgIGZ1bmN0aW9uIGRjcERvY3VtZW50X3NldE5ld09wdGlvbnModmFsdWUsIGtleSkge1xuICAgICAgICAgIGN1cnJlbnRXaWRnZXQub3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0SW5pdGlhbGlzZWRcIikpIHtcbiAgICAgICAgaW50ZXJuYWxXaWRnZXQgPSB0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0XCIpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAvLyBAZGVwcmVjYXRlZCA6IHVzZSBwcm9taXNlIGluc3RlYWRcbiAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MgPSBfLndyYXAoXG4gICAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MsXG4gICAgICAgICAgICBmdW5jdGlvbiBkY3BEb2N1bWVudF9zdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgaW5pdFdpZGdldC5hcHBseSh0aGlzLCBfLnJlc3QoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzLmFwcGx5KHRoaXMsIF8ucmVzdChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgLy8gQGRlcHJlY2F0ZWQgOiB1c2UgcHJvbWlzZSBpbnN0ZWFkXG4gICAgICAgICAgb3B0aW9ucy5lcnJvciA9IF8ud3JhcChvcHRpb25zLmVycm9yLCBmdW5jdGlvbiBkY3BEb2N1bWVudF9lcnJvcihcbiAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbml0V2lkZ2V0LmFwcGx5KHRoaXMsIF8ucmVzdChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvci5hcHBseSh0aGlzLCBfLnJlc3QoYXJndW1lbnRzKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmV0Y2hQcm9taXNlID0gaW50ZXJuYWxXaWRnZXQuZmV0Y2hEb2N1bWVudC5jYWxsKFxuICAgICAgICAgIGludGVybmFsV2lkZ2V0LFxuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBmZXRjaFByb21pc2UudGhlbihpbml0V2lkZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICBmZXRjaFByb21pc2UuY2F0Y2goaW5pdFdpZGdldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoUHJvbWlzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgZXh0ZXJuYWwgZXZlbnRcbiAgICAgKiBUaGUgZXZlbnQgaXMgYWRkZWQgaW4gdGhlIHdpZGdldCBhbmQgaXMgYXV0by1yZWJpbmRlZCB3aGVuIHRoZSBpbnRlcm5hbCB3aWRnZXQgaXMgcmVsb2FkZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudFR5cGUgc3RyaW5nfG9iamVjdCB0eXBlIG9mIHRoZSB3aWRnZXQgb3IgYW4gb2JqZWN0IGV2ZW50XG4gICAgICogQHBhcmFtIG9wdGlvbnMgb2JqZWN0fGZ1bmN0aW9uIGNvbmYgb2YgdGhlIGV2ZW50IG9yIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gZGNwRG9jdW1lbnRfYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIGV2ZW50VHlwZSxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjYWxsYmFja1xuICAgICkge1xuICAgICAgdmFyIGN1cnJlbnRFdmVudCxcbiAgICAgICAgY3VycmVudFdpZGdldCA9IHRoaXM7XG4gICAgICBpZiAoXy5pc1VuZGVmaW5lZChjYWxsYmFjaykgJiYgXy5pc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgLy8gdGhlIGZpcnN0IHBhcmFtZXRlcnMgY2FuIGJlIHRoZSBmaW5hbCBvYmplY3QgKGNoYWluIHJlbW92ZUV2ZW50IGFuZCBhZGRFdmVudClcbiAgICAgIGlmIChcbiAgICAgICAgXy5pc09iamVjdChldmVudFR5cGUpICYmXG4gICAgICAgIF8uaXNVbmRlZmluZWQob3B0aW9ucykgJiZcbiAgICAgICAgXy5pc1VuZGVmaW5lZChjYWxsYmFjaylcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50RXZlbnQgPSBldmVudFR5cGU7XG4gICAgICAgIGlmICghY3VycmVudEV2ZW50Lm5hbWUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIldoZW4gYW4gZXZlbnQgaXMgaW5pdGlhdGVkIHdpdGggYSBzaW5nbGUgb2JqZWN0LCB0aGlzIG9iamVjdCBuZWVkcyB0byBoYXZlIHRoZSBuYW1lIHByb3BlcnR5IFwiLkpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICBjdXJyZW50RXZlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50RXZlbnQgPSBfLmRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgICAgICBuYW1lOiBfLnVuaXF1ZUlkKFwiZXZlbnRfXCIgKyBldmVudFR5cGUpLFxuICAgICAgICAgIGV2ZW50VHlwZTogZXZlbnRUeXBlLFxuICAgICAgICAgIGV2ZW50Q2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgIGV4dGVybmFsRXZlbnQ6IHRydWUsXG4gICAgICAgICAgb25jZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyB0aGUgZXZlbnRUeXBlIG11c3QgYmUgb25lIHRoZSBsaXN0XG4gICAgICB0aGlzLl9jaGVja0V2ZW50TmFtZShjdXJyZW50RXZlbnQuZXZlbnRUeXBlKTtcbiAgICAgIGlmIChjdXJyZW50RXZlbnQub25jZSA9PT0gdHJ1ZSkge1xuICAgICAgICBjdXJyZW50RXZlbnQuZXZlbnRDYWxsYmFjayA9IF8ud3JhcChcbiAgICAgICAgICBjdXJyZW50RXZlbnQuZXZlbnRDYWxsYmFjayxcbiAgICAgICAgICBmdW5jdGlvbiBkY3BEb2N1bWVudF9vbmNlV3JhcHBlcihjYWxsYmFjaykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgXy5yZXN0KGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFdpZGdldC5yZW1vdmVFdmVudExpc3RlbmVyKGN1cnJlbnRFdmVudC5uYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvL1JlbW92ZSBvbmNlIHByb3BlcnR5IGJlY2F1c2UgYWxyZWFkeSB3cmFwcGVkXG4gICAgICBjdXJyZW50RXZlbnQub25jZSA9IGZhbHNlO1xuICAgICAgdGhpcy5vcHRpb25zLmV2ZW50TGlzdGVuZXJbY3VycmVudEV2ZW50Lm5hbWVdID0gY3VycmVudEV2ZW50O1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0SW5pdGlhbGlzZWRcIikgJiZcbiAgICAgICAgIXRoaXMuZWxlbWVudC5kYXRhKFwidm9pZExvYWRlZFwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRcIikuYWRkRXZlbnRMaXN0ZW5lcihjdXJyZW50RXZlbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cnJlbnRFdmVudC5uYW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHRoZSBldmVudHMgb2YgdGhlIGN1cnJlbnQgd2lkZ2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBsaXN0RXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uIGRvY3VtZW50Q29udHJvbGxlckxpc3RFdmVudHMoKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZWxlbWVudC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRJbml0aWFsaXNlZFwiKSAmJlxuICAgICAgICAhdGhpcy5lbGVtZW50LmRhdGEoXCJ2b2lkTG9hZGVkXCIpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRcIikubGlzdEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmV2ZW50TGlzdGVuZXI7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZXZlbnQgb2YgdGhlIHdpZGdldCBsaXN0IGFuZCB0aGUgaW50ZXJuYWwgbGlzdCAoaWYgaW50ZXJuYWwgaXMgcmVhZHkpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIGRjcERvY3VtZW50X3JlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lKSB7XG4gICAgICB2YXIgcmVtb3ZlZCA9IFtdLFxuICAgICAgICB0ZXN0UmVnRXhwID0gbmV3IFJlZ0V4cChcIlxcXFxcIiArIGV2ZW50TmFtZSArIFwiJFwiKSxcbiAgICAgICAgbmV3TGlzdCxcbiAgICAgICAgZXZlbnRMaXN0O1xuICAgICAgbmV3TGlzdCA9IF8uZmlsdGVyKFxuICAgICAgICB0aGlzLm9wdGlvbnMuZXZlbnRMaXN0ZW5lcixcbiAgICAgICAgZnVuY3Rpb24gZGNwRG9jdW1lbnRfcmVtb3ZlQ3VycmVudEV2ZW50KGN1cnJlbnRFdmVudCkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGN1cnJlbnRFdmVudC5uYW1lID09PSBldmVudE5hbWUgfHxcbiAgICAgICAgICAgIHRlc3RSZWdFeHAudGVzdChjdXJyZW50RXZlbnQubmFtZSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaChjdXJyZW50RXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGV2ZW50TGlzdCA9IHt9O1xuICAgICAgXy5lYWNoKG5ld0xpc3QsIGZ1bmN0aW9uIGRjcF9kb2N1bWVudEl0ZXJhdGVFYWNoKGN1cnJlbnRFdmVudCkge1xuICAgICAgICBldmVudExpc3RbY3VycmVudEV2ZW50Lm5hbWVdID0gY3VycmVudEV2ZW50O1xuICAgICAgfSk7XG4gICAgICB0aGlzLm9wdGlvbnMuZXZlbnRMaXN0ZW5lciA9IGV2ZW50TGlzdDtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldEluaXRpYWxpc2VkXCIpICYmXG4gICAgICAgICF0aGlzLmVsZW1lbnQuZGF0YShcInZvaWRMb2FkZWRcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVsZW1lbnRcbiAgICAgICAgICAuZGF0YShcImludGVybmFsV2lkZ2V0XCIpXG4gICAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50XG4gICAgICogVGhlIGNvbnN0cmFpbnQgaXMgYWRkZWQgaW4gdGhlIHdpZGdldCBhbmQgaXMgYXV0by1yZWJpbmRlZCB3aGVuIHRoZSBpbnRlcm5hbCB3aWRnZXQgaXMgcmVsb2FkZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgYWRkQ29uc3RyYWludDogZnVuY3Rpb24gZGNwRG9jdW1lbnRfYWRkQ29uc3RyYWludChvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHBhcmFtZXRlcnMsXG4gICAgICAgIGN1cnJlbnRXaWRnZXQgPSB0aGlzO1xuICAgICAgaWYgKF8uaXNVbmRlZmluZWQoY2FsbGJhY2spICYmIF8uaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGlmIChfLmlzT2JqZWN0KG9wdGlvbnMpICYmIF8uaXNVbmRlZmluZWQoY2FsbGJhY2spKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJXaGVuIGEgY29uc3RyYWludCBpcyBpbml0aWF0ZWQgd2l0aCBhIHNpbmdsZSBvYmplY3QsIHRoaXMgb2JqZWN0IG5lZWRzIHRvIGhhdmUgdGhlIG5hbWUgcHJvcGVydHkgXCIuSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbWV0ZXJzID0gXy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICAgICAgZG9jdW1lbnRDaGVjazogZnVuY3Rpb24gZGNwRG9jdW1lbnRfZGVmYXVsdERvY3VtZW50Q2hlY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGF0dHJpYnV0ZUNoZWNrOiBmdW5jdGlvbiBkY3BEb2N1bWVudF9kZWZhdWx0QXR0cmlidXRlQ2hlY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnN0cmFpbnRDaGVjazogY2FsbGJhY2ssXG4gICAgICAgICAgbmFtZTogXy51bmlxdWVJZChcImNvbnN0cmFpbnRcIiksXG4gICAgICAgICAgZXh0ZXJuYWxDb25zdHJhaW50OiBmYWxzZSxcbiAgICAgICAgICBvbmNlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0Z1bmN0aW9uKHBhcmFtZXRlcnMuY29uc3RyYWludENoZWNrKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbiBldmVudCBuZWVkIGEgY2FsbGJhY2tcIik7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1ldGVycy5vbmNlID09PSB0cnVlKSB7XG4gICAgICAgIHBhcmFtZXRlcnMuZXZlbnRDYWxsYmFjayA9IF8ud3JhcChcbiAgICAgICAgICBwYXJhbWV0ZXJzLmNvbnN0cmFpbnRDaGVjayxcbiAgICAgICAgICBmdW5jdGlvbiBkY3BEb2N1bWVudF9vbmNlV3JhcHBlcihjYWxsYmFjaykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgXy5yZXN0KGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFdpZGdldC5yZW1vdmVDb25zdHJhaW50KFxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzLm5hbWUsXG4gICAgICAgICAgICAgIHBhcmFtZXRlcnMuZXh0ZXJuYWxDb25zdHJhaW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3B0aW9ucy5jb25zdHJhaW50TGlzdFtwYXJhbWV0ZXJzLm5hbWVdID0gcGFyYW1ldGVycztcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldEluaXRpYWxpc2VkXCIpICYmXG4gICAgICAgICF0aGlzLmVsZW1lbnQuZGF0YShcInZvaWRMb2FkZWRcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0XCIpLmFkZENvbnN0cmFpbnQocGFyYW1ldGVycyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyYW1ldGVycy5uYW1lO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTGlzdCB0aGUgY29uc3RyYWludCBvZiB0aGUgd2lkZ2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBsaXN0Q29uc3RyYWludHM6IGZ1bmN0aW9uIGRvY3VtZW50Q29udHJvbGxlckxpc3RDb25zdHJhaW50KCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0SW5pdGlhbGlzZWRcIikgJiZcbiAgICAgICAgIXRoaXMuZWxlbWVudC5kYXRhKFwidm9pZExvYWRlZFwiKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0XCIpLmxpc3RDb25zdHJhaW50cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jb25zdHJhaW50TGlzdDtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgY29uc3RyYWludCBvZiB0aGUgd2lkZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uc3RyYWludE5hbWVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgcmVtb3ZlQ29uc3RyYWludDogZnVuY3Rpb24gZGNwRG9jdW1lbnRfcmVtb3ZlQ29uc3RyYWludChjb25zdHJhaW50TmFtZSkge1xuICAgICAgdmFyIHJlbW92ZWQgPSBbXSxcbiAgICAgICAgbmV3Q29uc3RyYWludExpc3QsXG4gICAgICAgIGNvbnN0cmFpbnRMaXN0LFxuICAgICAgICB0ZXN0UmVnRXhwID0gbmV3IFJlZ0V4cChcIlxcXFxcIiArIGNvbnN0cmFpbnROYW1lICsgXCIkXCIpO1xuICAgICAgbmV3Q29uc3RyYWludExpc3QgPSBfLmZpbHRlcihcbiAgICAgICAgdGhpcy5vcHRpb25zLmNvbnN0cmFpbnRMaXN0LFxuICAgICAgICBmdW5jdGlvbiBkY3BEb2N1bWVudF9yZW1vdmVDb25zdHJhaW50KGN1cnJlbnRDb25zdHJhaW50KSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY3VycmVudENvbnN0cmFpbnQubmFtZSA9PT0gY29uc3RyYWludE5hbWUgfHxcbiAgICAgICAgICAgIHRlc3RSZWdFeHAudGVzdChjdXJyZW50Q29uc3RyYWludC5uYW1lKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGN1cnJlbnRDb25zdHJhaW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjb25zdHJhaW50TGlzdCA9IHt9O1xuICAgICAgXy5lYWNoKG5ld0NvbnN0cmFpbnRMaXN0LCBmdW5jdGlvbiBkY3BEb2N1bWVudF9yZWluaXRDb25zdHJhaW50KFxuICAgICAgICBjdXJyZW50Q29uc3RyYWludFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0cmFpbnRMaXN0W2N1cnJlbnRDb25zdHJhaW50Lm5hbWVdID0gY3VycmVudENvbnN0cmFpbnQ7XG4gICAgICB9KTtcbiAgICAgIHRoaXMub3B0aW9ucy5jb25zdHJhaW50TGlzdCA9IGNvbnN0cmFpbnRMaXN0O1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0SW5pdGlhbGlzZWRcIikgJiZcbiAgICAgICAgIXRoaXMuZWxlbWVudC5kYXRhKFwidm9pZExvYWRlZFwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudFxuICAgICAgICAgIC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRcIilcbiAgICAgICAgICAucmVtb3ZlQ29uc3RyYWludChjb25zdHJhaW50TmFtZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9LFxuXG4gICAgaXNMb2FkZWQ6IGZ1bmN0aW9uIGRjcERvY3VtZW50X2lzTG9hZGVkKCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldEluaXRpYWxpc2VkXCIpICYmXG4gICAgICAgICF0aGlzLmVsZW1lbnQuZGF0YShcInZvaWRMb2FkZWRcIilcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGluamVjdENTUzogZnVuY3Rpb24gZG9jdW1lbnRDb250cm9sbGVyX2luamVjdENTUyhjc3NUb0luamVjdCkge1xuICAgICAgaWYgKCFfLmlzQXJyYXkoY3NzVG9JbmplY3QpICYmICFfLmlzU3RyaW5nKGNzc1RvSW5qZWN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgY3NzIHRvIGluamVjdCBtdXN0IGJlIGFuIGFycmF5IHN0cmluZyBvciBhIHN0cmluZ1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoXy5pc1N0cmluZyhjc3NUb0luamVjdCkpIHtcbiAgICAgICAgY3NzVG9JbmplY3QgPSBbY3NzVG9JbmplY3RdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY3NzVG9JbmplY3QgPSBfLnVuaW9uKHRoaXMub3B0aW9ucy5jc3NUb0luamVjdCwgY3NzVG9JbmplY3QpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZWxlbWVudC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRJbml0aWFsaXNlZFwiKSAmJlxuICAgICAgICAhdGhpcy5lbGVtZW50LmRhdGEoXCJ2b2lkTG9hZGVkXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmRhdGEoXCJpbnRlcm5hbFdpZGdldFwiKS5pbmplY3RDU1MoY3NzVG9JbmplY3QpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBpbmplY3RKUzogZnVuY3Rpb24gZG9jdW1lbnRDb250cm9sbGVyX2luamVjdENTUyhqc1RvSW5qZWN0KSB7XG4gICAgICBpZiAoIV8uaXNBcnJheShqc1RvSW5qZWN0KSAmJiAhXy5pc1N0cmluZyhqc1RvSW5qZWN0KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUganMgdG8gaW5qZWN0IG11c3QgYmUgYW4gYXJyYXkgc3RyaW5nIG9yIGEgc3RyaW5nXCIpO1xuICAgICAgfVxuICAgICAgaWYgKF8uaXNTdHJpbmcoanNUb0luamVjdCkpIHtcbiAgICAgICAganNUb0luamVjdCA9IFtqc1RvSW5qZWN0XTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vcHRpb25zLmpzVG9JbmplY3QgPSBfLnVuaW9uKHRoaXMub3B0aW9ucy5qc1RvSW5qZWN0LCBqc1RvSW5qZWN0KTtcblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmVsZW1lbnQuZGF0YShcImludGVybmFsV2lkZ2V0SW5pdGlhbGlzZWRcIikgJiZcbiAgICAgICAgIXRoaXMuZWxlbWVudC5kYXRhKFwidm9pZExvYWRlZFwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5kYXRhKFwiaW50ZXJuYWxXaWRnZXRcIikuaW5qZWN0SlMoanNUb0luamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvL25vaW5zcGVjdGlvbiBKU1ZhbGlkYXRlSlNEb2NcbiAgLyoqXG4gICAqIFdyYXAgdGhlIGJyaWRnZSB0aGF0IGZpbmQgdGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkXG4gICAqIFNlYXJjaCBpbiB0aGUgY3VycmVudCB3aWRnZXQgaWYgdGhlIGZ1bmN0aW9uIGlzIGhlcmVcbiAgICogU2VhcmNoIGluIHRoZSBpbnRlcm5hbCB3aWRnZXQgKGlmIHJlYWR5IHRvIGZpbmQgdGhlIHdpZGdldClcbiAgICpcbiAgICogQHR5cGUge0Z1bmN0aW9ufGZ1bmN0aW9uKCk6IEZ1bmN0aW9ufGZ1bmN0aW9uKCk6IF9DaGFpbjxUPnwqfVxuICAgKi9cbiAgLy9ub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcbiAgJC5mbi5kb2N1bWVudCA9IF8ud3JhcCgkLmZuLmRvY3VtZW50LCBmdW5jdGlvbiBkY3BEb2N1bWVudF93cmFwKFxuICAgIGluaXRpYWxEb2N1bWVudEJyaWRnZSxcbiAgICBtZXRob2ROYW1lXG4gICkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgIHZhciBpc01ldGhvZENhbGwsIGludGVybmFsV2lkZ2V0O1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gaW5pdGlhbERvY3VtZW50QnJpZGdlLmFwcGx5KHRoaXMsIF8ucmVzdChhcmd1bWVudHMpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLm5hbWUgPT09IFwibm9TdWNoTWV0aG9kRXJyb3JcIikge1xuICAgICAgICBpc01ldGhvZENhbGwgPSB0eXBlb2YgbWV0aG9kTmFtZSA9PT0gXCJzdHJpbmdcIjtcbiAgICAgICAgaWYgKGlzTWV0aG9kQ2FsbCAmJiAhdGhpcy5kYXRhKFwiaW50ZXJuYWxXaWRnZXRJbml0aWFsaXNlZFwiKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvck5vdExvYWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGludGVybmFsV2lkZ2V0ID0gdGhpcy5kYXRhKFwiaW50ZXJuYWxXaWRnZXRcIik7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBfLmlzRnVuY3Rpb24oaW50ZXJuYWxXaWRnZXRbbWV0aG9kTmFtZV0pICYmXG4gICAgICAgICAgbWV0aG9kTmFtZS5jaGFyQXQoMCkgIT09IFwiX1wiXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBpbnRlcm5hbFdpZGdldFttZXRob2ROYW1lXS5hcHBseShcbiAgICAgICAgICAgIGludGVybmFsV2lkZ2V0LFxuICAgICAgICAgICAgXy5yZXN0KGFyZ3VtZW50cywgMilcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBLFdBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0b2f2c4ba8a17326d5a7\n");

/***/ })

}]);