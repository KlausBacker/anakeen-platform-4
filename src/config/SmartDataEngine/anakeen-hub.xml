<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sde:config xmlns:sde="https://platform.anakeen.com/4/schemas/sde/1.0">
    <sde:routes namespace="Core">
        <sde:route-override name="Root">
            <sde:callable>Anakeen\Hub\Routes\Hub</sde:callable>
            <sde:method>GET</sde:method>
            <sde:pattern>/</sde:pattern>
            <sde:pattern>/hub/station/[{args:.*}]</sde:pattern>
            <sde:description>Get Hub page</sde:description>
            <sde:requiredAccess>
                <sde:access ns="Anakeen">HubUser</sde:access>
            </sde:requiredAccess>
        </sde:route-override>
    </sde:routes>
    <sde:routes namespace="Anakeen">
        <sde:route name="hubAdmin">
            <sde:callable>Anakeen\Hub\Routes\HubAdmin</sde:callable>
            <sde:method>GET</sde:method>
            <sde:pattern>/hub/admin/</sde:pattern>
            <sde:description>Get Hub administration page</sde:description>
            <sde:requiredAccess>
                <sde:access ns="Anakeen">HubAdmin</sde:access>
            </sde:requiredAccess>
        </sde:route>
        <sde:route name="hubAdmConfigStruct">
            <sde:callable>Anakeen\Hub\Routes\HubAdmConfigStruct</sde:callable>
            <sde:method>GET</sde:method>
            <sde:pattern>/hub/admin/configurationStructures/</sde:pattern>
            <sde:description>Get inherited Smart Structures of the hub config smart structures </sde:description>
            <sde:requiredAccess>
                <sde:access ns="Anakeen">HubAdmin</sde:access>
            </sde:requiredAccess>
        </sde:route>
        <sde:route name="hubConfig">
            <sde:callable>Anakeen\Hub\Routes\MainConfiguration</sde:callable>
            <sde:method>GET</sde:method>
            <sde:pattern>/hub/config/</sde:pattern>
            <sde:description>Get initial config of the hub</sde:description>
            <sde:requiredAccess>
                <sde:access ns="Anakeen">HubUser</sde:access>
            </sde:requiredAccess>
        </sde:route>
        <sde:route name="hubElement">
            <sde:callable>Anakeen\Hub\Routes\HubElements</sde:callable>
            <sde:method>GET</sde:method>
            <sde:pattern>/hub/elements/</sde:pattern>
            <sde:description>Get elements hub activities and visibilities content</sde:description>
            <sde:requiredAccess>
                <sde:access ns="Anakeen">HubUser</sde:access>
            </sde:requiredAccess>
        </sde:route>
        <sde:route name="FAIcon">
            <sde:callable>Anakeen\Hub\Routes\FontAwesomeIcon</sde:callable>
            <sde:method>GET</sde:method>
            <sde:pattern>/hub/font/icons/</sde:pattern>
            <sde:description>Get font awesome icons</sde:description>
            <sde:requiredAccess>
                <sde:access ns="Anakeen">HubUser</sde:access>
            </sde:requiredAccess>
        </sde:route>
    </sde:routes>
    <sde:accesses namespace="Anakeen">
        <sde:access name="HubUser">
            <sde:description>Hub user access</sde:description>
        </sde:access>
        <sde:access name="HubAdmin">
            <sde:description>Hub administrator access</sde:description>
        </sde:access>
        <sde:route-access ref="HubAdmin" account="hub-admin-role"/>
        <sde:route-access ref="HubUser" account="hub-user-role"/>
    </sde:accesses>
    <sde:parameters namespace="Anakeen">
            <sde:parameter name="CONFIG">
                <sde:description>Hub configuration</sde:description>
                <sde:value>[]</sde:value>
                <sde:type>JSON</sde:type>
            </sde:parameter>
    </sde:parameters>
</sde:config>