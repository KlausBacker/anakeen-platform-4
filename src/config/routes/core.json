{
    "accesses": [],
    "routes": {
        "Core:GetDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentData",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid:[^\/.]+}[.json]",
            "description": "Get data for a document",
            "requiredAccesses": []
        },
        "Core:ModifyDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentUpdateData",
            "methods": [
                "put"
            ],
            "pattern": "\/api\/v2\/documents\/{docid:[^\/.]+}[.json]",
            "description": "Modify data for a document",
            "requiredAccesses": []
        },

        "Core:CreateDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\FamilyDocumentCreation",
            "methods": [
                "post"
            ],
            "pattern": "\/api\/v2\/families\/{family}\/documents/",
            "description": "Create document of family",
            "requiredAccesses": []
        },
        "Core:DeleteDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentDeleteData",
            "methods": [
                "delete"
            ],
            "pattern": "\/api\/v2\/documents\/{docid:[^\/.]+}[.json]",
            "description": "Delete document (put in trash)",
            "requiredAccesses": []
        },
        "Core:LockDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentLock",
            "methods": [
                "delete", "get", "post", "put"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/locks/{lockType:permanent|temporary}",
            "description": "Lock document",
            "requiredAccesses": []
        },
        "Core:LockFamilyDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentLock",
            "methods": [
                "delete", "get", "post", "put"
            ],
            "pattern": "\/api\/v2\/families\/{family}\/documents\/{docid}\/locks/{lockType:permanent|temporary}",
            "description": "Lock a family document",
            "requiredAccesses": []
        },

        "Core:DocumentUserTag": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentUserTag",
            "methods": [
                "delete", "get", "post", "put"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/usertags/{tag}",
            "description": "User Tag for document",
            "requiredAccesses": []
        },
        "Core:ListDocuments": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentList",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/",
            "description": "List all documents",
            "requiredAccesses": []
        },
        "Core:GetFamilyDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentFamilyData",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/families\/{family}\/documents\/{docid:[^\/.]+}[.json]",
            "description": "Get data for a document",
            "requiredAccesses": []
        },
        "Core:GetFamily": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\FamilyData",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/families\/{family:[^\/.]+}[.json]",
            "description": "Get data for a family",
            "requiredAccesses": []
        },
        "Core:ListFamilyDocuments": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\FamilyDocumentList",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/families\/{family}\/documents\/",
            "description": "List all documents of a family",
            "requiredAccesses": []
        },
        "Core:RevisionData": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\RevisionData",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/revisions\/{revisionNumber:[0-9]+}[.json]",
            "description": "Get a specific revision of a document",
            "requiredAccesses": []
        },
        "Core:FamilyRevisionData": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\RevisionFamilyData",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/families\/{family}\/documents\/{docid}\/revisions\/{revisionNumber:[0-9]+}[.json]",
            "description": "Get a specific revision of a document",
            "requiredAccesses": []
        },
        "Core:GetDeletedDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentDeletedData",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/trash\/{docid:[^\/.]+}[.json]",
            "description": "Get deleted data for a document",
            "requiredAccesses": []
        },
        "Core:UndeleteDocument": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentUndeleteData",
            "methods": [
                "put"
            ],
            "pattern": "\/api\/v2\/trash\/{docid:[^\/.]+}[.json]",
            "description": "Undelete document",
            "requiredAccesses": []
        },
        "Core:OriginalImage": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\ImageAsset",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/images\/assets\/original\/{image}",
            "description": "Download file image",
            "requiredAccesses": []
        },
        "Core:resizeImage": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\ImageAsset",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/images\/assets\/sizes\/{size:[0-9x]+[cfs]?}\/{image}",
            "description": "Download file image",
            "requiredAccesses": []
        },
        "Core:fileAttributeImage": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\FileAttribute",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/files\/{attrid}\/{index}\/{fileName}",
            "description": "Download file from document",
            "requiredAccesses": []
        },
        "Core:revisedFileAttributeImage": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\FileAttribute",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/revisions\/{revision}\/files\/{attrid}\/{index}\/{fileName}",
            "description": "Download file from document",
            "requiredAccesses": []
        },
        "Core:resizeAttributeImage": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\ImageAttribute",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/images\/{attrid}\/{index}\/sizes\/{size:[0-9x]+[cfs]?}[.{extension}]",
            "description": "Download file image from document",
            "requiredAccesses": []
        },
        "Core:resizeRevisedAttributeImage": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\ImageAttribute",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/revisions\/{revision}\/images\/{attrid}\/{index}\/sizes\/{size:[0-9x]+[cfs]?}[.{extension}]",
            "description": "Download file image from document",
            "requiredAccesses": []
        },
        "Core:FamilyEnum": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\Enumerates",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/families\/{family}\/enumerates\/{enum}",
            "description": "Content of the enumerate <attributeIdentifier> of the family <familyId>",
            "requiredAccesses": []
        },
        "Core:Workflow:StateList": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\WorkflowStateCollection",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/workflows\/states\/",
            "description": "List of availables next states",
            "requiredAccesses": []
        },
        "Core:Workflow:State": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\WorkflowState",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/workflows\/states\/{state}",
            "description": "Information about a workflow state",
            "requiredAccesses": []
        },
        "Core:Workflow:SetState": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\WorkflowSetState",
            "methods": [
                "post"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/workflows\/states\/{state}",
            "description": "Document go to a new state",
            "requiredAccesses": []
        },
        "Core:Workflow:Transition": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\WorkflowTransition",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/workflows\/transitions\/{transition}",
            "description": "Information about a workflow transition",
            "requiredAccesses": []
        },
        "Core:Workflow:SetTransition": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\WorkflowSetTransition",
            "methods": [
                "post"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/workflows\/transitions\/{transition}",
            "description": "Pass a transition",
            "requiredAccesses": []
        },
        "Core:Document:History": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Core\\DocumentHistory",
            "methods": [
                "get"
            ],
            "pattern": "\/api\/v2\/documents\/{docid}\/history/",
            "description": "Get document history information",
            "requiredAccesses": []
        }
    },
    "middlewares": {
        "Core:Middleware:ApiAuthent": {
            "priority": 1,
            "callable": "\\Anakeen\\Routes\\Middleware\\Authent::Authenticate",
            "methods": [
                "any"
            ],
            "pattern": "[/{args:.*}]",
            "description": "Verify authentication",
            "requiredAccesses": []
        }
    }
}