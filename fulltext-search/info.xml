<?xml version="1.0" encoding="UTF-8"?>
<module xmlns="https://platform.anakeen.com/4/schemas/app/1.0" name="fulltext-search" version="1.0.0-RC.2020.1.31" vendor="Anakeen" license="https://ap4.anakeen.com/license4.html">

    <description>Fulltext search</description>

    <requires>
        <module name="smart-data-engine" version="^2.1.0"/>
        <module name="admin-center" version="^2.1.0"/>
    </requires>


    <post-install>
        <process command="./ank.php --script=updateclass --class='Anakeen\Fullsearch\FileContentDatabase'">
            <label>Initialize system database</label>
        </process>
        <process command="./ank.php --script=../vendor/Anakeen/Fullsearch/Config/unaccentPgParser"/>

        <process command="./ank.php --script=importAccounts --file=./vendor/Anakeen/Fullsearch/Config/FullsearchRoles.xml"/>
        <process command="./ank.php --script=importDocuments --file=./vendor/Anakeen/Fullsearch/Config/hubConfiguration.xml"/>
        <process command="./ank.php --script=importConfiguration --file=./vendor/Anakeen/Fullsearch/Config/tasks.xml"/>
    </post-install>

    <reconfigure>
        <process command="./ank.php --script=../vendor/Anakeen/Fullsearch/Config/unaccentPgParser"/>
    </reconfigure>

</module>
