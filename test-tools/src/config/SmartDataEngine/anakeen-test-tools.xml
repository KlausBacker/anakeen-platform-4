<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sde:config xmlns:sde="https://platform.anakeen.com/4/schemas/sde/1.0">
   <sde:routes namespace="AnakeenTestTools">
    <sde:route name="TestCreateSmartElement">
      <sde:callable>Anakeen\TestTools\Routes\SmartElementCreation</sde:callable>
      <sde:method>POST</sde:method>
      <sde:pattern>/api/v2/test-tools/smart-structures/{structure}/smart-elements/</sde:pattern>
      <sde:description>Create smart element of structure</sde:description>
      <sde:requiredAccess>
        <sde:access ns="AnakeenTestTools">TestUser</sde:access>
      </sde:requiredAccess>
    </sde:route>
    <sde:route name="TestCleanSmartElement">
      <sde:callable>Anakeen\TestTools\Routes\SmartElementClean</sde:callable>
      <sde:method>DELETE</sde:method>
      <sde:pattern>/api/v2/test-tools/clean/{tag}/</sde:pattern>
      <sde:description>Clean test env</sde:description>
      <sde:requiredAccess>
        <sde:access ns="AnakeenTestTools">TestUser</sde:access>
      </sde:requiredAccess>
    </sde:route>
    <sde:route name="TestGetAccount">
      <sde:callable>Anakeen\TestTools\Routes\AccountInfos</sde:callable>
      <sde:method>GET</sde:method>
      <sde:pattern>/api/v2/test-tools/account/{login}/</sde:pattern>
      <sde:description>Get account informations</sde:description>
      <sde:requiredAccess>
        <sde:access ns="AnakeenTestTools">TestUser</sde:access>
      </sde:requiredAccess>
    </sde:route>
    <sde:route name="TestCreateAccount">
      <sde:callable>Anakeen\TestTools\Routes\CreateAccount</sde:callable>
      <sde:method>POST</sde:method>
      <sde:pattern>/api/v2/test-tools/accounts/</sde:pattern>
      <sde:description>Create account</sde:description>
      <sde:requiredAccess>
        <sde:access ns="AnakeenTestTools">TestUser</sde:access>
      </sde:requiredAccess>
    </sde:route>
    <sde:route name="TestAccountGroup">
      <sde:callable>Anakeen\TestTools\Routes\AccountGroup</sde:callable>
      <sde:method>PUT</sde:method>
      <sde:method>DELETE</sde:method>
      <sde:pattern>/api/v2/test-tools/groups/{group}/</sde:pattern>
      <sde:description>Add or remove account to a group</sde:description>
      <sde:requiredAccess>
        <sde:access ns="AnakeenTestTools">TestUser</sde:access>
      </sde:requiredAccess>
    </sde:route>
    <sde:route name="TestAccountRole">
      <sde:callable>Anakeen\TestTools\Routes\AccountRole</sde:callable>
      <sde:method>PUT</sde:method>
      <sde:method>DELETE</sde:method>
      <sde:pattern>/api/v2/test-tools/roles/{role}/</sde:pattern>
      <sde:description>Add or remove role to an account</sde:description>
      <sde:requiredAccess>
        <sde:access ns="AnakeenTestTools">TestUser</sde:access>
      </sde:requiredAccess>
    </sde:route>
   </sde:routes>
   <sde:accesses namespace="AnakeenTestTools">
        <sde:access name="TestUser">
            <sde:description>Test administrator access</sde:description>
        </sde:access>
        <sde:route-access ref="TestUser" account="test_user_role" />
    </sde:accesses>
</sde:config>