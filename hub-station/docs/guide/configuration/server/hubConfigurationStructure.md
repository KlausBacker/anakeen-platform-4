# Créer une entrée du Hub Station à partir d'un composant Vue

## Configuration de la structure
Pour définir une entrée de Hub de façon à pouvoir la configurer dans l'interface d'administration
du Hub, il suffit de créer une `Smart Structure` héritant de la structure `HUBCONFIGURATIONVUE`.

### Exemple :
```xml
<smart:config xmlns:smart="https://platform.anakeen.com/4/schemas/smart/1.0">
    <smart:structure-configuration name="HUBCONFIGURATIONHELLOWORLD" label="Hello world configuration">
        <smart:extends ref="HUBCONFIGURATIONVUE"/>
        <smart:class>Anakeen\Hub\SmartStructures\HubConfigurationHelloWorld\HubConfigurationHelloWorldBehavior</smart:class>
        <smart:fields>
            <smart:field-set name="hub_component_parameters" extended="true">
                <smart:field-text name="hello_msg" label="Hello Message"
                                  access="ReadWrite"/>
            </smart:field-set>
        </smart:fields>
    </smart:structure-configuration>
</smart:config>
```

La classe PHP associée doit alors simplement spécifier les informations sur le composant utilisé ainsi que les valeurs de ses propriétés intiales en surchargeant la méthode `Anakeen\Hub\SmartStructures\HubConfiguration\HubConfigurationBehavior:getComponentConfiguration`

```php
    protected function getComponentConfiguration()
    {
        return [
            // Name of the Vue.js component
            "name" => "hello-world",

            // Properties to use for the component
            "props" => [
                "msg" => $this->getAttributeValue("hello_msg")
            ]
        ];
    }
```

## Composant servi par une ressource externe

Le paramètre de structure `hub_jsasset` permet d'ajouter des ressources externes dans la page du Hub Station.

::: warning NOTE
Si un composant Vue est fourni par une ressource externe, cette ressource doit exposer une librairie de composants sous la forme d'un plugin Vue. 
:::

Pour l'initialiser :

```xml
<smart:defaults>
    <smart:default field="hello_test">FALSE</smart:default>
    <smart:default field="hub_jsasset" reset="true">
        <smart:field-callable function="Anakeen\Hub\SmartStructures\HubConfigurationHelloWorld\HubConfigurationHelloWorldBehavior::getJSAsset"/>
    </smart:default>
</smart:defaults>
```

La classe PHP associée doit fournir, en plus des informations sur le composant, le nom de la librairie exposée par la ressource externe et l'url vers cette dernière

```php
protected function getEntryOptions()
{
    $entryOptions = parent::getEntryOptions(); // TODO: Change the autogenerated stub
    $entryOptions["libName"] = "HubHelloWorld";
    return $entryOptions;
}

public function getJSAsset() {
    $asset = UIGetAssetPath::getElementAssets("helloWorld");
    if (isset($asset["hello-world"]["js"])) {
        return [
            $asset["hello-world"]["js"]
        ];
    }
}
```